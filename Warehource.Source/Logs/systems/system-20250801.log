2025-08-01 09:08:47.980 +08:00 [INF] Executed DbCommand (346ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Wcs.Source];
2025-08-01 09:08:48.180 +08:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Wcs.Source] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-08-01 09:08:48.215 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:08:48.316 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Wcs.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:08:48.319 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:08:48.349 +08:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:08:48.358 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:08:48.391 +08:00 [INF] Applying migration '20250723061944_InitialCreate'.
2025-08-01 09:08:48.484 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.JobConfig] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(50) NULL,
    [JobType] nvarchar(50) NOT NULL,
    [TimeOut] int NOT NULL,
    [Timer] int NOT NULL,
    [IsStart] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.JobConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:08:48.491 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.Region] (
    [Id] uniqueidentifier NOT NULL,
    [Code] nvarchar(20) NOT NULL,
    [Description] nvarchar(50) NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.Region] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:08:48.496 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.TaskExecuteStep] (
    [Id] uniqueidentifier NOT NULL,
    [StepIndex] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [ExecuteNodePath] uniqueidentifier NULL,
    [RegionId] uniqueidentifier NULL,
    [WcsTaskType] int NOT NULL,
    [Version] rowversion NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.TaskExecuteStep] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:08:48.502 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.ExecuteNodePath] (
    [Id] uniqueidentifier NOT NULL,
    [CurrentDeviceType] int NOT NULL,
    [CurrentDeviceName] nvarchar(20) NOT NULL,
    [RegionId] uniqueidentifier NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.ExecuteNodePath] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Wcs.ExecuteNodePath_Wcs.Region_RegionId] FOREIGN KEY ([RegionId]) REFERENCES [Wcs.Region] ([Id])
);
2025-08-01 09:08:48.509 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.WcsTask] (
    [Id] uniqueidentifier NOT NULL,
    [TaskCode] nvarchar(50) NULL,
    [SerialNumber] int NOT NULL,
    [TaskType] int NOT NULL,
    [TaskStatus] int NOT NULL,
    [Description] nvarchar(max) NULL,
    [GetLocation_GetTunnel] nvarchar(10) NULL,
    [GetLocation_GetFloor] nvarchar(10) NULL,
    [GetLocation_GetRow] nvarchar(10) NULL,
    [GetLocation_GetColumn] nvarchar(10) NULL,
    [GetLocation_GetDepth] nvarchar(10) NULL,
    [PutLocation_PutTunnel] nvarchar(10) NULL,
    [PutLocation_PutFloor] nvarchar(10) NULL,
    [PutLocation_PutRow] nvarchar(10) NULL,
    [PutLocation_PutColumn] nvarchar(10) NULL,
    [PutLocation_PutDepth] nvarchar(10) NULL,
    [IsRead] bit NOT NULL,
    [DeviceId] uniqueidentifier NULL,
    [RegionId] uniqueidentifier NULL,
    [TaskExecuteStepId] uniqueidentifier NOT NULL,
    [Version] rowversion NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.WcsTask] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Wcs.WcsTask_Wcs.TaskExecuteStep_TaskExecuteStepId] FOREIGN KEY ([TaskExecuteStepId]) REFERENCES [Wcs.TaskExecuteStep] ([Id]) ON DELETE CASCADE
);
2025-08-01 09:08:48.514 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.ExecuteNodePath_RegionId] ON [Wcs.ExecuteNodePath] ([RegionId]) WHERE [RegionId] IS NOT NULL;
2025-08-01 09:08:48.524 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.JobConfig_Name] ON [Wcs.JobConfig] ([Name]);
2025-08-01 09:08:48.529 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.Region_Code] ON [Wcs.Region] ([Code]);
2025-08-01 09:08:48.532 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.WcsTask_SerialNumber] ON [Wcs.WcsTask] ([SerialNumber]);
2025-08-01 09:08:48.536 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.WcsTask_TaskCode] ON [Wcs.WcsTask] ([TaskCode]) WHERE [TaskCode] IS NOT NULL;
2025-08-01 09:08:48.539 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Wcs.WcsTask_TaskExecuteStepId] ON [Wcs.WcsTask] ([TaskExecuteStepId]);
2025-08-01 09:08:48.543 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Wcs.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250723061944_InitialCreate', N'8.0.0');
2025-08-01 09:08:48.636 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:08:48.639 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:08:48.642 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:08:48.654 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Identity.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:08:48.666 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:08:48.668 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:08:48.671 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:08:48.676 +08:00 [INF] Applying migration '20250723075513_InitialCreate'.
2025-08-01 09:08:48.699 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.Role] (
    [Id] uniqueidentifier NOT NULL,
    [RoleName] nvarchar(50) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Identity.Role] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:08:48.705 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.User] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [Phone] nvarchar(max) NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(20) NOT NULL,
    [LockoutEnd] datetimeoffset NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Identity.User] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Identity.User_Identity.Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Identity.Role] ([Id]) ON DELETE CASCADE
);
2025-08-01 09:08:48.712 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE NONCLUSTERED INDEX [IX_Identity.Role_RoleName] ON [Identity.Role] ([RoleName]);
2025-08-01 09:08:48.715 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Identity.User_RoleId] ON [Identity.User] ([RoleId]);
2025-08-01 09:08:48.719 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE NONCLUSTERED INDEX [IX_Identity.User_Username] ON [Identity.User] ([Username]);
2025-08-01 09:08:48.725 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Identity.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250723075513_InitialCreate', N'8.0.0');
2025-08-01 09:08:48.880 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:08:48.883 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:08:48.886 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:08:48.895 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Plc.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:08:48.902 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:08:48.906 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:08:48.911 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:08:49.082 +08:00 [INF] Applying migration '20250801003222_InitialCreate'.
2025-08-01 09:08:49.106 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7NetConfig] (
    [Id] uniqueidentifier NOT NULL,
    [S7Type] int NOT NULL,
    [Solt] smallint NOT NULL,
    [Rack] smallint NOT NULL,
    [ReadTimeOut] int NOT NULL,
    [WriteTimeOut] int NOT NULL,
    [IsUse] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    [Ip] nvarchar(max) NOT NULL,
    [Port] int NOT NULL,
    CONSTRAINT [PK_Plc.S7NetConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:08:49.112 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7EntityItem] (
    [Id] uniqueidentifier NOT NULL,
    [Ip] nvarchar(20) NOT NULL,
    [S7DataType] int NOT NULL,
    [DBAddress] int NOT NULL,
    [DataOffset] int NOT NULL,
    [BitOffset] tinyint NULL,
    [S7BlockType] int NOT NULL,
    [Index] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [Name] nvarchar(20) NOT NULL,
    [ArrtypeLength] tinyint NULL,
    [DeviceName] nvarchar(max) NOT NULL,
    [IsUse] bit NOT NULL,
    [NetGuid] uniqueidentifier NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Plc.S7EntityItem] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Plc.S7EntityItem_Plc.S7NetConfig_NetGuid] FOREIGN KEY ([NetGuid]) REFERENCES [Plc.S7NetConfig] ([Id])
);
2025-08-01 09:08:49.117 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Plc.S7EntityItem_NetGuid] ON [Plc.S7EntityItem] ([NetGuid]);
2025-08-01 09:08:49.120 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Plc.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801003222_InitialCreate', N'8.0.0');
2025-08-01 09:08:49.293 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:08:49.302 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:08:49.305 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:08:49.308 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:08:49.310 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:08:49.311 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '777082968' initialized
2025-08-01 09:08:49.314 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:08:49.319 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:08:49.338 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:08:49.651 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:08:49.818 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:08:50.147 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:08:50.159 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:08:50.173 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:08:50.394 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:08:50.401 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:08:50.460 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:08:50.460 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:08:50.460 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_io6oyyg93snebar6bdq7bf93ro"
2025-08-01 09:08:50.460 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:08:50.474 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:08:50.535 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:08:50.542 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:08:50.546 +08:00 [INF] Hosting environment: Development
2025-08-01 09:08:50.549 +08:00 [INF] Scheduler JobScheduler_$_777082968 started.
2025-08-01 09:08:50.550 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:08:50.550 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:08:52.297 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:08:52.692 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 396.957ms
2025-08-01 09:08:53.054 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:08:53.071 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:08:53.267 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 212.7319ms
2025-08-01 09:09:18.134 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:09:33.788 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/user/add-adminrole - null 0
2025-08-01 09:09:33.797 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:09:33.804 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 09:09:35.947 +08:00 [INF] Executing endpoint 'HTTP: POST user/add-adminrole'
2025-08-01 09:09:36.188 +08:00 [INF] Executed DbCommand (114ms) [Parameters=[@__roleName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[CreationTime], [i].[Description], [i].[IsDeleted], [i].[LastModificationTime], [i].[LastModifierUser], [i].[RoleName]
FROM [Identity.Role] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[RoleName] = @__roleName_0
2025-08-01 09:09:36.443 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Identity.Role] ([Id], [CreationTime], [Description], [IsDeleted], [LastModificationTime], [LastModifierUser], [RoleName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-01 09:09:36.491 +08:00 [INF] Executed endpoint 'HTTP: POST user/add-adminrole'
2025-08-01 09:09:36.498 +08:00 [INF] HTTP POST /user/add-adminrole responded 200 in 2688.5232 ms
2025-08-01 09:09:36.537 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/user/add-adminrole - 200 null application/json; charset=utf-8 2748.6016ms
2025-08-01 09:09:44.509 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:09:44.835 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/user/add-adminuser - null 0
2025-08-01 09:09:44.844 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:09:44.854 +08:00 [INF] Executing endpoint 'HTTP: POST user/add-adminuser'
2025-08-01 09:09:44.897 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[CreationTime], [i].[Description], [i].[Email], [i].[IsDeleted], [i].[LastModificationTime], [i].[LastModifierUser], [i].[LockoutEnd], [i].[Name], [i].[Password], [i].[Phone], [i].[RoleId], [i].[Username]
FROM [Identity.User] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Username] = @__userName_0
2025-08-01 09:09:44.916 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__roleName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[CreationTime], [i].[Description], [i].[IsDeleted], [i].[LastModificationTime], [i].[LastModifierUser], [i].[RoleName]
FROM [Identity.Role] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[RoleName] = @__roleName_0
2025-08-01 09:09:44.986 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 20), @p10='?' (Size = 4000), @p11='?' (DbType = Guid), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Identity.User] ([Id], [CreationTime], [Description], [Email], [IsDeleted], [LastModificationTime], [LastModifierUser], [LockoutEnd], [Name], [Password], [Phone], [RoleId], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-08-01 09:09:45.010 +08:00 [INF] Executed endpoint 'HTTP: POST user/add-adminuser'
2025-08-01 09:09:45.011 +08:00 [INF] HTTP POST /user/add-adminuser responded 200 in 162.3228 ms
2025-08-01 09:09:45.014 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/user/add-adminuser - 200 null application/json; charset=utf-8 179.2157ms
2025-08-01 09:10:09.118 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:10:21.195 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundaryk6v2F7S4Yad9nz9V 11021
2025-08-01 09:10:21.214 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:10:21.221 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:10:23.643 +08:00 [INF] Executed endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:10:23.647 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-01 09:10:23.711 +08:00 [ERR] An exception was thrown attempting to execute the error handler.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Common.Infrastructure.Middleware.GlobalExceptionHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalExceptionHandler.cs:line 28
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2025-08-01 09:10:23.718 +08:00 [ERR] HTTP POST /plc/add-allplc-config responded 500 in 2500.8345 ms
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-08-01 09:10:23.731 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Common.Infrastructure.Middleware.GlobalEncodingRequestMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalEncodingRequestMiddleware.cs:line 35
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 30
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-01 09:10:23.777 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - 500 null application/problem+json 2581.1594ms
2025-08-01 09:10:35.480 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:11:01.607 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:11:28.158 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:11:40.159 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundaryaZGA8BWtfL7V3OG6 11021
2025-08-01 09:11:40.164 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:11:40.166 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:11:40.178 +08:00 [INF] Executed endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:11:40.179 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-01 09:11:40.185 +08:00 [ERR] An exception was thrown attempting to execute the error handler.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Common.Infrastructure.Middleware.GlobalExceptionHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalExceptionHandler.cs:line 28
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2025-08-01 09:11:40.186 +08:00 [ERR] HTTP POST /plc/add-allplc-config responded 500 in 20.4080 ms
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-08-01 09:11:40.191 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Common.Infrastructure.Middleware.GlobalEncodingRequestMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalEncodingRequestMiddleware.cs:line 35
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 30
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-01 09:11:40.197 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - 500 null application/problem+json 37.1313ms
2025-08-01 09:11:45.294 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundary9JCvDgJLforLTjWb 11021
2025-08-01 09:11:45.296 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:11:45.297 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:11:45.309 +08:00 [INF] Executed endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:11:45.310 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-01 09:11:45.314 +08:00 [ERR] An exception was thrown attempting to execute the error handler.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Common.Infrastructure.Middleware.GlobalExceptionHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalExceptionHandler.cs:line 28
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2025-08-01 09:11:45.315 +08:00 [ERR] HTTP POST /plc/add-allplc-config responded 500 in 18.0069 ms
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-08-01 09:11:45.318 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Common.Infrastructure.Middleware.GlobalEncodingRequestMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalEncodingRequestMiddleware.cs:line 35
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 30
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-01 09:11:45.322 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - 500 null application/problem+json 27.8473ms
2025-08-01 09:11:56.307 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:11:58.473 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundary6YoWYNFS8tpeCq8c 11021
2025-08-01 09:11:58.475 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:11:58.475 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:11:58.481 +08:00 [INF] Executed endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:11:58.482 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-01 09:11:58.486 +08:00 [ERR] An exception was thrown attempting to execute the error handler.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Common.Infrastructure.Middleware.GlobalExceptionHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalExceptionHandler.cs:line 28
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2025-08-01 09:11:58.487 +08:00 [ERR] HTTP POST /plc/add-allplc-config responded 500 in 12.2616 ms
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-08-01 09:11:58.491 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Common.Infrastructure.Middleware.GlobalEncodingRequestMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalEncodingRequestMiddleware.cs:line 35
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 30
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-01 09:11:58.497 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - 500 null application/problem+json 23.9928ms
2025-08-01 09:12:10.852 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundaryBR9H50J19R7qdedL 11021
2025-08-01 09:12:10.860 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:12:10.864 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:12:10.884 +08:00 [INF] Executed endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:12:10.890 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-01 09:12:10.911 +08:00 [ERR] An exception was thrown attempting to execute the error handler.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Common.Infrastructure.Middleware.GlobalExceptionHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalExceptionHandler.cs:line 28
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2025-08-01 09:12:10.917 +08:00 [ERR] HTTP POST /plc/add-allplc-config responded 500 in 53.1164 ms
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-08-01 09:12:10.931 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Common.Infrastructure.Middleware.GlobalEncodingRequestMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalEncodingRequestMiddleware.cs:line 35
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 30
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-01 09:12:10.945 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - 500 null application/problem+json 92.2196ms
2025-08-01 09:12:15.351 +08:00 [INF] Application is shutting down...
2025-08-01 09:12:15.380 +08:00 [DBG] Stopping bus instances: IBus
2025-08-01 09:12:15.387 +08:00 [DBG] Stopping bus: "loopback://localhost/"
2025-08-01 09:12:15.405 +08:00 [DBG] Endpoint Stopping: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:12:15.410 +08:00 [DBG] Consumer Stopping: "loopback://localhost/WcsIntegrationEvent" (Stop Receive Transport)
2025-08-01 09:12:15.427 +08:00 [DBG] Endpoint Completed: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:12:15.458 +08:00 [DBG] Consumer Completed: "loopback://localhost/WcsIntegrationEvent": 0 received, 0 concurrent
2025-08-01 09:12:15.467 +08:00 [DBG] Endpoint Stopping: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:12:15.469 +08:00 [DBG] Consumer Stopping: "loopback://localhost/S7ReadPlcDataBlockEvent" (Stop Receive Transport)
2025-08-01 09:12:15.471 +08:00 [DBG] Endpoint Completed: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:12:15.472 +08:00 [DBG] Consumer Completed: "loopback://localhost/S7ReadPlcDataBlockEvent": 0 received, 0 concurrent
2025-08-01 09:12:15.475 +08:00 [DBG] Endpoint Stopping: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:12:15.476 +08:00 [DBG] Consumer Stopping: "loopback://localhost/S7WritePlcDataBlockEvent" (Stop Receive Transport)
2025-08-01 09:12:15.476 +08:00 [DBG] Endpoint Completed: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:12:15.477 +08:00 [DBG] Consumer Completed: "loopback://localhost/S7WritePlcDataBlockEvent": 0 received, 0 concurrent
2025-08-01 09:12:15.482 +08:00 [DBG] Endpoint Stopping: "loopback://localhost/_WarehourceSource_bus_io6oyyg93snebar6bdq7bf93ro"
2025-08-01 09:12:15.483 +08:00 [DBG] Consumer Stopping: "loopback://localhost/_WarehourceSource_bus_io6oyyg93snebar6bdq7bf93ro" (Stop Receive Transport)
2025-08-01 09:12:15.484 +08:00 [DBG] Endpoint Completed: "loopback://localhost/_WarehourceSource_bus_io6oyyg93snebar6bdq7bf93ro"
2025-08-01 09:12:15.484 +08:00 [DBG] Consumer Completed: "loopback://localhost/_WarehourceSource_bus_io6oyyg93snebar6bdq7bf93ro": 0 received, 0 concurrent
2025-08-01 09:12:15.502 +08:00 [INF] Bus stopped: "loopback://localhost/"
2025-08-01 09:12:15.508 +08:00 [INF] Scheduler JobScheduler_$_777082968 shutting down.
2025-08-01 09:12:15.511 +08:00 [INF] Scheduler JobScheduler_$_777082968 paused.
2025-08-01 09:12:15.515 +08:00 [DBG] Shutting down threadpool...
2025-08-01 09:12:15.516 +08:00 [DBG] Waiting for 0 threads to complete.
2025-08-01 09:12:15.517 +08:00 [DBG] No executing jobs remaining, all threads stopped.
2025-08-01 09:12:15.520 +08:00 [DBG] Shutdown of threadpool complete.
2025-08-01 09:12:15.524 +08:00 [INF] Scheduler JobScheduler_$_777082968 Shutdown complete.
2025-08-01 09:12:32.757 +08:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:12:32.828 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:12:32.833 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:12:32.835 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:12:32.849 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:12:32.868 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:12:32.900 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:12:32.902 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:12:32.905 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:12:32.908 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:12:32.912 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:12:32.914 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:12:32.969 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:12:32.972 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:12:32.974 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:12:32.978 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:12:32.981 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:12:32.991 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:12:33.102 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:12:33.115 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:12:33.116 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:12:33.117 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:12:33.118 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:12:33.119 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '2119923013' initialized
2025-08-01 09:12:33.120 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:12:33.121 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:12:33.133 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:12:33.350 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:12:33.450 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:12:33.530 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:12:33.534 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:12:33.536 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:12:33.778 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:12:33.783 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:12:33.853 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:12:33.853 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:12:33.853 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_9ysyyyg93sneyk4mbdq7bgd6gb"
2025-08-01 09:12:33.853 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:12:33.857 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:12:33.918 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:12:33.920 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:12:33.920 +08:00 [INF] Hosting environment: Development
2025-08-01 09:12:33.921 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:12:33.925 +08:00 [INF] Scheduler JobScheduler_$_2119923013 started.
2025-08-01 09:12:33.927 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:12:34.147 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:12:34.488 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 343.4276ms
2025-08-01 09:12:34.722 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:12:34.733 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:12:34.909 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 187.983ms
2025-08-01 09:12:45.453 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundaryNgrbWBbt5b8FSKxM 11021
2025-08-01 09:12:45.470 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:12:45.484 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 09:12:45.645 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:13:03.071 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:13:29.636 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:13:59.089 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:14:02.811 +08:00 [INF] Executed endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:14:02.813 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 51
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-01 09:15:14.416 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:15:14.469 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:15:14.473 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:15:14.475 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:15:14.484 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:15:14.494 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:15:14.529 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:15:14.531 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:15:14.535 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:15:14.538 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:15:14.542 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:15:14.544 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:15:14.604 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:15:14.607 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:15:14.609 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:15:14.611 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:15:14.614 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:15:14.621 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:15:14.711 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:15:14.724 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:15:14.725 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:15:14.726 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:15:14.726 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:15:14.729 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-1573104391' initialized
2025-08-01 09:15:14.731 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:15:14.732 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:15:14.740 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:15:14.906 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:15:14.987 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:15:15.034 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:15:15.037 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:15:15.039 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:15:15.212 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:15:15.215 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:15:15.276 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:15:15.276 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:15:15.276 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_uowoyyg93sneyfa1bdq7bgg9yn"
2025-08-01 09:15:15.276 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:15:15.277 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:15:15.364 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:15:15.369 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:15:15.518 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:15:15.519 +08:00 [INF] Hosting environment: Development
2025-08-01 09:15:15.519 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:15:15.522 +08:00 [INF] Scheduler JobScheduler_$_-1573104391 started.
2025-08-01 09:15:15.523 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:15:15.819 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:15:15.995 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 181.8747ms
2025-08-01 09:15:16.142 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 09:15:16.142 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 09:15:16.147 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.167ms
2025-08-01 09:15:16.177 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.1111ms
2025-08-01 09:15:16.240 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:15:16.253 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.4725ms
2025-08-01 09:15:38.029 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundaryKwauwHqgUh2OFAyS 11021
2025-08-01 09:15:38.036 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:15:38.040 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 09:15:38.082 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:16:28.639 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:16:28.676 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:16:28.679 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:16:28.680 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:16:28.687 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:16:28.695 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:16:28.713 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:16:28.715 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:16:28.717 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:16:28.718 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:16:28.720 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:16:28.722 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:16:28.783 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:16:28.787 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:16:28.789 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:16:28.790 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:16:28.793 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:16:28.799 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:16:28.877 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:16:28.886 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:16:28.886 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:16:28.887 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:16:28.888 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:16:28.889 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '156634381' initialized
2025-08-01 09:16:28.889 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:16:28.890 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:16:28.897 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:16:29.060 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:16:29.136 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:16:29.184 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:16:29.188 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:16:29.191 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:16:29.378 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:16:29.389 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:16:29.458 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:16:29.458 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:16:29.458 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:16:29.458 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_9yxoyyg93snebhwrbdq7bgembi"
2025-08-01 09:16:29.460 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:16:29.548 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:16:29.565 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:16:29.709 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:16:29.711 +08:00 [INF] Hosting environment: Development
2025-08-01 09:16:29.712 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:16:29.712 +08:00 [INF] Scheduler JobScheduler_$_156634381 started.
2025-08-01 09:16:29.714 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:16:30.084 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:16:30.267 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 192.4771ms
2025-08-01 09:16:30.283 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 09:16:30.290 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.4047ms
2025-08-01 09:16:30.430 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 09:16:30.464 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.9636ms
2025-08-01 09:16:30.517 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:16:30.535 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.3566ms
2025-08-01 09:16:37.990 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundary3a3YCrbp5RdfIE5v 11021
2025-08-01 09:16:38.002 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:16:38.008 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 09:16:38.074 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:18:58.171 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:18:58.224 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:18:58.228 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:18:58.233 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:18:58.253 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:18:58.265 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:18:58.296 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:18:58.300 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:18:58.303 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:18:58.305 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:18:58.310 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:18:58.313 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:18:58.395 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:18:58.400 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:18:58.403 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:18:58.407 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:18:58.414 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:18:58.489 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:18:58.582 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:18:58.591 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:18:58.593 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:18:58.595 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:18:58.596 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:18:58.597 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-759486031' initialized
2025-08-01 09:18:58.598 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:18:58.600 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:18:58.608 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:18:58.773 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:18:58.864 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:18:58.920 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:18:58.926 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:18:58.929 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:18:59.127 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:18:59.131 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:18:59.202 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_4tcyyyg93snebi8obdq7bgmrdz"
2025-08-01 09:18:59.202 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:18:59.202 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:18:59.202 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:18:59.204 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:18:59.293 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:18:59.299 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:18:59.427 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:18:59.430 +08:00 [INF] Hosting environment: Development
2025-08-01 09:18:59.432 +08:00 [INF] Scheduler JobScheduler_$_-759486031 started.
2025-08-01 09:18:59.432 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:18:59.432 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:18:59.916 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:19:00.109 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 199.206ms
2025-08-01 09:19:00.263 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 09:19:00.263 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 09:19:00.275 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 11.8992ms
2025-08-01 09:19:00.309 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.2706ms
2025-08-01 09:19:00.354 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:19:00.369 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.6073ms
2025-08-01 09:19:10.651 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundaryfmlBUvWh3maUZI1h 11021
2025-08-01 09:19:10.671 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:19:10.677 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 09:19:10.824 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:21:44.838 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:21:44.886 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:21:44.891 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:21:44.895 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:21:44.904 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:21:44.916 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:21:44.938 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:21:44.942 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:21:44.945 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:21:44.951 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:21:44.955 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:21:44.959 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:22:04.781 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:22:04.788 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:22:04.793 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:22:04.798 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:22:04.804 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:22:04.810 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:22:04.907 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:22:05.020 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:22:05.066 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:22:05.069 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:22:05.072 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:22:05.075 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-654726669' initialized
2025-08-01 09:22:05.077 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:22:05.102 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:22:05.120 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:22:05.637 +08:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:22:05.830 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:22:05.923 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:22:05.928 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:22:05.932 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:22:06.290 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:22:06.295 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:22:06.381 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:22:06.381 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:22:06.382 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:22:06.407 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_jtgyyyg93snebkf1bdq7bgqwyf"
2025-08-01 09:22:06.417 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:22:06.520 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:22:06.534 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:22:06.755 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:22:06.770 +08:00 [INF] Scheduler JobScheduler_$_-654726669 started.
2025-08-01 09:22:06.772 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:22:06.774 +08:00 [INF] Hosting environment: Development
2025-08-01 09:22:06.782 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:22:06.936 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:22:07.171 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 244.529ms
2025-08-01 09:22:07.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 09:22:07.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 09:22:07.352 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 10.7791ms
2025-08-01 09:22:07.390 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.7487ms
2025-08-01 09:22:07.436 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:22:07.462 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.6492ms
2025-08-01 09:22:19.539 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/user/user-login - application/json 46
2025-08-01 09:22:19.552 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:22:19.560 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 09:22:19.628 +08:00 [INF] Executing endpoint 'HTTP: POST user/user-login'
2025-08-01 09:22:19.920 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[CreationTime], [i].[Description], [i].[Email], [i].[IsDeleted], [i].[LastModificationTime], [i].[LastModifierUser], [i].[LockoutEnd], [i].[Name], [i].[Password], [i].[Phone], [i].[RoleId], [i].[Username], [t].[Id], [t].[CreationTime], [t].[Description], [t].[IsDeleted], [t].[LastModificationTime], [t].[LastModifierUser], [t].[RoleName]
FROM [Identity.User] AS [i]
INNER JOIN (
    SELECT [i0].[Id], [i0].[CreationTime], [i0].[Description], [i0].[IsDeleted], [i0].[LastModificationTime], [i0].[LastModifierUser], [i0].[RoleName]
    FROM [Identity.Role] AS [i0]
    WHERE [i0].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [i].[RoleId] = [t].[Id]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Username] = @__userName_0
2025-08-01 09:22:19.963 +08:00 [INF] Executed endpoint 'HTTP: POST user/user-login'
2025-08-01 09:22:19.969 +08:00 [INF] HTTP POST /user/user-login responded 200 in 401.0543 ms
2025-08-01 09:22:19.976 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/user/user-login - 200 null text/plain; charset=utf-8 436.6778ms
2025-08-01 09:22:31.242 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:23:01.206 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:23:13.166 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/job/add-job - application/json 134
2025-08-01 09:23:13.197 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:23:13.280 +08:00 [INF] Executing endpoint 'HTTP: POST job/add-job'
2025-08-01 09:23:14.128 +08:00 [INF] Executed endpoint 'HTTP: POST job/add-job'
2025-08-01 09:23:14.244 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no matching element
   at System.Linq.ThrowHelper.ThrowNoMatchException()
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source, Func`2 predicate)
   at Wcs.Application.Job.Insert.AddJobEventHandler.Handle(AddJobEvent request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Wcs.Application\Job\Insert\AddJobEventHandler.cs:line 34
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Wcs.Presentation.Job.Add.AddJobConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Wcs.Presentation\Job\Add\AddJobConfig.cs:line 20
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-01 09:23:29.826 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:23:31.167 +08:00 [ERR] An exception was thrown attempting to execute the error handler.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Common.Infrastructure.Middleware.GlobalExceptionHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalExceptionHandler.cs:line 28
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2025-08-01 09:23:31.242 +08:00 [ERR] HTTP POST /job/add-job responded 500 in 18035.9436 ms
System.InvalidOperationException: Sequence contains no matching element
   at System.Linq.ThrowHelper.ThrowNoMatchException()
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source, Func`2 predicate)
   at Wcs.Application.Job.Insert.AddJobEventHandler.Handle(AddJobEvent request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Wcs.Application\Job\Insert\AddJobEventHandler.cs:line 34
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Wcs.Presentation.Job.Add.AddJobConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Wcs.Presentation\Job\Add\AddJobConfig.cs:line 20
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-08-01 09:23:31.367 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no matching element
   at System.Linq.ThrowHelper.ThrowNoMatchException()
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source, Func`2 predicate)
   at Wcs.Application.Job.Insert.AddJobEventHandler.Handle(AddJobEvent request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Wcs.Application\Job\Insert\AddJobEventHandler.cs:line 34
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Wcs.Presentation.Job.Add.AddJobConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Wcs.Presentation\Job\Add\AddJobConfig.cs:line 20
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Common.Infrastructure.Middleware.GlobalEncodingRequestMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalEncodingRequestMiddleware.cs:line 35
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 30
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-01 09:23:31.427 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/job/add-job - 500 null application/problem+json 18259.7009ms
2025-08-01 09:23:42.027 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/job/add-job - application/json 134
2025-08-01 09:23:42.063 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:23:42.070 +08:00 [INF] Executing endpoint 'HTTP: POST job/add-job'
2025-08-01 09:23:42.200 +08:00 [DBG] Batch acquisition of 1 triggers
2025-08-01 09:23:42.219 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:23:42.227 +08:00 [DBG] Calling Execute on job DEFAULT.RealPlc
2025-08-01 09:23:42.255 +08:00 [DBG] Create send transport: "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent"
2025-08-01 09:23:42.355 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (Size = 50), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Wcs.JobConfig] ([Id], [CreationTime], [Description], [IsDeleted], [IsStart], [JobType], [LastModificationTime], [LastModifierUser], [Name], [TimeOut], [Timer])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-08-01 09:23:42.398 +08:00 [INF] Executed endpoint 'HTTP: POST job/add-job'
2025-08-01 09:23:42.400 +08:00 [INF] HTTP POST /job/add-job responded 200 in 333.8554 ms
2025-08-01 09:23:42.412 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "4c4c0000-dfcd-8480-753e-08ddd09a0d45" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 09:23:42.413 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/job/add-job - 200 null application/json; charset=utf-8 386.0674ms
2025-08-01 09:23:42.422 +08:00 [DBG] Trigger instruction : NoInstruction
2025-08-01 09:23:42.425 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:23:48.842 +08:00 [DBG] RECEIVE "loopback://localhost/S7ReadPlcDataBlockEvent" "4c4c0000-dfcd-8480-753e-08ddd09a0d45" Plc.CustomEvents.S7ReadPlcDataBlockEvent Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>("00:00:06.3915409")
2025-08-01 09:24:01.378 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/plc/get-allplc - null null
2025-08-01 09:24:01.390 +08:00 [INF] Executing endpoint 'HTTP: GET plc/get-allplc'
2025-08-01 09:24:01.443 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ip_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationTime], [t].[Ip], [t].[IsDeleted], [t].[IsUse], [t].[LastModificationTime], [t].[LastModifierUser], [t].[Port], [t].[Rack], [t].[ReadTimeOut], [t].[S7Type], [t].[Solt], [t].[WriteTimeOut], [t0].[Id], [t0].[ArrtypeLength], [t0].[BitOffset], [t0].[CreationTime], [t0].[DBAddress], [t0].[DataOffset], [t0].[Description], [t0].[DeviceName], [t0].[Index], [t0].[Ip], [t0].[IsDeleted], [t0].[IsUse], [t0].[LastModificationTime], [t0].[LastModifierUser], [t0].[Name], [t0].[NetGuid], [t0].[S7BlockType], [t0].[S7DataType]
FROM (
    SELECT TOP(1) [p].[Id], [p].[CreationTime], [p].[Ip], [p].[IsDeleted], [p].[IsUse], [p].[LastModificationTime], [p].[LastModifierUser], [p].[Port], [p].[Rack], [p].[ReadTimeOut], [p].[S7Type], [p].[Solt], [p].[WriteTimeOut]
    FROM [Plc.S7NetConfig] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[Ip] = @__ip_0
) AS [t]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[ArrtypeLength], [p0].[BitOffset], [p0].[CreationTime], [p0].[DBAddress], [p0].[DataOffset], [p0].[Description], [p0].[DeviceName], [p0].[Index], [p0].[Ip], [p0].[IsDeleted], [p0].[IsUse], [p0].[LastModificationTime], [p0].[LastModifierUser], [p0].[Name], [p0].[NetGuid], [p0].[S7BlockType], [p0].[S7DataType]
    FROM [Plc.S7EntityItem] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[NetGuid]
ORDER BY [t].[Id]
2025-08-01 09:28:44.788 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:28:44.847 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:28:44.854 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:28:44.859 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:28:44.868 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:28:44.879 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:28:44.901 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:28:44.907 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:28:44.910 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:28:44.913 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:28:44.917 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:28:44.920 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:28:44.989 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:28:44.992 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:28:44.996 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:28:45.000 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:28:45.005 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:28:45.015 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:28:45.109 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:28:45.122 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:28:45.124 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:28:45.126 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:28:45.130 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:28:45.133 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '1350512722' initialized
2025-08-01 09:28:45.134 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:28:45.136 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:28:45.150 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:28:45.318 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:28:45.487 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:28:45.539 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:28:45.546 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:28:45.550 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:28:45.757 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:28:45.762 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:28:45.850 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_jnboyyg93snebejxbdq7bgsny6"
2025-08-01 09:28:45.850 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:28:45.850 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:28:45.850 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:28:45.852 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:28:45.955 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:28:45.965 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:28:46.096 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:28:46.098 +08:00 [INF] Hosting environment: Development
2025-08-01 09:28:46.098 +08:00 [INF] Scheduler JobScheduler_$_1350512722 started.
2025-08-01 09:28:46.099 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:28:46.099 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:28:46.491 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:28:46.672 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 189.2356ms
2025-08-01 09:28:46.892 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 09:28:46.892 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 09:28:46.917 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 25.0938ms
2025-08-01 09:28:46.933 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.5148ms
2025-08-01 09:28:46.966 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:28:46.999 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.2696ms
2025-08-01 09:29:15.652 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:29:43.062 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:30:08.946 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:30:32.435 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:30:58.702 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:31:25.644 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:34:47.204 +08:00 [INF] Executed DbCommand (305ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Wcs.Source];
2025-08-01 09:34:47.341 +08:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Wcs.Source] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-08-01 09:34:47.357 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:34:47.403 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Wcs.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:34:47.412 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:34:47.425 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:34:47.430 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:34:47.446 +08:00 [INF] Applying migration '20250801013434_InitialCreate'.
2025-08-01 09:34:47.493 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.Device] (
    [Id] uniqueidentifier NOT NULL,
    [DeviceType] int NOT NULL,
    [DeviceName] nvarchar(450) NOT NULL,
    [Config] nvarchar(max) NOT NULL,
    [Enable] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.Device] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:34:47.499 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.JobConfig] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(50) NULL,
    [JobType] nvarchar(50) NOT NULL,
    [TimeOut] int NOT NULL,
    [Timer] int NOT NULL,
    [IsStart] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.JobConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:34:47.505 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.Region] (
    [Id] uniqueidentifier NOT NULL,
    [Code] nvarchar(20) NOT NULL,
    [Description] nvarchar(50) NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.Region] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:34:47.513 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.TaskExecuteStep] (
    [Id] uniqueidentifier NOT NULL,
    [StepIndex] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [ExecuteNodePath] uniqueidentifier NULL,
    [RegionId] uniqueidentifier NULL,
    [WcsTaskType] int NOT NULL,
    [Version] rowversion NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.TaskExecuteStep] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:34:47.519 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ExecuteNodes] (
    [Id] uniqueidentifier NOT NULL,
    [CurrentDeviceType] int NOT NULL,
    [CurrentDeviceName] nvarchar(max) NOT NULL,
    [RegionId] uniqueidentifier NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_ExecuteNodes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ExecuteNodes_Wcs.Region_RegionId] FOREIGN KEY ([RegionId]) REFERENCES [Wcs.Region] ([Id])
);
2025-08-01 09:34:47.528 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.WcsTask] (
    [Id] uniqueidentifier NOT NULL,
    [TaskCode] nvarchar(50) NULL,
    [SerialNumber] int NOT NULL,
    [TaskType] int NOT NULL,
    [TaskStatus] int NOT NULL,
    [Description] nvarchar(max) NULL,
    [GetLocation_GetTunnel] nvarchar(10) NULL,
    [GetLocation_GetFloor] nvarchar(10) NULL,
    [GetLocation_GetRow] nvarchar(10) NULL,
    [GetLocation_GetColumn] nvarchar(10) NULL,
    [GetLocation_GetDepth] nvarchar(10) NULL,
    [PutLocation_PutTunnel] nvarchar(10) NULL,
    [PutLocation_PutFloor] nvarchar(10) NULL,
    [PutLocation_PutRow] nvarchar(10) NULL,
    [PutLocation_PutColumn] nvarchar(10) NULL,
    [PutLocation_PutDepth] nvarchar(10) NULL,
    [IsRead] bit NOT NULL,
    [DeviceId] uniqueidentifier NULL,
    [RegionId] uniqueidentifier NULL,
    [TaskExecuteStepId] uniqueidentifier NOT NULL,
    [Version] rowversion NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.WcsTask] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Wcs.WcsTask_Wcs.TaskExecuteStep_TaskExecuteStepId] FOREIGN KEY ([TaskExecuteStepId]) REFERENCES [Wcs.TaskExecuteStep] ([Id]) ON DELETE CASCADE
);
2025-08-01 09:34:47.533 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ExecuteNodes_RegionId] ON [ExecuteNodes] ([RegionId]);
2025-08-01 09:34:47.538 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.Device_DeviceName] ON [Wcs.Device] ([DeviceName]);
2025-08-01 09:34:47.542 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.JobConfig_Name] ON [Wcs.JobConfig] ([Name]);
2025-08-01 09:34:47.545 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.Region_Code] ON [Wcs.Region] ([Code]);
2025-08-01 09:34:47.549 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.WcsTask_SerialNumber] ON [Wcs.WcsTask] ([SerialNumber]);
2025-08-01 09:34:47.552 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.WcsTask_TaskCode] ON [Wcs.WcsTask] ([TaskCode]) WHERE [TaskCode] IS NOT NULL;
2025-08-01 09:34:47.556 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Wcs.WcsTask_TaskExecuteStepId] ON [Wcs.WcsTask] ([TaskExecuteStepId]);
2025-08-01 09:34:47.560 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Wcs.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801013434_InitialCreate', N'8.0.0');
2025-08-01 09:34:47.606 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:34:47.614 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:34:47.618 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:34:47.626 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Identity.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:34:47.630 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:34:47.633 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:34:47.636 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:34:47.639 +08:00 [INF] Applying migration '20250801013315_InitialCreate'.
2025-08-01 09:34:47.651 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.Role] (
    [Id] uniqueidentifier NOT NULL,
    [RoleName] nvarchar(50) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Identity.Role] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:34:47.659 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.User] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [Phone] nvarchar(max) NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(20) NOT NULL,
    [LockoutEnd] datetimeoffset NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Identity.User] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Identity.User_Identity.Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Identity.Role] ([Id]) ON DELETE CASCADE
);
2025-08-01 09:34:47.664 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE NONCLUSTERED INDEX [IX_Identity.Role_RoleName] ON [Identity.Role] ([RoleName]);
2025-08-01 09:34:47.667 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Identity.User_RoleId] ON [Identity.User] ([RoleId]);
2025-08-01 09:34:47.669 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE NONCLUSTERED INDEX [IX_Identity.User_Username] ON [Identity.User] ([Username]);
2025-08-01 09:34:47.673 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Identity.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801013315_InitialCreate', N'8.0.0');
2025-08-01 09:34:47.749 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:34:47.752 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:34:47.754 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:34:47.760 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Plc.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:34:47.762 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:34:47.764 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:34:47.767 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:34:47.777 +08:00 [INF] Applying migration '20250801013354_InitialCreate'.
2025-08-01 09:34:47.793 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7NetConfig] (
    [Id] uniqueidentifier NOT NULL,
    [S7Type] int NOT NULL,
    [Solt] smallint NOT NULL,
    [Rack] smallint NOT NULL,
    [ReadTimeOut] int NOT NULL,
    [WriteTimeOut] int NOT NULL,
    [IsUse] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    [Ip] nvarchar(max) NOT NULL,
    [Port] int NOT NULL,
    CONSTRAINT [PK_Plc.S7NetConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:34:47.799 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7EntityItem] (
    [Id] uniqueidentifier NOT NULL,
    [Ip] nvarchar(20) NOT NULL,
    [S7DataType] int NOT NULL,
    [DBAddress] int NOT NULL,
    [DataOffset] int NOT NULL,
    [BitOffset] tinyint NULL,
    [S7BlockType] int NOT NULL,
    [Index] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [Name] nvarchar(20) NOT NULL,
    [ArrtypeLength] tinyint NULL,
    [DeviceName] nvarchar(max) NOT NULL,
    [IsUse] bit NOT NULL,
    [NetGuid] uniqueidentifier NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Plc.S7EntityItem] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Plc.S7EntityItem_Plc.S7NetConfig_NetGuid] FOREIGN KEY ([NetGuid]) REFERENCES [Plc.S7NetConfig] ([Id])
);
2025-08-01 09:34:47.803 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Plc.S7EntityItem_NetGuid] ON [Plc.S7EntityItem] ([NetGuid]);
2025-08-01 09:34:47.807 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Plc.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801013354_InitialCreate', N'8.0.0');
2025-08-01 09:34:47.894 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:34:47.903 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:34:47.904 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:34:47.905 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:34:47.906 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:34:47.906 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '386729390' initialized
2025-08-01 09:34:47.907 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:34:47.908 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:34:47.918 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:34:48.072 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:34:48.166 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:34:48.215 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:34:48.220 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:34:48.222 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:34:48.398 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:34:48.402 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:34:48.471 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:34:48.471 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:34:48.471 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_ftnyyyg93sneb8dhbdq7bgh4n8"
2025-08-01 09:34:48.471 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:34:48.472 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:34:48.572 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:34:48.578 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:34:48.715 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:34:48.716 +08:00 [INF] Hosting environment: Development
2025-08-01 09:34:48.717 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:34:48.718 +08:00 [INF] Scheduler JobScheduler_$_386729390 started.
2025-08-01 09:34:48.719 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:34:49.363 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:34:49.553 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 197.4342ms
2025-08-01 09:34:49.570 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 09:34:49.576 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.0222ms
2025-08-01 09:34:49.717 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 09:34:49.748 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.683ms
2025-08-01 09:34:49.787 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:34:49.815 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.5145ms
2025-08-01 09:35:09.562 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundarygPnPIDItNy0rBkEC 11021
2025-08-01 09:35:09.577 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:35:09.581 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 09:35:09.661 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:35:36.335 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:35:40.950 +08:00 [INF] Executed endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:35:42.191 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 52
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-01 09:35:45.676 +08:00 [ERR] An exception was thrown attempting to execute the error handler.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Common.Infrastructure.Middleware.GlobalExceptionHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalExceptionHandler.cs:line 28
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2025-08-01 09:35:46.833 +08:00 [ERR] HTTP POST /plc/add-allplc-config responded 500 in 37246.6505 ms
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 52
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-08-01 09:35:53.460 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:35:53.511 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:35:53.516 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:35:53.519 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:35:53.529 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:35:53.541 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:35:53.566 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:35:53.568 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:35:53.571 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:35:53.573 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:35:53.578 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:35:53.580 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:35:53.642 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:35:53.650 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:35:53.655 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:35:53.658 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:35:53.663 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:35:53.670 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:35:53.766 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:35:53.776 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:35:53.777 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:35:53.778 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:35:53.779 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:35:53.780 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '501671673' initialized
2025-08-01 09:35:53.780 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:35:53.782 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:35:53.790 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:35:53.942 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:35:54.027 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:35:54.087 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:35:54.092 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:35:54.095 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:35:54.294 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:35:54.299 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:35:54.367 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:35:54.367 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_gowoyyg93sneb6eebdq7bg6brm"
2025-08-01 09:35:54.367 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:35:54.367 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:35:54.370 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:35:54.457 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:35:54.464 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:35:54.602 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:35:54.607 +08:00 [INF] Hosting environment: Development
2025-08-01 09:35:54.609 +08:00 [INF] Scheduler JobScheduler_$_501671673 started.
2025-08-01 09:35:54.610 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:35:54.610 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:35:54.708 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:35:54.888 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 188.5684ms
2025-08-01 09:35:55.052 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 09:35:55.052 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 09:35:55.059 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.445ms
2025-08-01 09:35:55.104 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.8136ms
2025-08-01 09:35:55.622 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:35:55.639 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.2225ms
2025-08-01 09:36:24.483 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:36:37.144 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/user/add-adminrole - null 0
2025-08-01 09:36:37.150 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:36:37.157 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 09:36:37.219 +08:00 [INF] Executing endpoint 'HTTP: POST user/add-adminrole'
2025-08-01 09:36:37.621 +08:00 [INF] Executed DbCommand (33ms) [Parameters=[@__roleName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[CreationTime], [i].[Description], [i].[IsDeleted], [i].[LastModificationTime], [i].[LastModifierUser], [i].[RoleName]
FROM [Identity.Role] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[RoleName] = @__roleName_0
2025-08-01 09:38:50.235 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:38:50.292 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:38:50.300 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:38:50.304 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:38:50.314 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:38:50.326 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:38:50.352 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:38:50.354 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:38:50.358 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:38:50.362 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:38:50.369 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:38:50.372 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:38:50.436 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:38:50.441 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:38:50.444 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:38:50.483 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Plc.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:38:50.491 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:38:50.496 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:38:50.501 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:38:50.514 +08:00 [INF] Applying migration '20250801013808_InitialCreate'.
2025-08-01 09:38:50.544 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7NetConfig] (
    [Id] uniqueidentifier NOT NULL,
    [S7Type] int NOT NULL,
    [Solt] smallint NOT NULL,
    [Rack] smallint NOT NULL,
    [ReadTimeOut] int NOT NULL,
    [WriteTimeOut] int NOT NULL,
    [IsUse] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    [Ip] nvarchar(max) NOT NULL,
    [Port] int NOT NULL,
    CONSTRAINT [PK_Plc.S7NetConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:38:50.560 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7EntityItem] (
    [Id] uniqueidentifier NOT NULL,
    [Ip] nvarchar(20) NOT NULL,
    [S7DataType] int NOT NULL,
    [DBAddress] int NOT NULL,
    [DataOffset] int NOT NULL,
    [BitOffset] tinyint NULL,
    [S7BlockType] int NOT NULL,
    [Index] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [Name] nvarchar(20) NOT NULL,
    [ArrtypeLength] tinyint NULL,
    [DeviceName] nvarchar(max) NOT NULL,
    [IsUse] bit NOT NULL,
    [NetGuid] uniqueidentifier NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Plc.S7EntityItem] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Plc.S7EntityItem_Plc.S7NetConfig_NetGuid] FOREIGN KEY ([NetGuid]) REFERENCES [Plc.S7NetConfig] ([Id])
);
2025-08-01 09:38:50.573 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Plc.S7EntityItem_NetGuid] ON [Plc.S7EntityItem] ([NetGuid]);
2025-08-01 09:38:50.584 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Plc.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801013808_InitialCreate', N'8.0.0');
2025-08-01 09:38:50.683 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:38:50.694 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:38:50.696 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:38:50.697 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:38:50.699 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:38:50.701 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-975029484' initialized
2025-08-01 09:38:50.702 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:38:50.704 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:38:50.715 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:38:50.859 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:38:50.939 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:38:50.994 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:38:51.002 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:38:51.007 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:38:51.184 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:38:51.192 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:38:51.257 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:38:51.257 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:38:51.257 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:38:51.257 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_uowoyyg93sney7wobdq7b8bk87"
2025-08-01 09:38:51.259 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:38:51.344 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:38:51.351 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:38:51.535 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:38:51.538 +08:00 [INF] Hosting environment: Development
2025-08-01 09:38:51.543 +08:00 [INF] Scheduler JobScheduler_$_-975029484 started.
2025-08-01 09:38:51.543 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:38:51.544 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:38:51.586 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:38:51.775 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 199.7112ms
2025-08-01 09:38:51.790 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 09:38:51.796 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.753ms
2025-08-01 09:38:51.937 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 09:38:51.968 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.8891ms
2025-08-01 09:38:52.029 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:38:52.045 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.5777ms
2025-08-01 09:38:59.724 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundarymH1NtUUyWb70dap8 11021
2025-08-01 09:38:59.741 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:38:59.748 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 09:38:59.825 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:40:39.465 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:40:39.527 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:40:39.532 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:40:39.535 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:40:39.545 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:40:39.556 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:40:39.581 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:40:39.586 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:40:39.593 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:40:39.597 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:40:39.603 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:40:39.608 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:40:39.672 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:40:39.675 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:40:39.678 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:40:39.681 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:40:39.685 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:40:39.695 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:40:39.783 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:40:39.800 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:40:39.801 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:40:39.803 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:40:39.804 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:40:39.807 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '134638429' initialized
2025-08-01 09:40:39.808 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:40:39.810 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:40:39.819 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:40:39.983 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:40:40.116 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:40:40.172 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:40:40.178 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:40:40.183 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:40:40.358 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:40:40.362 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:40:40.434 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:40:40.434 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:40:40.434 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:40:40.434 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_41boyyg93sneyiurbdq7b8dcyo"
2025-08-01 09:40:40.437 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:40:40.525 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:40:40.532 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:40:40.664 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:40:40.667 +08:00 [INF] Hosting environment: Development
2025-08-01 09:40:40.669 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:40:40.669 +08:00 [INF] Scheduler JobScheduler_$_134638429 started.
2025-08-01 09:40:40.671 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:40:40.884 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:40:41.081 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 203.0416ms
2025-08-01 09:40:41.268 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 09:40:41.268 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 09:40:41.287 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 18.8326ms
2025-08-01 09:40:41.310 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.1898ms
2025-08-01 09:40:41.383 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:40:41.405 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.4229ms
2025-08-01 09:41:20.651 +08:00 [INF] Executed DbCommand (256ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Wcs.Source];
2025-08-01 09:41:20.782 +08:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Wcs.Source] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-08-01 09:41:20.798 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:41:20.840 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Wcs.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:41:20.844 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:41:20.857 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:41:20.862 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:41:20.874 +08:00 [INF] Applying migration '20250801013434_InitialCreate'.
2025-08-01 09:41:20.915 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.Device] (
    [Id] uniqueidentifier NOT NULL,
    [DeviceType] int NOT NULL,
    [DeviceName] nvarchar(450) NOT NULL,
    [Config] nvarchar(max) NOT NULL,
    [Enable] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.Device] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:41:20.923 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.JobConfig] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(50) NULL,
    [JobType] nvarchar(50) NOT NULL,
    [TimeOut] int NOT NULL,
    [Timer] int NOT NULL,
    [IsStart] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.JobConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:41:20.929 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.Region] (
    [Id] uniqueidentifier NOT NULL,
    [Code] nvarchar(20) NOT NULL,
    [Description] nvarchar(50) NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.Region] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:41:20.935 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.TaskExecuteStep] (
    [Id] uniqueidentifier NOT NULL,
    [StepIndex] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [ExecuteNodePath] uniqueidentifier NULL,
    [RegionId] uniqueidentifier NULL,
    [WcsTaskType] int NOT NULL,
    [Version] rowversion NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.TaskExecuteStep] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:41:20.942 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ExecuteNodes] (
    [Id] uniqueidentifier NOT NULL,
    [CurrentDeviceType] int NOT NULL,
    [CurrentDeviceName] nvarchar(max) NOT NULL,
    [RegionId] uniqueidentifier NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_ExecuteNodes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ExecuteNodes_Wcs.Region_RegionId] FOREIGN KEY ([RegionId]) REFERENCES [Wcs.Region] ([Id])
);
2025-08-01 09:41:20.948 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.WcsTask] (
    [Id] uniqueidentifier NOT NULL,
    [TaskCode] nvarchar(50) NULL,
    [SerialNumber] int NOT NULL,
    [TaskType] int NOT NULL,
    [TaskStatus] int NOT NULL,
    [Description] nvarchar(max) NULL,
    [GetLocation_GetTunnel] nvarchar(10) NULL,
    [GetLocation_GetFloor] nvarchar(10) NULL,
    [GetLocation_GetRow] nvarchar(10) NULL,
    [GetLocation_GetColumn] nvarchar(10) NULL,
    [GetLocation_GetDepth] nvarchar(10) NULL,
    [PutLocation_PutTunnel] nvarchar(10) NULL,
    [PutLocation_PutFloor] nvarchar(10) NULL,
    [PutLocation_PutRow] nvarchar(10) NULL,
    [PutLocation_PutColumn] nvarchar(10) NULL,
    [PutLocation_PutDepth] nvarchar(10) NULL,
    [IsRead] bit NOT NULL,
    [DeviceId] uniqueidentifier NULL,
    [RegionId] uniqueidentifier NULL,
    [TaskExecuteStepId] uniqueidentifier NOT NULL,
    [Version] rowversion NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.WcsTask] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Wcs.WcsTask_Wcs.TaskExecuteStep_TaskExecuteStepId] FOREIGN KEY ([TaskExecuteStepId]) REFERENCES [Wcs.TaskExecuteStep] ([Id]) ON DELETE CASCADE
);
2025-08-01 09:41:20.952 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ExecuteNodes_RegionId] ON [ExecuteNodes] ([RegionId]);
2025-08-01 09:41:20.954 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.Device_DeviceName] ON [Wcs.Device] ([DeviceName]);
2025-08-01 09:41:20.957 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.JobConfig_Name] ON [Wcs.JobConfig] ([Name]);
2025-08-01 09:41:20.960 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.Region_Code] ON [Wcs.Region] ([Code]);
2025-08-01 09:41:20.963 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.WcsTask_SerialNumber] ON [Wcs.WcsTask] ([SerialNumber]);
2025-08-01 09:41:20.967 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.WcsTask_TaskCode] ON [Wcs.WcsTask] ([TaskCode]) WHERE [TaskCode] IS NOT NULL;
2025-08-01 09:41:20.970 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Wcs.WcsTask_TaskExecuteStepId] ON [Wcs.WcsTask] ([TaskExecuteStepId]);
2025-08-01 09:41:20.975 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Wcs.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801013434_InitialCreate', N'8.0.0');
2025-08-01 09:41:21.010 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:41:21.013 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:41:21.015 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:41:21.022 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Identity.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:41:21.024 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:41:21.027 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:41:21.030 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:41:21.032 +08:00 [INF] Applying migration '20250801013315_InitialCreate'.
2025-08-01 09:41:21.044 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.Role] (
    [Id] uniqueidentifier NOT NULL,
    [RoleName] nvarchar(50) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Identity.Role] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:41:21.051 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.User] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [Phone] nvarchar(max) NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(20) NOT NULL,
    [LockoutEnd] datetimeoffset NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Identity.User] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Identity.User_Identity.Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Identity.Role] ([Id]) ON DELETE CASCADE
);
2025-08-01 09:41:21.057 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE NONCLUSTERED INDEX [IX_Identity.Role_RoleName] ON [Identity.Role] ([RoleName]);
2025-08-01 09:41:21.060 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Identity.User_RoleId] ON [Identity.User] ([RoleId]);
2025-08-01 09:41:21.064 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE NONCLUSTERED INDEX [IX_Identity.User_Username] ON [Identity.User] ([Username]);
2025-08-01 09:41:21.068 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Identity.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801013315_InitialCreate', N'8.0.0');
2025-08-01 09:41:21.133 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:41:21.136 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:41:21.138 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:41:21.145 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Plc.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:41:21.148 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:41:21.149 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:41:21.152 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:41:21.159 +08:00 [INF] Applying migration '20250801014105_InitialCreate'.
2025-08-01 09:41:21.172 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7NetConfig] (
    [Id] uniqueidentifier NOT NULL,
    [S7Type] int NOT NULL,
    [Solt] smallint NOT NULL,
    [Rack] smallint NOT NULL,
    [ReadTimeOut] int NOT NULL,
    [WriteTimeOut] int NOT NULL,
    [IsUse] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    [Ip] nvarchar(max) NOT NULL,
    [Port] int NOT NULL,
    CONSTRAINT [PK_Plc.S7NetConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:41:21.178 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7EntityItem] (
    [Id] uniqueidentifier NOT NULL,
    [Ip] nvarchar(20) NOT NULL,
    [S7DataType] int NOT NULL,
    [DBAddress] int NOT NULL,
    [DataOffset] int NOT NULL,
    [BitOffset] tinyint NULL,
    [S7BlockType] int NOT NULL,
    [Index] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [Name] nvarchar(20) NOT NULL,
    [ArrtypeLength] tinyint NULL,
    [DeviceName] nvarchar(max) NOT NULL,
    [IsUse] bit NOT NULL,
    [NetGuid] uniqueidentifier NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Plc.S7EntityItem] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Plc.S7EntityItem_Plc.S7NetConfig_NetGuid] FOREIGN KEY ([NetGuid]) REFERENCES [Plc.S7NetConfig] ([Id])
);
2025-08-01 09:41:21.182 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Plc.S7EntityItem_NetGuid] ON [Plc.S7EntityItem] ([NetGuid]);
2025-08-01 09:41:21.186 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Plc.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801014105_InitialCreate', N'8.0.0');
2025-08-01 09:41:21.273 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:41:21.283 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:41:21.284 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:41:21.286 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:41:21.287 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:41:21.288 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-1534217659' initialized
2025-08-01 09:41:21.289 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:41:21.290 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:41:21.301 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:41:21.466 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:41:21.544 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:41:21.592 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:41:21.597 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:41:21.599 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:41:21.774 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:41:21.778 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:41:21.847 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:41:21.847 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:41:21.847 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_wbdoyyg93sneb134bdq7b8rrf9"
2025-08-01 09:41:21.847 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:41:21.851 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:41:21.938 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:41:21.945 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:41:22.087 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:41:22.089 +08:00 [INF] Hosting environment: Development
2025-08-01 09:41:22.090 +08:00 [INF] Scheduler JobScheduler_$_-1534217659 started.
2025-08-01 09:41:22.090 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:41:22.092 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:41:22.532 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:41:22.722 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 200.0998ms
2025-08-01 09:41:22.887 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 09:41:22.887 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 09:41:22.895 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.943ms
2025-08-01 09:41:22.924 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.472ms
2025-08-01 09:41:22.980 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:41:22.998 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.7993ms
2025-08-01 09:41:31.688 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundarypoyNotf4pNE3GADR 11021
2025-08-01 09:41:31.695 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:41:31.700 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 09:41:31.753 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:47:27.242 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:47:27.288 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:47:27.295 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:47:27.300 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:47:27.309 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:47:27.320 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:47:27.340 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:47:27.343 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:47:27.346 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:47:27.348 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:47:27.351 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:47:27.353 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:47:27.454 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:47:27.472 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:47:27.486 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:47:27.507 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:47:27.521 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:47:27.536 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 09:47:27.642 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:47:27.661 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:47:27.702 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:47:27.706 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:47:27.711 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:47:27.714 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-1446621099' initialized
2025-08-01 09:47:27.716 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:47:27.719 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:47:27.728 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:47:27.907 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:47:28.020 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:47:28.067 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:47:28.072 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:47:28.077 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:47:28.265 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:47:28.273 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:47:28.371 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_o1royyg93sneyeprbdq7b8k9bt"
2025-08-01 09:47:28.371 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:47:28.371 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:47:28.371 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:47:28.373 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:47:28.478 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:47:28.486 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:47:28.622 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:47:28.624 +08:00 [INF] Hosting environment: Development
2025-08-01 09:47:28.625 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:47:28.626 +08:00 [INF] Scheduler JobScheduler_$_-1446621099 started.
2025-08-01 09:47:28.627 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:47:28.947 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:47:29.128 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 186.6226ms
2025-08-01 09:47:29.281 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 09:47:29.281 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 09:47:29.296 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 15.3077ms
2025-08-01 09:47:29.313 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.9806ms
2025-08-01 09:47:29.380 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:47:29.400 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.5653ms
2025-08-01 09:47:57.010 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:48:21.587 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:51:28.591 +08:00 [INF] Executed DbCommand (279ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Wcs.Source];
2025-08-01 09:52:09.449 +08:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Wcs.Source] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-08-01 09:52:09.499 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:52:09.563 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Wcs.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:52:09.568 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:52:09.591 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 09:52:09.604 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:52:09.620 +08:00 [INF] Applying migration '20250801013434_InitialCreate'.
2025-08-01 09:52:09.664 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.Device] (
    [Id] uniqueidentifier NOT NULL,
    [DeviceType] int NOT NULL,
    [DeviceName] nvarchar(450) NOT NULL,
    [Config] nvarchar(max) NOT NULL,
    [Enable] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.Device] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:52:09.670 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.JobConfig] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(50) NULL,
    [JobType] nvarchar(50) NOT NULL,
    [TimeOut] int NOT NULL,
    [Timer] int NOT NULL,
    [IsStart] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.JobConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:52:09.675 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.Region] (
    [Id] uniqueidentifier NOT NULL,
    [Code] nvarchar(20) NOT NULL,
    [Description] nvarchar(50) NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.Region] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:52:09.682 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.TaskExecuteStep] (
    [Id] uniqueidentifier NOT NULL,
    [StepIndex] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [ExecuteNodePath] uniqueidentifier NULL,
    [RegionId] uniqueidentifier NULL,
    [WcsTaskType] int NOT NULL,
    [Version] rowversion NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.TaskExecuteStep] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:52:09.687 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ExecuteNodes] (
    [Id] uniqueidentifier NOT NULL,
    [CurrentDeviceType] int NOT NULL,
    [CurrentDeviceName] nvarchar(max) NOT NULL,
    [RegionId] uniqueidentifier NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_ExecuteNodes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ExecuteNodes_Wcs.Region_RegionId] FOREIGN KEY ([RegionId]) REFERENCES [Wcs.Region] ([Id])
);
2025-08-01 09:52:09.695 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.WcsTask] (
    [Id] uniqueidentifier NOT NULL,
    [TaskCode] nvarchar(50) NULL,
    [SerialNumber] int NOT NULL,
    [TaskType] int NOT NULL,
    [TaskStatus] int NOT NULL,
    [Description] nvarchar(max) NULL,
    [GetLocation_GetTunnel] nvarchar(10) NULL,
    [GetLocation_GetFloor] nvarchar(10) NULL,
    [GetLocation_GetRow] nvarchar(10) NULL,
    [GetLocation_GetColumn] nvarchar(10) NULL,
    [GetLocation_GetDepth] nvarchar(10) NULL,
    [PutLocation_PutTunnel] nvarchar(10) NULL,
    [PutLocation_PutFloor] nvarchar(10) NULL,
    [PutLocation_PutRow] nvarchar(10) NULL,
    [PutLocation_PutColumn] nvarchar(10) NULL,
    [PutLocation_PutDepth] nvarchar(10) NULL,
    [IsRead] bit NOT NULL,
    [DeviceId] uniqueidentifier NULL,
    [RegionId] uniqueidentifier NULL,
    [TaskExecuteStepId] uniqueidentifier NOT NULL,
    [Version] rowversion NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.WcsTask] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Wcs.WcsTask_Wcs.TaskExecuteStep_TaskExecuteStepId] FOREIGN KEY ([TaskExecuteStepId]) REFERENCES [Wcs.TaskExecuteStep] ([Id]) ON DELETE CASCADE
);
2025-08-01 09:52:09.699 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ExecuteNodes_RegionId] ON [ExecuteNodes] ([RegionId]);
2025-08-01 09:52:09.702 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.Device_DeviceName] ON [Wcs.Device] ([DeviceName]);
2025-08-01 09:52:09.706 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.JobConfig_Name] ON [Wcs.JobConfig] ([Name]);
2025-08-01 09:52:09.708 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.Region_Code] ON [Wcs.Region] ([Code]);
2025-08-01 09:52:09.710 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.WcsTask_SerialNumber] ON [Wcs.WcsTask] ([SerialNumber]);
2025-08-01 09:52:09.714 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.WcsTask_TaskCode] ON [Wcs.WcsTask] ([TaskCode]) WHERE [TaskCode] IS NOT NULL;
2025-08-01 09:52:09.717 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Wcs.WcsTask_TaskExecuteStepId] ON [Wcs.WcsTask] ([TaskExecuteStepId]);
2025-08-01 09:52:09.721 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Wcs.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801013434_InitialCreate', N'8.0.0');
2025-08-01 09:52:09.767 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:52:09.780 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:52:09.783 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:52:09.790 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Identity.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:52:09.793 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:52:09.795 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 09:52:09.798 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:52:09.800 +08:00 [INF] Applying migration '20250801013315_InitialCreate'.
2025-08-01 09:52:09.813 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.Role] (
    [Id] uniqueidentifier NOT NULL,
    [RoleName] nvarchar(50) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Identity.Role] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:52:09.819 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.User] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [Phone] nvarchar(max) NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(20) NOT NULL,
    [LockoutEnd] datetimeoffset NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Identity.User] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Identity.User_Identity.Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Identity.Role] ([Id]) ON DELETE CASCADE
);
2025-08-01 09:52:09.827 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE NONCLUSTERED INDEX [IX_Identity.Role_RoleName] ON [Identity.Role] ([RoleName]);
2025-08-01 09:52:09.830 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Identity.User_RoleId] ON [Identity.User] ([RoleId]);
2025-08-01 09:52:09.835 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE NONCLUSTERED INDEX [IX_Identity.User_Username] ON [Identity.User] ([Username]);
2025-08-01 09:52:09.839 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Identity.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801013315_InitialCreate', N'8.0.0');
2025-08-01 09:52:09.950 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:52:09.960 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:52:09.965 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:52:09.976 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Plc.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 09:52:09.983 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 09:52:09.988 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 09:52:09.994 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 09:52:10.006 +08:00 [INF] Applying migration '20250801015109_InitialCreate'.
2025-08-01 09:52:10.029 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7NetConfig] (
    [Id] uniqueidentifier NOT NULL,
    [S7Type] int NOT NULL,
    [Solt] smallint NOT NULL,
    [Rack] smallint NOT NULL,
    [ReadTimeOut] int NOT NULL,
    [WriteTimeOut] int NOT NULL,
    [IsUse] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    [Ip] nvarchar(max) NOT NULL,
    [Port] int NOT NULL,
    CONSTRAINT [PK_Plc.S7NetConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 09:52:10.045 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7EntityItem] (
    [Id] uniqueidentifier NOT NULL,
    [Ip] nvarchar(20) NOT NULL,
    [S7DataType] int NOT NULL,
    [DBAddress] int NOT NULL,
    [DataOffset] int NOT NULL,
    [BitOffset] tinyint NULL,
    [S7BlockType] int NOT NULL,
    [Index] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [Name] nvarchar(20) NOT NULL,
    [ArrtypeLength] tinyint NULL,
    [DeviceName] nvarchar(max) NOT NULL,
    [IsUse] bit NOT NULL,
    [NetGuid] uniqueidentifier NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Plc.S7EntityItem] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Plc.S7EntityItem_Plc.S7NetConfig_NetGuid] FOREIGN KEY ([NetGuid]) REFERENCES [Plc.S7NetConfig] ([Id]) ON DELETE CASCADE
);
2025-08-01 09:52:10.055 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Plc.S7EntityItem_NetGuid] ON [Plc.S7EntityItem] ([NetGuid]);
2025-08-01 09:52:10.060 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Plc.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801015109_InitialCreate', N'8.0.0');
2025-08-01 09:52:10.263 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 09:52:10.328 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 09:52:10.348 +08:00 [INF] Quartz Scheduler created
2025-08-01 09:52:10.379 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 09:52:10.398 +08:00 [INF] RAMJobStore initialized.
2025-08-01 09:52:10.401 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '528938718' initialized
2025-08-01 09:52:10.403 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 09:52:10.405 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 09:52:10.416 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 09:52:10.635 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 09:52:10.732 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 09:52:10.845 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 09:52:10.857 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 09:52:10.861 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 09:52:11.219 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 09:52:11.223 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 09:52:11.277 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 09:52:11.277 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 09:52:11.290 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 09:52:11.294 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_hb3oyyg93snebcjdbdq7b8o8gs"
2025-08-01 09:52:11.301 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 09:52:11.444 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 09:52:11.452 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 09:52:11.833 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 09:52:11.841 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:52:11.841 +08:00 [INF] Scheduler JobScheduler_$_528938718 started.
2025-08-01 09:52:11.851 +08:00 [INF] Hosting environment: Development
2025-08-01 09:52:11.859 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 09:52:12.118 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 09:52:12.364 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 261.624ms
2025-08-01 09:52:12.373 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 09:52:12.381 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.7691ms
2025-08-01 09:52:12.509 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 09:52:12.554 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.3905ms
2025-08-01 09:52:12.617 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 09:52:12.641 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.1191ms
2025-08-01 09:52:19.899 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundarySma7RkN72ukcICFE 11021
2025-08-01 09:52:19.921 +08:00 [INF] CORS policy execution successful.
2025-08-01 09:52:19.929 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 09:52:20.032 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:52:29.720 +08:00 [INF] Executed endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 09:53:42.215 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:53:42.742 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 52
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-01 09:53:44.006 +08:00 [ERR] An exception was thrown attempting to execute the error handler.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Common.Infrastructure.Middleware.GlobalExceptionHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalExceptionHandler.cs:line 28
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2025-08-01 09:53:44.948 +08:00 [ERR] HTTP POST /plc/add-allplc-config responded 500 in 85006.9783 ms
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 52
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-08-01 09:53:47.943 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Plc.Infrastructure.S7Net.S7NetManager.InsertS7NetAsync(IEnumerable`1 s7NetConfigs) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\S7Net\S7NetManager.cs:line 30
   at Plc.Application.PlcEvent.Insert.InsertS7NetConfigCommandHandler.Handle(InsertS7NetConfigCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcEvent\Insert\InsertS7NetConfigCommandHandler.cs:line 52
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.AddS7NetConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\AddS7NetConfig.cs:line 28
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass104_2.<<HandleRequestBodyAndCompileRequestDelegateForForm>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Common.Infrastructure.Middleware.GlobalEncodingRequestMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalEncodingRequestMiddleware.cs:line 35
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 30
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-01 09:53:48.026 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - 500 null application/problem+json 88123.8664ms
2025-08-01 09:54:07.447 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 09:54:34.117 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:00:06.292 +08:00 [INF] Executed DbCommand (337ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Wcs.Source];
2025-08-01 10:00:06.408 +08:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Wcs.Source] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-08-01 10:00:06.425 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:00:06.469 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Wcs.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 10:00:06.471 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:00:06.483 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:00:06.489 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:00:06.499 +08:00 [INF] Applying migration '20250801013434_InitialCreate'.
2025-08-01 10:00:06.539 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.Device] (
    [Id] uniqueidentifier NOT NULL,
    [DeviceType] int NOT NULL,
    [DeviceName] nvarchar(450) NOT NULL,
    [Config] nvarchar(max) NOT NULL,
    [Enable] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.Device] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 10:00:06.545 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.JobConfig] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(50) NULL,
    [JobType] nvarchar(50) NOT NULL,
    [TimeOut] int NOT NULL,
    [Timer] int NOT NULL,
    [IsStart] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.JobConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 10:00:06.549 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.Region] (
    [Id] uniqueidentifier NOT NULL,
    [Code] nvarchar(20) NOT NULL,
    [Description] nvarchar(50) NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.Region] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 10:00:06.553 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.TaskExecuteStep] (
    [Id] uniqueidentifier NOT NULL,
    [StepIndex] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [ExecuteNodePath] uniqueidentifier NULL,
    [RegionId] uniqueidentifier NULL,
    [WcsTaskType] int NOT NULL,
    [Version] rowversion NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.TaskExecuteStep] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 10:00:06.559 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ExecuteNodes] (
    [Id] uniqueidentifier NOT NULL,
    [CurrentDeviceType] int NOT NULL,
    [CurrentDeviceName] nvarchar(max) NOT NULL,
    [RegionId] uniqueidentifier NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_ExecuteNodes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ExecuteNodes_Wcs.Region_RegionId] FOREIGN KEY ([RegionId]) REFERENCES [Wcs.Region] ([Id])
);
2025-08-01 10:00:06.565 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.WcsTask] (
    [Id] uniqueidentifier NOT NULL,
    [TaskCode] nvarchar(50) NULL,
    [SerialNumber] int NOT NULL,
    [TaskType] int NOT NULL,
    [TaskStatus] int NOT NULL,
    [Description] nvarchar(max) NULL,
    [GetLocation_GetTunnel] nvarchar(10) NULL,
    [GetLocation_GetFloor] nvarchar(10) NULL,
    [GetLocation_GetRow] nvarchar(10) NULL,
    [GetLocation_GetColumn] nvarchar(10) NULL,
    [GetLocation_GetDepth] nvarchar(10) NULL,
    [PutLocation_PutTunnel] nvarchar(10) NULL,
    [PutLocation_PutFloor] nvarchar(10) NULL,
    [PutLocation_PutRow] nvarchar(10) NULL,
    [PutLocation_PutColumn] nvarchar(10) NULL,
    [PutLocation_PutDepth] nvarchar(10) NULL,
    [IsRead] bit NOT NULL,
    [DeviceId] uniqueidentifier NULL,
    [RegionId] uniqueidentifier NULL,
    [TaskExecuteStepId] uniqueidentifier NOT NULL,
    [Version] rowversion NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.WcsTask] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Wcs.WcsTask_Wcs.TaskExecuteStep_TaskExecuteStepId] FOREIGN KEY ([TaskExecuteStepId]) REFERENCES [Wcs.TaskExecuteStep] ([Id]) ON DELETE CASCADE
);
2025-08-01 10:00:06.569 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ExecuteNodes_RegionId] ON [ExecuteNodes] ([RegionId]);
2025-08-01 10:00:06.572 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.Device_DeviceName] ON [Wcs.Device] ([DeviceName]);
2025-08-01 10:00:06.576 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.JobConfig_Name] ON [Wcs.JobConfig] ([Name]);
2025-08-01 10:00:06.579 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.Region_Code] ON [Wcs.Region] ([Code]);
2025-08-01 10:00:06.582 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.WcsTask_SerialNumber] ON [Wcs.WcsTask] ([SerialNumber]);
2025-08-01 10:00:06.585 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.WcsTask_TaskCode] ON [Wcs.WcsTask] ([TaskCode]) WHERE [TaskCode] IS NOT NULL;
2025-08-01 10:00:06.587 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Wcs.WcsTask_TaskExecuteStepId] ON [Wcs.WcsTask] ([TaskExecuteStepId]);
2025-08-01 10:00:06.590 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Wcs.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801013434_InitialCreate', N'8.0.0');
2025-08-01 10:00:06.623 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:00:06.625 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:00:06.628 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:00:06.634 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Identity.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 10:00:06.636 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:00:06.638 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:00:06.641 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:00:06.643 +08:00 [INF] Applying migration '20250801013315_InitialCreate'.
2025-08-01 10:00:06.654 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.Role] (
    [Id] uniqueidentifier NOT NULL,
    [RoleName] nvarchar(50) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Identity.Role] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 10:00:06.660 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.User] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [Phone] nvarchar(max) NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(20) NOT NULL,
    [LockoutEnd] datetimeoffset NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Identity.User] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Identity.User_Identity.Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Identity.Role] ([Id]) ON DELETE CASCADE
);
2025-08-01 10:00:06.664 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE NONCLUSTERED INDEX [IX_Identity.Role_RoleName] ON [Identity.Role] ([RoleName]);
2025-08-01 10:00:06.667 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Identity.User_RoleId] ON [Identity.User] ([RoleId]);
2025-08-01 10:00:06.669 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE NONCLUSTERED INDEX [IX_Identity.User_Username] ON [Identity.User] ([Username]);
2025-08-01 10:00:06.673 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Identity.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801013315_InitialCreate', N'8.0.0');
2025-08-01 10:00:06.752 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:00:06.758 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:00:06.763 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:00:06.770 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Plc.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 10:00:06.774 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:00:06.777 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:00:06.781 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:00:06.792 +08:00 [INF] Applying migration '20250801015954_InitialCreate'.
2025-08-01 10:00:06.806 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7NetConfig] (
    [Id] uniqueidentifier NOT NULL,
    [S7Type] int NOT NULL,
    [Solt] smallint NOT NULL,
    [Rack] smallint NOT NULL,
    [ReadTimeOut] int NOT NULL,
    [WriteTimeOut] int NOT NULL,
    [IsUse] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    [Ip] nvarchar(max) NOT NULL,
    [Port] int NOT NULL,
    CONSTRAINT [PK_Plc.S7NetConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 10:00:06.814 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7EntityItem] (
    [Id] uniqueidentifier NOT NULL,
    [Ip] nvarchar(20) NOT NULL,
    [S7DataType] int NOT NULL,
    [DBAddress] int NOT NULL,
    [DataOffset] int NOT NULL,
    [BitOffset] int NULL,
    [S7BlockType] int NOT NULL,
    [Index] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [Name] nvarchar(20) NOT NULL,
    [ArrtypeLength] int NULL,
    [DeviceName] nvarchar(max) NOT NULL,
    [IsUse] bit NOT NULL,
    [NetGuid] uniqueidentifier NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Plc.S7EntityItem] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Plc.S7EntityItem_Plc.S7NetConfig_NetGuid] FOREIGN KEY ([NetGuid]) REFERENCES [Plc.S7NetConfig] ([Id]) ON DELETE CASCADE
);
2025-08-01 10:00:06.821 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Plc.S7EntityItem_NetGuid] ON [Plc.S7EntityItem] ([NetGuid]);
2025-08-01 10:00:06.826 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Plc.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801015954_InitialCreate', N'8.0.0');
2025-08-01 10:00:06.918 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 10:00:06.931 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 10:00:06.932 +08:00 [INF] Quartz Scheduler created
2025-08-01 10:00:06.933 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 10:00:06.934 +08:00 [INF] RAMJobStore initialized.
2025-08-01 10:00:06.938 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '1457183557' initialized
2025-08-01 10:00:06.938 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 10:00:06.939 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 10:00:06.946 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 10:00:07.107 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 10:00:07.282 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 10:00:07.332 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:00:07.336 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:00:07.338 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:00:07.525 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:00:07.530 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:00:07.596 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:00:07.596 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:00:07.596 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_oy6oyyg93snebqqmbdq7b83df9"
2025-08-01 10:00:07.596 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:00:07.597 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:00:07.697 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 10:00:07.703 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 10:00:07.907 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 10:00:07.908 +08:00 [INF] Hosting environment: Development
2025-08-01 10:00:07.909 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 10:00:07.910 +08:00 [INF] Scheduler JobScheduler_$_1457183557 started.
2025-08-01 10:00:07.912 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:00:08.313 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 10:00:08.509 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 205.5771ms
2025-08-01 10:00:08.698 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 10:00:08.698 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 10:00:08.704 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.354ms
2025-08-01 10:00:08.741 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.5732ms
2025-08-01 10:00:08.792 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 10:00:08.810 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.9388ms
2025-08-01 10:00:21.703 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundaryGBNt46L0Yh82TZ3M 11021
2025-08-01 10:00:21.710 +08:00 [INF] CORS policy execution successful.
2025-08-01 10:00:21.714 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 10:00:23.735 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 10:06:39.403 +08:00 [INF] Executed DbCommand (358ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Wcs.Source];
2025-08-01 10:06:39.556 +08:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Wcs.Source] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-08-01 10:06:39.591 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:06:39.664 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Wcs.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 10:06:39.672 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:06:39.699 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:06:39.708 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:06:39.731 +08:00 [INF] Applying migration '20250801013434_InitialCreate'.
2025-08-01 10:06:39.796 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.Device] (
    [Id] uniqueidentifier NOT NULL,
    [DeviceType] int NOT NULL,
    [DeviceName] nvarchar(450) NOT NULL,
    [Config] nvarchar(max) NOT NULL,
    [Enable] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.Device] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 10:06:39.806 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.JobConfig] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(50) NULL,
    [JobType] nvarchar(50) NOT NULL,
    [TimeOut] int NOT NULL,
    [Timer] int NOT NULL,
    [IsStart] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.JobConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 10:06:39.814 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.Region] (
    [Id] uniqueidentifier NOT NULL,
    [Code] nvarchar(20) NOT NULL,
    [Description] nvarchar(50) NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.Region] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 10:06:39.822 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.TaskExecuteStep] (
    [Id] uniqueidentifier NOT NULL,
    [StepIndex] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [ExecuteNodePath] uniqueidentifier NULL,
    [RegionId] uniqueidentifier NULL,
    [WcsTaskType] int NOT NULL,
    [Version] rowversion NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.TaskExecuteStep] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 10:06:39.834 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ExecuteNodes] (
    [Id] uniqueidentifier NOT NULL,
    [CurrentDeviceType] int NOT NULL,
    [CurrentDeviceName] nvarchar(max) NOT NULL,
    [RegionId] uniqueidentifier NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_ExecuteNodes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ExecuteNodes_Wcs.Region_RegionId] FOREIGN KEY ([RegionId]) REFERENCES [Wcs.Region] ([Id])
);
2025-08-01 10:06:39.845 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wcs.WcsTask] (
    [Id] uniqueidentifier NOT NULL,
    [TaskCode] nvarchar(50) NULL,
    [SerialNumber] int NOT NULL,
    [TaskType] int NOT NULL,
    [TaskStatus] int NOT NULL,
    [Description] nvarchar(max) NULL,
    [GetLocation_GetTunnel] nvarchar(10) NULL,
    [GetLocation_GetFloor] nvarchar(10) NULL,
    [GetLocation_GetRow] nvarchar(10) NULL,
    [GetLocation_GetColumn] nvarchar(10) NULL,
    [GetLocation_GetDepth] nvarchar(10) NULL,
    [PutLocation_PutTunnel] nvarchar(10) NULL,
    [PutLocation_PutFloor] nvarchar(10) NULL,
    [PutLocation_PutRow] nvarchar(10) NULL,
    [PutLocation_PutColumn] nvarchar(10) NULL,
    [PutLocation_PutDepth] nvarchar(10) NULL,
    [IsRead] bit NOT NULL,
    [DeviceId] uniqueidentifier NULL,
    [RegionId] uniqueidentifier NULL,
    [TaskExecuteStepId] uniqueidentifier NOT NULL,
    [Version] rowversion NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Wcs.WcsTask] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Wcs.WcsTask_Wcs.TaskExecuteStep_TaskExecuteStepId] FOREIGN KEY ([TaskExecuteStepId]) REFERENCES [Wcs.TaskExecuteStep] ([Id]) ON DELETE CASCADE
);
2025-08-01 10:06:39.855 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ExecuteNodes_RegionId] ON [ExecuteNodes] ([RegionId]);
2025-08-01 10:06:39.860 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.Device_DeviceName] ON [Wcs.Device] ([DeviceName]);
2025-08-01 10:06:39.865 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.JobConfig_Name] ON [Wcs.JobConfig] ([Name]);
2025-08-01 10:06:39.869 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.Region_Code] ON [Wcs.Region] ([Code]);
2025-08-01 10:06:39.874 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.WcsTask_SerialNumber] ON [Wcs.WcsTask] ([SerialNumber]);
2025-08-01 10:06:39.877 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wcs.WcsTask_TaskCode] ON [Wcs.WcsTask] ([TaskCode]) WHERE [TaskCode] IS NOT NULL;
2025-08-01 10:06:39.882 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Wcs.WcsTask_TaskExecuteStepId] ON [Wcs.WcsTask] ([TaskExecuteStepId]);
2025-08-01 10:06:39.898 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Wcs.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801013434_InitialCreate', N'8.0.0');
2025-08-01 10:06:39.971 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:06:39.982 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:06:39.988 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:06:39.997 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Identity.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 10:06:40.002 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:06:40.005 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:06:40.008 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:06:40.014 +08:00 [INF] Applying migration '20250801013315_InitialCreate'.
2025-08-01 10:06:40.026 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.Role] (
    [Id] uniqueidentifier NOT NULL,
    [RoleName] nvarchar(50) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Identity.Role] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 10:06:40.035 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Identity.User] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [Phone] nvarchar(max) NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(20) NOT NULL,
    [LockoutEnd] datetimeoffset NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Identity.User] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Identity.User_Identity.Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Identity.Role] ([Id]) ON DELETE CASCADE
);
2025-08-01 10:06:40.039 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE NONCLUSTERED INDEX [IX_Identity.Role_RoleName] ON [Identity.Role] ([RoleName]);
2025-08-01 10:06:40.042 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Identity.User_RoleId] ON [Identity.User] ([RoleId]);
2025-08-01 10:06:40.044 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE NONCLUSTERED INDEX [IX_Identity.User_Username] ON [Identity.User] ([Username]);
2025-08-01 10:06:40.048 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Identity.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801013315_InitialCreate', N'8.0.0');
2025-08-01 10:06:40.156 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:06:40.164 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:06:40.170 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:06:40.179 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_Plc.__EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-08-01 10:06:40.187 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:06:40.191 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:06:40.197 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:06:40.293 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:06:40.392 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 10:06:40.402 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 10:06:40.406 +08:00 [INF] Quartz Scheduler created
2025-08-01 10:06:40.407 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 10:06:40.408 +08:00 [INF] RAMJobStore initialized.
2025-08-01 10:06:40.409 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '798942783' initialized
2025-08-01 10:06:40.411 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 10:06:40.412 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 10:06:40.420 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 10:06:40.624 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 10:06:40.874 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 10:06:40.970 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:06:40.979 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:06:40.986 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:06:41.304 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:06:41.312 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:06:41.406 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:06:41.406 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:06:41.406 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:06:41.406 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_a1foyyg93snebwxebdq7beyqd8"
2025-08-01 10:06:41.417 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:06:41.518 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 10:06:41.526 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 10:06:41.674 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 10:06:41.688 +08:00 [INF] Scheduler JobScheduler_$_798942783 started.
2025-08-01 10:06:41.690 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:06:41.694 +08:00 [INF] Hosting environment: Development
2025-08-01 10:06:41.729 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 10:06:41.972 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 10:06:42.190 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 232.3072ms
2025-08-01 10:06:42.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 10:06:42.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 10:06:42.368 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 23.1427ms
2025-08-01 10:06:42.392 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.8197ms
2025-08-01 10:06:42.461 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 10:06:42.475 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.6356ms
2025-08-01 10:07:07.019 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:09:03.579 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:09:03.620 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:09:03.677 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:09:03.680 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:09:03.690 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:09:03.700 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:09:03.720 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:09:03.722 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:09:03.724 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:09:03.725 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:09:03.728 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:09:03.730 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:09:05.240 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:09:05.245 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:09:05.248 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:09:05.250 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:09:05.254 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:09:05.263 +08:00 [INF] Applying migration '20250801020752_InitialCreate'.
2025-08-01 10:09:05.298 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7NetConfig] (
    [Id] uniqueidentifier NOT NULL,
    [S7Type] int NOT NULL,
    [Solt] smallint NOT NULL,
    [Rack] smallint NOT NULL,
    [ReadTimeOut] int NOT NULL,
    [WriteTimeOut] int NOT NULL,
    [IsUse] bit NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    [Ip] nvarchar(max) NOT NULL,
    [Port] int NOT NULL,
    CONSTRAINT [PK_Plc.S7NetConfig] PRIMARY KEY NONCLUSTERED ([Id])
);
2025-08-01 10:09:05.304 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Plc.S7EntityItem] (
    [Id] uniqueidentifier NOT NULL,
    [Ip] nvarchar(20) NOT NULL,
    [S7DataType] int NOT NULL,
    [DBAddress] int NOT NULL,
    [DataOffset] int NOT NULL,
    [BitOffset] tinyint NULL,
    [S7BlockType] int NOT NULL,
    [Index] int NOT NULL,
    [Description] nvarchar(50) NULL,
    [Name] nvarchar(20) NOT NULL,
    [ArrtypeLength] tinyint NULL,
    [DeviceName] nvarchar(max) NOT NULL,
    [IsUse] bit NOT NULL,
    [NetGuid] uniqueidentifier NOT NULL,
    [CreationTime] datetime2 NOT NULL,
    [LastModifierUser] nvarchar(max) NULL,
    [LastModificationTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Plc.S7EntityItem] PRIMARY KEY NONCLUSTERED ([Id]),
    CONSTRAINT [FK_Plc.S7EntityItem_Plc.S7NetConfig_NetGuid] FOREIGN KEY ([NetGuid]) REFERENCES [Plc.S7NetConfig] ([Id]) ON DELETE CASCADE
);
2025-08-01 10:09:05.309 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Plc.S7EntityItem_NetGuid] ON [Plc.S7EntityItem] ([NetGuid]);
2025-08-01 10:09:05.312 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Plc.__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250801020752_InitialCreate', N'8.0.0');
2025-08-01 10:09:40.726 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:09:40.734 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:09:40.743 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:09:40.750 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:09:40.762 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:09:40.766 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:09:41.269 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:09:41.272 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:09:41.274 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:09:41.276 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:09:41.279 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:09:41.281 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:09:57.847 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:09:57.855 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:09:57.859 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:09:57.866 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:09:57.874 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:09:57.879 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:16:57.304 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:16:57.352 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:16:57.357 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:16:57.359 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:16:57.367 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:16:57.377 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:17:02.399 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:17:02.401 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:17:02.403 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:17:02.404 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:17:02.407 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:17:02.409 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:17:02.483 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:17:02.490 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:17:02.492 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:17:02.495 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:17:02.500 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:17:02.507 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:17:02.592 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 10:17:02.603 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 10:17:02.608 +08:00 [INF] Quartz Scheduler created
2025-08-01 10:17:02.610 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 10:17:02.612 +08:00 [INF] RAMJobStore initialized.
2025-08-01 10:17:02.614 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '1837960671' initialized
2025-08-01 10:17:02.616 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 10:17:02.617 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 10:17:02.623 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 10:17:02.751 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 10:17:02.819 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 10:17:02.863 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:17:02.866 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:17:02.868 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:17:03.017 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:17:03.020 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:17:03.058 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:17:03.058 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:17:03.058 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:17:03.058 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_1odyyyg93sneyhjybdq7becbyj"
2025-08-01 10:17:03.070 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:17:03.143 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 10:17:03.149 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 10:17:03.256 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 10:17:03.257 +08:00 [INF] Hosting environment: Development
2025-08-01 10:17:03.258 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 10:17:03.260 +08:00 [INF] Scheduler JobScheduler_$_1837960671 started.
2025-08-01 10:17:03.261 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:17:03.533 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 10:17:03.707 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 182.3038ms
2025-08-01 10:17:03.855 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 10:17:03.855 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 10:17:03.863 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.7957ms
2025-08-01 10:17:03.892 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.1595ms
2025-08-01 10:17:03.937 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 10:17:03.956 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.9087ms
2025-08-01 10:17:16.111 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - multipart/form-data; boundary=----WebKitFormBoundarykZB6iZmZLogqJzwu 11021
2025-08-01 10:17:16.120 +08:00 [INF] CORS policy execution successful.
2025-08-01 10:17:16.126 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 10:17:18.189 +08:00 [INF] Executing endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 10:17:20.666 +08:00 [INF] Executed DbCommand (147ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Int16), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Byte), @p15='?' (Size = 1) (DbType = Byte), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (Size = 20), @p23='?' (DbType = Boolean), @p24='?' (DbType = Boolean), @p25='?' (DbType = DateTime2), @p26='?' (Size = 4000), @p27='?' (Size = 20), @p28='?' (DbType = Guid), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Guid), @p32='?' (DbType = Byte), @p33='?' (DbType = Byte), @p34='?' (DbType = DateTime2), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (Size = 50), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (Size = 20), @p41='?' (DbType = Boolean), @p42='?' (DbType = Boolean), @p43='?' (DbType = DateTime2), @p44='?' (Size = 4000), @p45='?' (Size = 20), @p46='?' (DbType = Guid), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = Guid), @p50='?' (DbType = Byte), @p51='?' (DbType = Byte), @p52='?' (DbType = DateTime2), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (Size = 50), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (Size = 20), @p59='?' (DbType = Boolean), @p60='?' (DbType = Boolean), @p61='?' (DbType = DateTime2), @p62='?' (Size = 4000), @p63='?' (Size = 20), @p64='?' (DbType = Guid), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = Guid), @p68='?' (DbType = Byte), @p69='?' (DbType = Byte), @p70='?' (DbType = DateTime2), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (Size = 50), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (Size = 20), @p77='?' (DbType = Boolean), @p78='?' (DbType = Boolean), @p79='?' (DbType = DateTime2), @p80='?' (Size = 4000), @p81='?' (Size = 20), @p82='?' (DbType = Guid), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Plc.S7NetConfig] ([Id], [CreationTime], [Ip], [IsDeleted], [IsUse], [LastModificationTime], [LastModifierUser], [Port], [Rack], [ReadTimeOut], [S7Type], [Solt], [WriteTimeOut])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
INSERT INTO [Plc.S7EntityItem] ([Id], [ArrtypeLength], [BitOffset], [CreationTime], [DBAddress], [DataOffset], [Description], [DeviceName], [Index], [Ip], [IsDeleted], [IsUse], [LastModificationTime], [LastModifierUser], [Name], [NetGuid], [S7BlockType], [S7DataType])
VALUES (@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30),
(@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48),
(@p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, @p66),
(@p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84);
2025-08-01 10:17:20.706 +08:00 [INF] Executed endpoint 'HTTP: POST plc/add-allplc-config'
2025-08-01 10:17:20.710 +08:00 [INF] HTTP POST /plc/add-allplc-config responded 200 in 4580.8792 ms
2025-08-01 10:17:20.725 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/plc/add-allplc-config - 200 null application/json; charset=utf-8 4613.3647ms
2025-08-01 10:17:28.534 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:18:11.224 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:18:11.270 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:18:11.274 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:18:11.276 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:18:11.288 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:18:11.299 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:18:11.325 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:18:11.328 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:18:11.330 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:18:11.333 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:18:11.336 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:18:11.337 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:18:11.455 +08:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:18:11.458 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:18:11.460 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:18:11.469 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:18:11.480 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:18:11.492 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:18:11.587 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 10:18:11.596 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 10:18:11.598 +08:00 [INF] Quartz Scheduler created
2025-08-01 10:18:11.599 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 10:18:11.600 +08:00 [INF] RAMJobStore initialized.
2025-08-01 10:18:11.601 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-802370865' initialized
2025-08-01 10:18:11.602 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 10:18:11.603 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 10:18:11.611 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 10:18:11.796 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 10:18:11.877 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 10:18:11.923 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:18:11.927 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:18:11.929 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:18:12.106 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:18:12.112 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:18:12.189 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_1y6oyyg93sneybopbdq7bepkbs"
2025-08-01 10:18:12.189 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:18:12.189 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:18:12.189 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:18:12.192 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:18:12.287 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 10:18:12.292 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 10:18:12.423 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 10:18:12.424 +08:00 [INF] Hosting environment: Development
2025-08-01 10:18:12.425 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 10:18:12.427 +08:00 [INF] Scheduler JobScheduler_$_-802370865 started.
2025-08-01 10:18:12.428 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:18:12.805 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 10:18:12.985 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 190.7853ms
2025-08-01 10:18:13.004 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 10:18:13.010 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.7059ms
2025-08-01 10:18:13.145 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 10:18:13.186 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.8849ms
2025-08-01 10:18:13.238 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 10:18:13.260 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.9956ms
2025-08-01 10:18:42.278 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:18:42.850 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/user/add-adminrole - null 0
2025-08-01 10:18:42.859 +08:00 [INF] CORS policy execution successful.
2025-08-01 10:18:42.867 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 10:18:42.953 +08:00 [INF] Executing endpoint 'HTTP: POST user/add-adminrole'
2025-08-01 10:18:43.314 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__roleName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[CreationTime], [i].[Description], [i].[IsDeleted], [i].[LastModificationTime], [i].[LastModifierUser], [i].[RoleName]
FROM [Identity.Role] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[RoleName] = @__roleName_0
2025-08-01 10:18:45.761 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Identity.Role] ([Id], [CreationTime], [Description], [IsDeleted], [LastModificationTime], [LastModifierUser], [RoleName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-01 10:18:45.803 +08:00 [INF] Executed endpoint 'HTTP: POST user/add-adminrole'
2025-08-01 10:18:45.813 +08:00 [INF] HTTP POST /user/add-adminrole responded 200 in 2940.1726 ms
2025-08-01 10:18:45.844 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/user/add-adminrole - 200 null application/json; charset=utf-8 2993.5611ms
2025-08-01 10:18:54.351 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/user/add-adminuser - null 0
2025-08-01 10:18:54.369 +08:00 [INF] CORS policy execution successful.
2025-08-01 10:18:54.377 +08:00 [INF] Executing endpoint 'HTTP: POST user/add-adminuser'
2025-08-01 10:18:54.586 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[CreationTime], [i].[Description], [i].[Email], [i].[IsDeleted], [i].[LastModificationTime], [i].[LastModifierUser], [i].[LockoutEnd], [i].[Name], [i].[Password], [i].[Phone], [i].[RoleId], [i].[Username]
FROM [Identity.User] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[Username] = @__userName_0
2025-08-01 10:18:54.609 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__roleName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[CreationTime], [i].[Description], [i].[IsDeleted], [i].[LastModificationTime], [i].[LastModifierUser], [i].[RoleName]
FROM [Identity.Role] AS [i]
WHERE [i].[IsDeleted] = CAST(0 AS bit) AND [i].[RoleName] = @__roleName_0
2025-08-01 10:18:54.766 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 20), @p10='?' (Size = 4000), @p11='?' (DbType = Guid), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Identity.User] ([Id], [CreationTime], [Description], [Email], [IsDeleted], [LastModificationTime], [LastModifierUser], [LockoutEnd], [Name], [Password], [Phone], [RoleId], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-08-01 10:18:54.879 +08:00 [INF] Executed endpoint 'HTTP: POST user/add-adminuser'
2025-08-01 10:18:54.890 +08:00 [INF] HTTP POST /user/add-adminuser responded 200 in 514.3222 ms
2025-08-01 10:18:54.901 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/user/add-adminuser - 200 null application/json; charset=utf-8 550.5066ms
2025-08-01 10:19:05.363 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:19:28.645 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:19:58.094 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:20:22.441 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:21:58.722 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:21:58.775 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:21:58.780 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:21:58.782 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:21:58.790 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:21:58.801 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:21:58.824 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:21:58.827 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:21:58.829 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:21:58.831 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:21:58.834 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:21:58.836 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:21:58.904 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:21:58.906 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:21:58.908 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:21:58.910 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:21:58.914 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:21:58.921 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:21:59.011 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 10:21:59.023 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 10:21:59.025 +08:00 [INF] Quartz Scheduler created
2025-08-01 10:21:59.026 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 10:21:59.027 +08:00 [INF] RAMJobStore initialized.
2025-08-01 10:21:59.028 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-1225589001' initialized
2025-08-01 10:21:59.028 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 10:21:59.029 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 10:21:59.037 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 10:21:59.195 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 10:21:59.287 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 10:21:59.345 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:21:59.348 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:21:59.350 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:21:59.533 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:21:59.538 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:21:59.603 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:21:59.603 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:21:59.603 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:21:59.603 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_4nboyyg93sneyir8bdq7bettgr"
2025-08-01 10:21:59.606 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:21:59.691 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 10:21:59.697 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 10:21:59.835 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 10:21:59.837 +08:00 [INF] Hosting environment: Development
2025-08-01 10:21:59.838 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 10:21:59.841 +08:00 [INF] Scheduler JobScheduler_$_-1225589001 started.
2025-08-01 10:21:59.843 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:22:00.060 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 10:22:00.244 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 192.9157ms
2025-08-01 10:22:00.258 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 10:22:00.264 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.1634ms
2025-08-01 10:22:00.409 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 10:22:00.473 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.0201ms
2025-08-01 10:22:00.538 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 10:22:00.566 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.0055ms
2025-08-01 10:22:27.858 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:22:41.913 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:22:41.963 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:22:41.971 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:22:41.976 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:22:41.988 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:22:42.002 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:22:42.023 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:22:42.030 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:22:42.033 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:22:42.040 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:22:42.047 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:22:42.052 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:22:42.122 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:22:42.134 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:22:42.136 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:22:42.140 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:22:42.146 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:22:42.158 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:22:42.246 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 10:22:42.258 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 10:22:42.261 +08:00 [INF] Quartz Scheduler created
2025-08-01 10:22:42.264 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 10:22:42.267 +08:00 [INF] RAMJobStore initialized.
2025-08-01 10:22:42.285 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-1581606366' initialized
2025-08-01 10:22:42.294 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 10:22:42.298 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 10:22:42.348 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 10:22:42.516 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 10:22:42.628 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 10:22:42.678 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:22:42.686 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:22:42.700 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:22:42.891 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:22:42.895 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:22:42.964 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:22:42.964 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:22:42.964 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:22:42.964 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_3btoyyg93snebjmjbdq7be1mrh"
2025-08-01 10:22:42.967 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:22:43.060 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 10:22:43.068 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 10:22:43.208 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 10:22:43.210 +08:00 [INF] Hosting environment: Development
2025-08-01 10:22:43.213 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 10:22:43.213 +08:00 [INF] Scheduler JobScheduler_$_-1581606366 started.
2025-08-01 10:22:43.215 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:22:43.432 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 10:22:43.608 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 182.9668ms
2025-08-01 10:22:43.770 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 10:22:43.770 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 10:22:43.785 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 14.5721ms
2025-08-01 10:22:43.806 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.7656ms
2025-08-01 10:22:43.862 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 10:22:43.885 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.961ms
2025-08-01 10:22:57.737 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:22:57.781 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:22:57.785 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:22:57.788 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:22:57.797 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:22:57.807 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:22:57.829 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:22:57.832 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:22:57.834 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:22:57.836 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:22:57.840 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:22:57.841 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:22:57.909 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:22:57.911 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:22:57.914 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:22:57.916 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:22:57.919 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:22:57.926 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:22:58.014 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 10:22:58.025 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 10:22:58.027 +08:00 [INF] Quartz Scheduler created
2025-08-01 10:22:58.028 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 10:22:58.030 +08:00 [INF] RAMJobStore initialized.
2025-08-01 10:22:58.031 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '990413102' initialized
2025-08-01 10:22:58.032 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 10:22:58.034 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 10:22:58.042 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 10:22:58.191 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 10:22:58.271 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 10:22:58.319 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:22:58.323 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:22:58.326 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:22:58.502 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:22:58.506 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:22:58.579 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:22:58.579 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:22:58.579 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_xnnoyyg93snebqrhbdq7be1w8k"
2025-08-01 10:22:58.579 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:22:58.581 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:22:58.672 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 10:22:58.678 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 10:22:58.797 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 10:22:58.798 +08:00 [INF] Hosting environment: Development
2025-08-01 10:22:58.799 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 10:22:58.802 +08:00 [INF] Scheduler JobScheduler_$_990413102 started.
2025-08-01 10:22:58.804 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:22:59.018 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 10:22:59.205 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 195.1292ms
2025-08-01 10:22:59.219 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 10:22:59.225 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.6973ms
2025-08-01 10:22:59.362 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 10:22:59.392 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.9628ms
2025-08-01 10:22:59.457 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 10:22:59.484 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.3311ms
2025-08-01 10:23:24.051 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:23:24.100 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:23:24.104 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:23:24.107 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:23:24.116 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:23:24.129 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:23:24.152 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:23:24.156 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:23:24.158 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:23:24.161 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:23:24.165 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:23:24.167 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:23:24.230 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:23:24.233 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:23:24.235 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:23:24.237 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:23:24.241 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:23:24.248 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:23:24.335 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 10:23:24.347 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 10:23:24.349 +08:00 [INF] Quartz Scheduler created
2025-08-01 10:23:24.349 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 10:23:24.351 +08:00 [INF] RAMJobStore initialized.
2025-08-01 10:23:24.352 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-1464391004' initialized
2025-08-01 10:23:24.353 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 10:23:24.354 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 10:23:24.363 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 10:23:24.518 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 10:23:24.623 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 10:23:24.677 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:23:24.681 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:23:24.684 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:23:24.877 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:23:24.884 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:23:24.958 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:23:24.958 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:23:24.958 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_4beoyyg93sneymfmbdq7beurfn"
2025-08-01 10:23:24.958 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:23:24.959 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:23:25.062 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 10:23:25.069 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 10:23:25.207 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 10:23:25.208 +08:00 [INF] Hosting environment: Development
2025-08-01 10:23:25.209 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 10:23:25.210 +08:00 [INF] Scheduler JobScheduler_$_-1464391004 started.
2025-08-01 10:23:25.212 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:23:25.624 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 10:23:25.795 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 179.2416ms
2025-08-01 10:23:25.953 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 10:23:25.953 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 10:23:25.958 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.5349ms
2025-08-01 10:23:25.986 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.9328ms
2025-08-01 10:23:26.051 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 10:23:26.068 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.0533ms
2025-08-01 10:25:49.654 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:25:49.713 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:25:49.717 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:25:49.724 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.__EFMigrationsHistory]');
2025-08-01 10:25:49.734 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:25:49.746 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:25:49.768 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:25:49.770 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:25:49.772 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:25:49.774 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Identity.__EFMigrationsHistory]');
2025-08-01 10:25:49.777 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Identity.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:25:49.779 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:25:49.851 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:25:49.855 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:25:49.859 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-01 10:25:49.863 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Plc.__EFMigrationsHistory]');
2025-08-01 10:25:49.868 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Plc.__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-01 10:25:49.875 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-01 10:25:49.959 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-08-01 10:25:49.969 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-08-01 10:25:49.970 +08:00 [INF] Quartz Scheduler created
2025-08-01 10:25:49.971 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-08-01 10:25:49.972 +08:00 [INF] RAMJobStore initialized.
2025-08-01 10:25:49.972 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-483410101' initialized
2025-08-01 10:25:49.973 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-08-01 10:25:49.974 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-08-01 10:25:49.980 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-08-01 10:25:50.127 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-01 10:25:50.218 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 10:25:50.266 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:25:50.269 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:25:50.271 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:25:50.510 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:25:50.514 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:25:50.581 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:25:50.581 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:25:50.581 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:25:50.581 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_5nyyyyg93snebfifbdq7bei5do"
2025-08-01 10:25:50.584 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:25:50.681 +08:00 [INF] Now listening on: http://localhost:5050
2025-08-01 10:25:50.686 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-01 10:25:50.827 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 10:25:50.828 +08:00 [INF] Hosting environment: Development
2025-08-01 10:25:50.828 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-08-01 10:25:50.831 +08:00 [INF] Scheduler JobScheduler_$_-483410101 started.
2025-08-01 10:25:50.832 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:25:51.062 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-08-01 10:25:51.256 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 205.347ms
2025-08-01 10:25:51.422 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-08-01 10:25:51.422 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 10:25:51.433 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 11.7323ms
2025-08-01 10:25:51.451 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.5873ms
2025-08-01 10:25:51.537 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-08-01 10:25:51.551 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.8381ms
2025-08-01 10:26:16.463 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:26:43.373 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:27:09.717 +08:00 [DBG] Batch acquisition of 0 triggers
2025-08-01 10:27:56.992 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:27:57.026 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:27:57.030 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:27:57.223 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:27:57.227 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:27:57.293 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_bt5oyyg93snebb7ybdq7beag8i"
2025-08-01 10:27:57.293 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:27:57.293 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:27:57.293 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:27:57.296 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:28:22.810 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 10:28:23.244 +08:00 [INF] HTTP POST /user/user-login responded 200 in 425.5844 ms
2025-08-01 10:32:49.873 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:32:49.906 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:32:49.909 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:32:50.134 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:32:50.139 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:32:50.217 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:32:50.217 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:32:50.217 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_hnroyyg93snebhjqbdq7be7irj"
2025-08-01 10:32:50.217 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:32:50.220 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:32:56.344 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 10:32:57.389 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Common.Application.Exception.CommonException: Application exception
   at Identity.Application.LoginHandler.LoginEventHandler.Handle(LoginEvent request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\User.Application\LoginHandler\LoginEventHandler.cs:line 16
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Identity.Presentation.Login.Login.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\User.Presentation\Login\Login.cs:line 20
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfString>g__ExecuteAwaited|134_0(Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-01 10:35:33.939 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:35:33.972 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:35:33.976 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:35:34.169 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:35:34.177 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:35:34.246 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_xbwoyyg93sneyhubbdq7bjyzn1"
2025-08-01 10:35:34.246 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:35:34.246 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:35:34.246 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:35:34.250 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:36:51.267 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:36:51.323 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:36:51.349 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:36:51.527 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:36:51.538 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:36:51.612 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:36:51.612 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_ky8yyyg93snebid3bdq7bjnfdx"
2025-08-01 10:36:51.612 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:36:51.612 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:36:51.614 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:36:55.779 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 10:36:56.708 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Common.Application.Exception.CommonException: Application exception
   at Identity.Application.LoginHandler.LoginEventHandler.Handle(LoginEvent request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\User.Application\LoginHandler\LoginEventHandler.cs:line 16
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Identity.Presentation.Login.Login.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\User.Presentation\Login\Login.cs:line 20
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfString>g__ExecuteAwaited|134_0(Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-01 10:36:56.908 +08:00 [ERR] HTTP POST /user/user-login responded 500 in 1121.7311 ms
2025-08-01 10:39:08.833 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:39:08.868 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:39:08.872 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:39:09.065 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:39:09.073 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:39:09.131 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:39:09.131 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:39:09.131 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:39:09.131 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_ztuyyyg93sneb9pdbdq7bjrzde"
2025-08-01 10:39:09.135 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:39:14.180 +08:00 [ERR] HTTP POST /user/user-login responded 500 in 978.6858 ms
2025-08-01 10:57:35.601 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 10:57:35.641 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 10:57:35.644 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 10:57:35.741 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 10:57:35.745 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 10:57:35.779 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_dnfyyyg93sneyj7cbdq7bj3myk"
2025-08-01 10:57:35.779 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:57:35.779 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:57:35.780 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:57:35.783 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 10:58:27.368 +08:00 [DBG] Stopping bus instances: IBus
2025-08-01 10:58:27.372 +08:00 [DBG] Stopping bus: "loopback://localhost/"
2025-08-01 10:58:27.377 +08:00 [DBG] Endpoint Stopping: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:58:27.379 +08:00 [DBG] Consumer Stopping: "loopback://localhost/WcsIntegrationEvent" (Stop Receive Transport)
2025-08-01 10:58:27.385 +08:00 [DBG] Endpoint Completed: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 10:58:27.393 +08:00 [DBG] Consumer Completed: "loopback://localhost/WcsIntegrationEvent": 0 received, 0 concurrent
2025-08-01 10:58:27.396 +08:00 [DBG] Endpoint Stopping: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:58:27.397 +08:00 [DBG] Consumer Stopping: "loopback://localhost/S7ReadPlcDataBlockEvent" (Stop Receive Transport)
2025-08-01 10:58:27.398 +08:00 [DBG] Endpoint Completed: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 10:58:27.399 +08:00 [DBG] Consumer Completed: "loopback://localhost/S7ReadPlcDataBlockEvent": 0 received, 0 concurrent
2025-08-01 10:58:27.401 +08:00 [DBG] Endpoint Stopping: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:58:27.402 +08:00 [DBG] Consumer Stopping: "loopback://localhost/S7WritePlcDataBlockEvent" (Stop Receive Transport)
2025-08-01 10:58:27.403 +08:00 [DBG] Endpoint Completed: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 10:58:27.403 +08:00 [DBG] Consumer Completed: "loopback://localhost/S7WritePlcDataBlockEvent": 0 received, 0 concurrent
2025-08-01 10:58:27.405 +08:00 [DBG] Endpoint Stopping: "loopback://localhost/_WarehourceSource_bus_dnfyyyg93sneyj7cbdq7bj3myk"
2025-08-01 10:58:27.406 +08:00 [DBG] Consumer Stopping: "loopback://localhost/_WarehourceSource_bus_dnfyyyg93sneyj7cbdq7bj3myk" (Stop Receive Transport)
2025-08-01 10:58:27.406 +08:00 [DBG] Endpoint Completed: "loopback://localhost/_WarehourceSource_bus_dnfyyyg93sneyj7cbdq7bj3myk"
2025-08-01 10:58:27.407 +08:00 [DBG] Consumer Completed: "loopback://localhost/_WarehourceSource_bus_dnfyyyg93sneyj7cbdq7bj3myk": 0 received, 0 concurrent
2025-08-01 10:58:27.420 +08:00 [INF] Bus stopped: "loopback://localhost/"
2025-08-01 11:08:00.693 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 11:08:00.757 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 11:08:00.760 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 11:08:01.054 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 11:08:01.058 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 11:08:01.131 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 11:08:01.131 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 11:08:01.131 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 11:08:01.131 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_obuoyyg93sney7p1bdq7bkr9fa"
2025-08-01 11:08:01.135 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 11:08:13.833 +08:00 [INF] HTTP POST /user/user-login responded 200 in 628.5424 ms
2025-08-01 11:09:37.280 +08:00 [ERR] HTTP POST /job/add-job responded 500 in 4345.1521 ms
System.InvalidOperationException: Sequence contains no matching element
   at System.Linq.ThrowHelper.ThrowNoMatchException()
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source, Func`2 predicate)
   at Wcs.Application.Job.Insert.AddJobEventHandler.Handle(AddJobEvent request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Wcs.Application\Job\Insert\AddJobEventHandler.cs:line 34
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Wcs.Presentation.Job.Add.AddJobConfig.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Wcs.Presentation\Job\Add\AddJobConfig.cs:line 20
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-08-01 11:10:49.319 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 11:10:49.353 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 11:10:49.356 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 11:10:49.561 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 11:10:49.564 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 11:10:49.631 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 11:10:49.631 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 11:10:49.631 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 11:10:49.631 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_1bnyyyg93snebsxgbdq7bkerbo"
2025-08-01 11:10:49.633 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 11:13:08.078 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 11:13:08.112 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 11:13:08.118 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 11:13:08.329 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 11:13:08.334 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 11:13:08.423 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_dbkoyyg93snebccebdq7bkks8f"
2025-08-01 11:13:08.423 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 11:13:08.423 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 11:13:08.423 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 11:13:08.428 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 11:13:17.161 +08:00 [ERR] HTTP POST /job/add-job responded 500 in 1131.0599 ms
2025-08-01 11:13:25.938 +08:00 [DBG] Create send transport: "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent"
2025-08-01 11:13:26.072 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "18550000-dfcd-8480-8917-08ddd0a96174" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 11:13:26.078 +08:00 [INF] HTTP POST /job/add-job responded 200 in 359.5336 ms
2025-08-01 11:13:26.372 +08:00 [DBG] RECEIVE "loopback://localhost/S7ReadPlcDataBlockEvent" "18550000-dfcd-8480-8917-08ddd0a96174" Plc.CustomEvents.S7ReadPlcDataBlockEvent Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>("00:00:00.2594164")
2025-08-01 11:14:56.735 +08:00 [INF] HTTP POST /job/job-status responded 200 in 448.3296 ms
2025-08-01 11:15:06.207 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "18550000-dfcd-8480-80eb-08ddd0a99d35" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 11:15:21.637 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "18550000-dfcd-8480-2476-08ddd0a9a668" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 11:15:33.391 +08:00 [DBG] RECEIVE "loopback://localhost/S7ReadPlcDataBlockEvent" "18550000-dfcd-8480-80eb-08ddd0a99d35" Plc.CustomEvents.S7ReadPlcDataBlockEvent Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>("00:00:27.1807534")
2025-08-01 12:52:35.529 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 12:52:35.571 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 12:52:35.575 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 12:52:35.771 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 12:52:35.788 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 12:52:35.850 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_itsyyyg93snebo31bdq7bp35gg"
2025-08-01 12:52:35.850 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 12:52:35.853 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 12:52:35.853 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 12:52:35.855 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 14:57:54.501 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 14:57:54.539 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 14:57:54.542 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 14:57:54.743 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 14:57:54.748 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 14:57:54.815 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 14:57:54.815 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 14:57:54.815 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_wygoyyg93sneysopbdq7b1f7dx"
2025-08-01 14:57:54.815 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 14:57:54.818 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 14:58:12.554 +08:00 [INF] HTTP POST /plc/add-allplc-config responded 200 in 2018.8094 ms
2025-08-01 14:58:28.725 +08:00 [INF] HTTP POST /plc/add-allplc-config responded 200 in 630.4755 ms
2025-08-01 15:10:43.248 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 15:10:43.283 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 15:10:43.285 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 15:10:43.494 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 15:10:43.498 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 15:10:43.573 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 15:10:43.573 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 15:10:43.573 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 15:10:43.573 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_snryyyg93sneyh3pbdq7b1w8ff"
2025-08-01 15:10:43.576 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 15:14:20.769 +08:00 [INF] HTTP POST /job/job-status responded 401 in 53.7694 ms
2025-08-01 15:14:38.904 +08:00 [INF] HTTP POST /user/user-login responded 200 in 409.0376 ms
2025-08-01 15:15:02.002 +08:00 [INF] HTTP POST /job/job-status responded 200 in 411.3384 ms
2025-08-01 15:15:03.154 +08:00 [DBG] Create send transport: "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent"
2025-08-01 15:15:03.197 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-6c92-08ddd0cb2276" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:15:12.285 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-b7cf-08ddd0cb27e6" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:15:17.893 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-9426-08ddd0cb2b3e" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:15:18.133 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-e5b8-08ddd0cb2b62" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:15:18.842 +08:00 [DBG] RECEIVE "loopback://localhost/S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-b7cf-08ddd0cb27e6" Plc.CustomEvents.S7ReadPlcDataBlockEvent Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>("00:00:00.9124320")
2025-08-01 15:15:18.869 +08:00 [DBG] RECEIVE "loopback://localhost/S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-9426-08ddd0cb2b3e" Plc.CustomEvents.S7ReadPlcDataBlockEvent Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>("00:00:00.9282283")
2025-08-01 15:15:18.833 +08:00 [DBG] RECEIVE "loopback://localhost/S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-e5b8-08ddd0cb2b62" Plc.CustomEvents.S7ReadPlcDataBlockEvent Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>("00:00:00.6576925")
2025-08-01 15:15:18.897 +08:00 [DBG] RECEIVE "loopback://localhost/S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-6c92-08ddd0cb2276" Plc.CustomEvents.S7ReadPlcDataBlockEvent Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>("00:00:15.6827006")
2025-08-01 15:15:23.114 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-2379-08ddd0cb2e5b" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:15:23.282 +08:00 [DBG] RECEIVE "loopback://localhost/S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-2379-08ddd0cb2e5b" Plc.CustomEvents.S7ReadPlcDataBlockEvent Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>("00:00:00.1674181")
2025-08-01 15:15:28.115 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-4691-08ddd0cb3156" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:15:49.182 +08:00 [DBG] RECEIVE "loopback://localhost/S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-4691-08ddd0cb3156" Plc.CustomEvents.S7ReadPlcDataBlockEvent Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>("00:00:21.0661912")
2025-08-01 15:15:53.114 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-c227-08ddd0cb403c" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:15:56.362 +08:00 [DBG] RECEIVE "loopback://localhost/S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-c227-08ddd0cb403c" Plc.CustomEvents.S7ReadPlcDataBlockEvent Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>("00:00:03.2475808")
2025-08-01 15:15:58.114 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-c1b1-08ddd0cb4337" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:15:58.348 +08:00 [DBG] RECEIVE "loopback://localhost/S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-c1b1-08ddd0cb4337" Plc.CustomEvents.S7ReadPlcDataBlockEvent Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>("00:00:00.2331888")
2025-08-01 15:16:03.119 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-606a-08ddd0cb4633" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:16:03.519 +08:00 [DBG] RECEIVE "loopback://localhost/S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-606a-08ddd0cb4633" Plc.CustomEvents.S7ReadPlcDataBlockEvent Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>("00:00:00.3995153")
2025-08-01 15:16:03.523 +08:00 [INF] HTTP POST /job/job-status responded 200 in 72.4199 ms
2025-08-01 15:17:00.183 +08:00 [INF] HTTP POST /job/job-status responded 200 in 24.9401 ms
2025-08-01 15:17:03.117 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-699a-08ddd0cb69f6" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:17:09.186 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "b0880000-dfcd-8480-439b-08ddd0cb6d94" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:18:17.445 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 15:18:17.484 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 15:18:17.490 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 15:18:17.718 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 15:18:17.733 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 15:18:17.849 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 15:18:17.849 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 15:18:17.849 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 15:18:17.849 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_6y1yyyg93sney813bdq7b1hsn9"
2025-08-01 15:18:17.854 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 15:18:18.128 +08:00 [DBG] Create send transport: "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent"
2025-08-01 15:18:18.195 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "f0240000-dfcd-8480-0db4-08ddd0cb96ae" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:18:22.830 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "f0240000-dfcd-8480-980e-08ddd0cb9979" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:18:28.178 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "f0240000-dfcd-8480-aea1-08ddd0cb9ca9" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:24:28.969 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 15:24:29.006 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 15:24:29.012 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 15:24:29.223 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 15:24:29.228 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 15:24:29.296 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 15:24:29.296 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 15:24:29.296 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 15:24:29.296 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_cnkoyyg93snebot5bdq7budugt"
2025-08-01 15:24:29.297 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 15:24:29.561 +08:00 [DBG] Create send transport: "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent"
2025-08-01 15:24:29.625 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "60950000-dfcd-8480-8b84-08ddd0cc7411" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:25:03.062 +08:00 [DBG] SEND "loopback://localhost/urn:message:Plc.CustomEvents:S7ReadPlcDataBlockEvent" "60950000-dfcd-8480-e3c5-08ddd0cc8807" Plc.CustomEvents.S7ReadPlcDataBlockEvent
2025-08-01 15:28:13.496 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 15:28:13.535 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 15:28:13.540 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 15:28:13.730 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 15:28:13.734 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 15:28:13.792 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 15:28:13.792 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_sbiyyyg93snebtq5bdq7bu83fn"
2025-08-01 15:28:13.792 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 15:28:13.792 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 15:28:13.795 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 15:30:55.765 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 15:30:55.817 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 15:30:55.822 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 15:30:56.010 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 15:30:56.014 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 15:30:56.083 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 15:30:56.083 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 15:30:56.083 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 15:30:56.083 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_yoryyyg93sneb58ebdq7buk4nh"
2025-08-01 15:30:56.086 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 15:32:33.187 +08:00 [ERR] HTTP GET /plc/get-allplc-centity-item responded 500 in 88433.8250 ms
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Plc.Infrastructure.Token.S7NetToken.CreatReadS7Item(ReadBufferInput input) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\Token\S7NetTokenCommunication.cs:line 12
   at Plc.Infrastructure.Token.S7NetToken.ReadAsync(ReadBufferInput input) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\Token\S7NetToken.cs:line 68
   at Plc.Infrastructure.Service.S7NetService.ReadAsync(ReadBufferInput input) in D:\Program\仓库\Warehource.Modules\Plc.Infrastructure\Service\S7NetService.cs:line 48
   at Plc.Application.PlcHandler.Read.ReadPlcEventHandle.Handle(ReadPlcEventCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcHandler\Read\ReadPlcEventHandle.cs:line 28
   at Plc.Application.Behaviors.Read.FilterReadS7PlcPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\Behaviors\Read\FilterReadS7PlcPipelineBehavior.cs:line 33
   at Plc.Application.Behaviors.Read.SingleReadS7PlcPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\Behaviors\Read\SingleReadS7PlcPipelineBehavior.cs:line 40
   at Plc.Application.Behaviors.Read.BathReadS7PlcPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\Behaviors\Read\BathReadS7PlcPipelineBehavior.cs:line 57
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.Entity.GetS7EntityItem.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\Entity\GetS7EntityItem.cs:line 17
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-08-01 15:42:38.822 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 15:42:38.949 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 15:42:38.953 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 15:42:39.442 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 15:42:39.475 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 15:42:39.582 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 15:42:39.582 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 15:42:39.606 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_ztnoyyg93snebx3rbdq7buz7r1"
2025-08-01 15:42:39.587 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 15:42:39.655 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 15:44:07.310 +08:00 [ERR] HTTP GET /plc/get-allplc-centity-item responded 500 in 74289.6317 ms
System.ArgumentNullException: Value cannot be null. (Parameter 'collection')
   at System.Collections.Generic.List`1.AddRange(IEnumerable`1 collection)
   at Plc.Application.PlcHandler.Read.ReadPlcEventHandle.Handle(ReadPlcEventCommand request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\PlcHandler\Read\ReadPlcEventHandle.cs:line 29
   at Plc.Application.Behaviors.Read.FilterReadS7PlcPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\Behaviors\Read\FilterReadS7PlcPipelineBehavior.cs:line 33
   at Plc.Application.Behaviors.Read.SingleReadS7PlcPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\Behaviors\Read\SingleReadS7PlcPipelineBehavior.cs:line 40
   at Plc.Application.Behaviors.Read.BathReadS7PlcPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Plc.Application\Behaviors\Read\BathReadS7PlcPipelineBehavior.cs:line 57
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at Plc.Presentation.S7Plc.Entity.GetS7EntityItem.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\Plc.Presentation\S7Plc\Entity\GetS7EntityItem.cs:line 17
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|133_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-08-01 15:46:15.044 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 15:46:15.079 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 15:46:15.087 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 15:46:15.290 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 15:46:15.298 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 15:46:15.368 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_inkyyyg93sney48ebdq7bu56nm"
2025-08-01 15:46:15.368 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 15:46:15.368 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 15:46:15.368 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 15:46:15.369 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 15:46:50.529 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 15:46:50.574 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 15:46:50.579 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 15:46:50.774 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 15:46:50.778 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 15:46:50.848 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_nnfoyyg93sney617bdq7buhud1"
2025-08-01 15:46:50.848 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 15:46:50.848 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 15:46:50.848 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 15:46:50.851 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 15:47:20.516 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 15:47:20.556 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 15:47:20.562 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 15:47:20.772 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 15:47:20.779 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 15:47:20.834 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 15:47:20.834 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_f1eoyyg93sneyt4xbdq7bu7fnu"
2025-08-01 15:47:20.834 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 15:47:20.834 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 15:47:20.855 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 16:01:34.109 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 16:01:34.159 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 16:01:34.162 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 16:01:34.338 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 16:01:34.342 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 16:01:34.407 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 16:01:34.407 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 16:01:34.407 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_81eoyyg93sneytoybdq7bwpnya"
2025-08-01 16:01:34.407 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 16:01:34.411 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 16:02:23.556 +08:00 [INF] HTTP GET /plc/get-allplc-centity-item responded 200 in 41625.7949 ms
2025-08-01 16:19:06.954 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 16:19:06.989 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 16:19:06.992 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 16:19:07.188 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 16:19:07.192 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 16:19:07.265 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 16:19:07.265 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 16:19:07.265 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 16:19:07.265 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_fbkyyyg93snebsuibdq7biyifn"
2025-08-01 16:19:07.267 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 16:20:22.932 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 16:20:22.969 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 16:20:22.974 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 16:20:23.168 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 16:20:23.171 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 16:20:23.235 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_51koyyg93sneygtgbdq7binn8p"
2025-08-01 16:20:23.235 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 16:20:23.235 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 16:20:23.235 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 16:20:23.237 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 16:21:05.769 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 16:21:05.827 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 16:21:05.833 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 16:21:06.044 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 16:21:06.051 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 16:21:06.130 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 16:21:06.130 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 16:21:06.130 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 16:21:06.130 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_nbuyyyg93sney6wdbdq7binhd4"
2025-08-01 16:21:06.132 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 16:22:16.991 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 16:22:17.031 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 16:22:17.035 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 16:22:17.228 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 16:22:17.235 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 16:22:17.303 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 16:22:17.303 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 16:22:17.303 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_d1gyyyg93snebdjtbdq7birg8e"
2025-08-01 16:22:17.303 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 16:22:17.306 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 16:23:28.213 +08:00 [INF] HTTP GET /plc/get-allplc-centity-item responded 200 in 63293.4660 ms
2025-08-01 16:29:42.872 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 16:29:42.929 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 16:29:42.939 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 16:29:43.145 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 16:29:43.149 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 16:29:43.224 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 16:29:43.224 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 16:29:43.224 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 16:29:43.224 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_dt5oyyg93sneyzqnbdq7bicof1"
2025-08-01 16:29:43.227 +08:00 [INF] Bus started: "loopback://localhost/"
2025-08-01 16:31:25.897 +08:00 [INF] HTTP GET /plc/get-allplc-centity-item responded 200 in 94663.8273 ms
2025-08-01 16:32:54.800 +08:00 [INF] HTTP GET /plc/get-allplc-centity-item responded 200 in 55409.5860 ms
2025-08-01 17:40:41.191 +08:00 [INF] Configured endpoint WcsIntegrationEvent, Consumer: Wcs.Application.Custom.WcsCustomEventConsumer<Wcs.CustomEvents.WcsIntegrationEvent>
2025-08-01 17:40:41.245 +08:00 [INF] Configured endpoint S7ReadPlcDataBlockEvent, Consumer: Plc.Application.Custom.ReadPlcEventConsumer<Plc.CustomEvents.S7ReadPlcDataBlockEvent>
2025-08-01 17:40:41.248 +08:00 [INF] Configured endpoint S7WritePlcDataBlockEvent, Consumer: Plc.Application.Custom.WritePlcEventConsumer<Plc.CustomEvents.S7WritePlcDataBlockEvent>
2025-08-01 17:40:41.369 +08:00 [DBG] Starting bus instances: IBus
2025-08-01 17:40:41.373 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-08-01 17:40:41.411 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_my5oyyg93snebweabdq7bz54gk"
2025-08-01 17:40:41.411 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7ReadPlcDataBlockEvent"
2025-08-01 17:40:41.411 +08:00 [DBG] Endpoint Ready: "loopback://localhost/S7WritePlcDataBlockEvent"
2025-08-01 17:40:41.411 +08:00 [DBG] Endpoint Ready: "loopback://localhost/WcsIntegrationEvent"
2025-08-01 17:40:41.415 +08:00 [INF] Bus started: "loopback://localhost/"
