2025-07-22 10:36:32.806 +08:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 10:36:33.079 +08:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 10:36:33.099 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 10:36:33.112 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 10:36:33.192 +08:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 10:36:33.289 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 10:36:33.971 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 10:36:34.029 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 10:36:34.088 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 10:36:34.101 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 10:36:34.126 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 10:36:34.215 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 10:36:34.544 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 10:36:34.569 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 10:36:34.586 +08:00 [INF] Quartz Scheduler created
2025-07-22 10:36:34.592 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 10:36:34.610 +08:00 [INF] RAMJobStore initialized.
2025-07-22 10:36:34.632 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-257252163' initialized
2025-07-22 10:36:34.636 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 10:36:34.647 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 10:36:34.678 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 10:36:35.540 +08:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 10:36:35.784 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 10:36:36.419 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 10:36:36.841 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 10:36:36.860 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 10:36:36.964 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 10:36:36.964 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_jt1yyyg93sneybbbbdqht1rwdj"
2025-07-22 10:36:36.991 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 10:36:37.257 +08:00 [INF] Now listening on: https://localhost:7162
2025-07-22 10:36:37.259 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 10:36:37.261 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 10:36:37.262 +08:00 [INF] Hosting environment: Development
2025-07-22 10:36:37.263 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 10:36:37.269 +08:00 [INF] Scheduler JobScheduler_$_-257252163 started.
2025-07-22 10:36:37.271 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:37:03.790 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:37:28.988 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:37:56.045 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:38:21.974 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:38:46.629 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:39:16.361 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:39:40.990 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:40:04.769 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:40:33.955 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:41:02.992 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:41:30.270 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:41:37.239 +08:00 [INF] Usage Telemetry: {"id":"4c640000-dfcd-8480-6325-08ddc8c89432","created":"2025-07-22T10:36:36.1827391\u002B08:00","host":{"framework_version":"8.0.11","mass_transit_version":"8.5.0.0","operating_system_version":"Microsoft Windows NT 10.0.26100.0","time_zone_info":"(UTC\u002B08:00) \u5317\u4EAC\uFF0C\u91CD\u5E86\uFF0C\u9999\u6E2F\u7279\u522B\u884C\u653F\u533A\uFF0C\u4E4C\u9C81\u6728\u9F50","commit_hash":"9c1b9ef3228ac000bf2ed0c4e0a669a30f1431ae"},"bus":[{"created":"2025-07-22T10:36:36.1927092\u002B08:00","configured":"2025-07-22T10:36:36.7055576\u002B08:00","started":"2025-07-22T10:36:36.9788709\u002B08:00","name":"IBus","endpoints":[{"name":"SendWmsTasksIntegrationEvent","type":"InMemory","prefetch_count":32,"consumer_count":1,"message_count":1},{"name":"_bus_","type":"InMemory","prefetch_count":32}]}]}
2025-07-22 10:41:57.076 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:42:24.834 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:42:51.749 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:43:18.337 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:43:47.091 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:44:11.997 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7162/swagger/index.html - null null
2025-07-22 10:44:12.346 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7162/swagger/index.html - 200 null text/html;charset=utf-8 349.8392ms
2025-07-22 10:44:12.529 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:44:12.593 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7162/swagger/v1/swagger.json - null null
2025-07-22 10:44:12.595 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7162/swagger/favicon-32x32.png - null null
2025-07-22 10:44:12.609 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 10:44:12.612 +08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-07-22 10:44:12.614 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7162/swagger/favicon-32x32.png - 200 628 image/png 18.8545ms
2025-07-22 10:44:12.756 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7162/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.7293ms
2025-07-22 10:44:37.513 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:45:06.367 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:45:29.622 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:45:55.005 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:46:21.214 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:46:49.693 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:47:14.336 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:47:43.829 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:48:11.365 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:48:38.758 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:49:07.519 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:49:34.250 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:50:00.886 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:50:26.630 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:50:51.073 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:51:17.870 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:51:40.971 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:52:07.351 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:52:37.196 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:53:02.647 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:53:29.802 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:53:55.910 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:54:21.339 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:54:47.769 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:55:12.206 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:55:36.962 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:56:02.431 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:56:30.466 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:56:54.123 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:57:17.996 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:57:29.748 +08:00 [INF] Request starting HTTP/2 POST https://localhost:7162/user/user-login - application/json 46
2025-07-22 10:57:30.837 +08:00 [INF] Executing endpoint 'HTTP: POST user/user-login'
2025-07-22 10:57:31.223 +08:00 [INF] Executed DbCommand (151ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreationTime], [u].[Description], [u].[Email], [u].[IsDeleted], [u].[LastModificationTime], [u].[LastModifierUser], [u].[LockoutEnd], [u].[Name], [u].[Password], [u].[Phone], [u].[RoleId], [u].[Username], [t].[Id], [t].[CreationTime], [t].[Description], [t].[IsDeleted], [t].[LastModificationTime], [t].[LastModifierUser], [t].[RoleName]
FROM [User].[User] AS [u]
INNER JOIN (
    SELECT [r].[Id], [r].[CreationTime], [r].[Description], [r].[IsDeleted], [r].[LastModificationTime], [r].[LastModifierUser], [r].[RoleName]
    FROM [User].[Role] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [u].[RoleId] = [t].[Id]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__userName_0
2025-07-22 10:57:31.335 +08:00 [INF] Executed endpoint 'HTTP: POST user/user-login'
2025-07-22 10:57:31.343 +08:00 [INF] HTTP POST /user/user-login responded 200 in 1559.1299 ms
2025-07-22 10:57:31.354 +08:00 [INF] Request finished HTTP/2 POST https://localhost:7162/user/user-login - 200 null text/plain; charset=utf-8 1605.9578ms
2025-07-22 10:57:41.469 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:58:08.027 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:58:31.881 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:59:01.759 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:59:25.453 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 10:59:53.096 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:00:19.815 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:00:44.566 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:01:09.374 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:01:33.473 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:02:02.371 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:02:22.913 +08:00 [INF] Request starting HTTP/2 POST https://localhost:7162/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 11:02:23.011 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 11:02:23.053 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 11:02:23.066 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 11:02:23.080 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 11:02:23.083 +08:00 [INF] HTTP POST /wcshub/negotiate responded 401 in 130.6451 ms
2025-07-22 11:02:23.086 +08:00 [INF] Request finished HTTP/2 POST https://localhost:7162/wcshub/negotiate?negotiateVersion=1 - 401 0 null 173.4321ms
2025-07-22 11:02:29.983 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:02:54.969 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:03:18.674 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:03:44.445 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:04:12.138 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:04:39.545 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:04:49.151 +08:00 [INF] Request starting HTTP/2 POST https://localhost:7162/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 11:04:49.156 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 11:04:49.161 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 11:04:49.164 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 11:04:49.168 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 11:04:49.170 +08:00 [INF] HTTP POST /wcshub/negotiate responded 401 in 16.6323 ms
2025-07-22 11:04:49.173 +08:00 [INF] Request finished HTTP/2 POST https://localhost:7162/wcshub/negotiate?negotiateVersion=1 - 401 0 null 22.3277ms
2025-07-22 11:05:04.778 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:05:05.502 +08:00 [INF] Application is shutting down...
2025-07-22 11:05:05.570 +08:00 [DBG] Stopping bus instances: IBus
2025-07-22 11:05:05.607 +08:00 [DBG] Stopping bus: "loopback://localhost/"
2025-07-22 11:05:05.627 +08:00 [DBG] Endpoint Stopping: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 11:05:05.629 +08:00 [DBG] Consumer Stopping: "loopback://localhost/SendWmsTasksIntegrationEvent" (Stop Receive Transport)
2025-07-22 11:05:05.673 +08:00 [DBG] Endpoint Completed: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 11:05:05.709 +08:00 [DBG] Consumer Completed: "loopback://localhost/SendWmsTasksIntegrationEvent": 0 received, 0 concurrent
2025-07-22 11:05:05.716 +08:00 [DBG] Endpoint Stopping: "loopback://localhost/_WarehourceSource_bus_jt1yyyg93sneybbbbdqht1rwdj"
2025-07-22 11:05:05.717 +08:00 [DBG] Consumer Stopping: "loopback://localhost/_WarehourceSource_bus_jt1yyyg93sneybbbbdqht1rwdj" (Stop Receive Transport)
2025-07-22 11:05:05.718 +08:00 [DBG] Endpoint Completed: "loopback://localhost/_WarehourceSource_bus_jt1yyyg93sneybbbbdqht1rwdj"
2025-07-22 11:05:05.719 +08:00 [DBG] Consumer Completed: "loopback://localhost/_WarehourceSource_bus_jt1yyyg93sneybbbbdqht1rwdj": 0 received, 0 concurrent
2025-07-22 11:05:05.737 +08:00 [INF] Bus stopped: "loopback://localhost/"
2025-07-22 11:05:05.744 +08:00 [INF] Scheduler JobScheduler_$_-257252163 shutting down.
2025-07-22 11:05:05.747 +08:00 [INF] Scheduler JobScheduler_$_-257252163 paused.
2025-07-22 11:05:05.754 +08:00 [DBG] Shutting down threadpool...
2025-07-22 11:05:05.755 +08:00 [DBG] Waiting for 0 threads to complete.
2025-07-22 11:05:05.756 +08:00 [DBG] No executing jobs remaining, all threads stopped.
2025-07-22 11:05:05.757 +08:00 [DBG] Shutdown of threadpool complete.
2025-07-22 11:05:05.760 +08:00 [INF] Scheduler JobScheduler_$_-257252163 Shutdown complete.
2025-07-22 11:05:25.829 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:05:25.948 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 11:05:25.958 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:05:25.963 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 11:05:25.982 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:05:26.004 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:05:26.072 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:05:26.076 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 11:05:26.079 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:05:26.084 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 11:05:26.089 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:05:26.091 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:05:26.199 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 11:05:26.211 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 11:05:26.213 +08:00 [INF] Quartz Scheduler created
2025-07-22 11:05:26.214 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 11:05:26.215 +08:00 [INF] RAMJobStore initialized.
2025-07-22 11:05:26.216 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '632745644' initialized
2025-07-22 11:05:26.217 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 11:05:26.218 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 11:05:26.228 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 11:05:26.552 +08:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 11:05:26.645 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:05:26.744 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 11:05:27.009 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 11:05:27.015 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 11:05:27.095 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_qnmoyyg93snebof7bdqhtur5gj"
2025-07-22 11:05:27.095 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 11:05:27.099 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 11:05:27.189 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 11:05:27.191 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:05:27.192 +08:00 [INF] Hosting environment: Development
2025-07-22 11:05:27.193 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 11:05:27.198 +08:00 [INF] Scheduler JobScheduler_$_632745644 started.
2025-07-22 11:05:27.200 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:05:27.415 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger - null null
2025-07-22 11:05:27.675 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger - 301 0 null 261.6403ms
2025-07-22 11:05:27.680 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 11:05:27.814 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 133.8158ms
2025-07-22 11:05:27.844 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/swagger-ui.css - null null
2025-07-22 11:05:27.844 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/swagger-ui-standalone-preset.js - null null
2025-07-22 11:05:27.844 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/swagger-ui-bundle.js - null null
2025-07-22 11:05:27.938 +08:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-07-22 11:05:27.938 +08:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-07-22 11:05:27.941 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 97.3861ms
2025-07-22 11:05:27.941 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/swagger-ui.css - 200 152034 text/css 97.4056ms
2025-07-22 11:05:27.963 +08:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-07-22 11:05:27.965 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 120.9949ms
2025-07-22 11:05:28.204 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/favicon-32x32.png - null null
2025-07-22 11:05:28.204 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 11:05:28.208 +08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-07-22 11:05:28.212 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/favicon-32x32.png - 200 628 image/png 8.8113ms
2025-07-22 11:05:28.219 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 11:05:28.351 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 147.2867ms
2025-07-22 11:05:54.183 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:05:59.321 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/user/user-login - application/json 50
2025-07-22 11:05:59.337 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 11:06:03.559 +08:00 [INF] Executing endpoint 'HTTP: POST user/user-login'
2025-07-22 11:06:05.307 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreationTime], [u].[Description], [u].[Email], [u].[IsDeleted], [u].[LastModificationTime], [u].[LastModifierUser], [u].[LockoutEnd], [u].[Name], [u].[Password], [u].[Phone], [u].[RoleId], [u].[Username], [t].[Id], [t].[CreationTime], [t].[Description], [t].[IsDeleted], [t].[LastModificationTime], [t].[LastModifierUser], [t].[RoleName]
FROM [User].[User] AS [u]
INNER JOIN (
    SELECT [r].[Id], [r].[CreationTime], [r].[Description], [r].[IsDeleted], [r].[LastModificationTime], [r].[LastModifierUser], [r].[RoleName]
    FROM [User].[Role] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [u].[RoleId] = [t].[Id]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__userName_0
2025-07-22 11:06:05.470 +08:00 [INF] Executed endpoint 'HTTP: POST user/user-login'
2025-07-22 11:06:05.476 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at User.Domain.UserManager.GetUserAndRoleAsync(String userName) in D:\Program\仓库\Warehource.Modules\User.Domain\UserManager.cs:line 37
   at User.Application.LoginHandler.LoginEventHandler.Handle(LoginEvent request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\User.Application\LoginHandler\LoginEventHandler.cs:line 13
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at User.Presentation.Login.Login.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\User.Presentation\Login\Login.cs:line 20
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfString>g__ExecuteAwaited|134_0(Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-22 11:06:05.552 +08:00 [ERR] HTTP POST /user/user-login responded 500 in 6210.2858 ms
2025-07-22 11:06:05.585 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/user/user-login - 500 null application/json; charset=utf-8 6263.8663ms
2025-07-22 11:06:17.776 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:06:42.366 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:07:11.936 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:07:41.352 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:07:52.758 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/ - null null
2025-07-22 11:08:10.050 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:08:10.108 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 11:08:14.982 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 4874.1628ms
2025-07-22 11:08:16.349 +08:00 [INF] HTTP GET / responded 404 in 23583.7025 ms
2025-07-22 11:08:16.352 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/ - 499 null null 23593.1186ms
2025-07-22 11:08:16.355 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5050/, Response status code: 499
2025-07-22 11:08:16.904 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 11:08:16.912 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.9404ms
2025-07-22 11:08:38.258 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:09:04.663 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:09:09.436 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 11:09:40.167 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:09:40.246 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 11:09:40.251 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 11:09:40.259 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 11:09:40.269 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 11:09:40.271 +08:00 [INF] HTTP POST /wcshub/negotiate responded 401 in 30722.2862 ms
2025-07-22 11:09:40.273 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 401 0 null 30836.831ms
2025-07-22 11:10:33.685 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:10:33.744 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 11:10:33.748 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:10:33.751 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 11:10:33.761 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:10:33.775 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:10:33.821 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:10:33.825 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 11:10:33.827 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:10:33.829 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 11:10:33.833 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:10:33.836 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:10:33.924 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 11:10:33.936 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 11:10:33.937 +08:00 [INF] Quartz Scheduler created
2025-07-22 11:10:33.939 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 11:10:33.940 +08:00 [INF] RAMJobStore initialized.
2025-07-22 11:10:33.941 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-1596984694' initialized
2025-07-22 11:10:33.942 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 11:10:33.944 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 11:10:33.952 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 11:10:34.277 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 11:10:34.359 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:10:34.438 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 11:10:34.667 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 11:10:34.671 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 11:10:34.734 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_wbzoyyg93sneyu7sbdqhtukubc"
2025-07-22 11:10:34.734 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 11:10:34.737 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 11:10:34.808 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 11:10:34.809 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:10:34.810 +08:00 [INF] Hosting environment: Development
2025-07-22 11:10:34.810 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 11:10:34.815 +08:00 [INF] Scheduler JobScheduler_$_-1596984694 started.
2025-07-22 11:10:34.817 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:10:34.882 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 11:10:35.108 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 226.3398ms
2025-07-22 11:10:35.334 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 11:10:35.341 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 11:10:35.451 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 117.6626ms
2025-07-22 11:10:43.918 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 11:10:43.937 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 11:11:46.600 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:11:46.654 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 11:11:46.658 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:11:46.661 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 11:11:46.670 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:11:46.680 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:11:46.714 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:11:46.717 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 11:11:46.719 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:11:46.723 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 11:11:46.728 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:11:46.731 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:11:46.813 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 11:11:46.824 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 11:11:46.826 +08:00 [INF] Quartz Scheduler created
2025-07-22 11:11:46.827 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 11:11:46.828 +08:00 [INF] RAMJobStore initialized.
2025-07-22 11:11:46.829 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '1440251543' initialized
2025-07-22 11:11:46.830 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 11:11:46.831 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 11:11:46.840 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 11:11:47.029 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 11:11:47.091 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:11:47.134 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 11:11:47.337 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 11:11:47.341 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 11:11:47.401 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 11:11:47.401 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_k1uoyyg93sneycogbdqhtum6d9"
2025-07-22 11:11:47.404 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 11:11:47.507 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 11:11:47.513 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 11:11:47.625 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:11:47.626 +08:00 [INF] Hosting environment: Development
2025-07-22 11:11:47.627 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 11:11:47.629 +08:00 [INF] Scheduler JobScheduler_$_1440251543 started.
2025-07-22 11:11:47.630 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:11:48.186 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 11:11:48.409 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 231.0032ms
2025-07-22 11:11:48.422 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 11:11:48.428 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.7232ms
2025-07-22 11:11:48.557 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 11:11:48.601 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.339ms
2025-07-22 11:11:48.658 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 11:11:48.670 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.0285ms
2025-07-22 11:12:17.792 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:12:17.842 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 11:12:17.846 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:12:17.851 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 11:12:17.863 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:12:17.877 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:12:17.919 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:12:17.924 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 11:12:17.927 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:12:17.929 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 11:12:17.932 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:12:17.938 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:12:18.026 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 11:12:18.036 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 11:12:18.038 +08:00 [INF] Quartz Scheduler created
2025-07-22 11:12:18.039 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 11:12:18.040 +08:00 [INF] RAMJobStore initialized.
2025-07-22 11:12:18.042 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '1436990681' initialized
2025-07-22 11:12:18.044 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 11:12:18.046 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 11:12:18.054 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 11:12:18.253 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 11:12:18.314 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:12:18.363 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 11:12:18.544 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 11:12:18.551 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 11:12:18.609 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 11:12:18.609 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_eniyyyg93sneygmzbdqhtucty5"
2025-07-22 11:12:18.611 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 11:12:18.717 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 11:12:18.724 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 11:12:18.834 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:12:18.836 +08:00 [INF] Hosting environment: Development
2025-07-22 11:12:18.837 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 11:12:18.837 +08:00 [INF] Scheduler JobScheduler_$_1436990681 started.
2025-07-22 11:12:18.838 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:12:19.104 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 11:12:19.293 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 198.3191ms
2025-07-22 11:12:19.460 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 11:12:19.460 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 11:12:19.482 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 19.9209ms
2025-07-22 11:12:19.505 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.6407ms
2025-07-22 11:12:19.555 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 11:12:19.569 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.1593ms
2025-07-22 11:12:27.803 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 11:12:27.907 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 11:12:28.231 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 11:12:28.376 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 11:12:28.397 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 11:12:28.415 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 11:12:28.425 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 509.7889 ms
2025-07-22 11:12:28.596 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (356 of 316).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.FirstWriteAsyncInternal(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WritePipeAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.MemoryStream.CopyToAsync(Stream destination, Int32 bufferSize, CancellationToken cancellationToken)
   at System.IO.Stream.CopyToAsync(Stream destination)
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 73
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-22 11:12:28.658 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 500 null application/problem+json 855.397ms
2025-07-22 11:12:45.990 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:13:15.989 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:13:43.681 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:14:01.700 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 11:14:01.754 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 11:14:01.757 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-22 11:14:01.758 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 11:14:01.760 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 11:14:01.761 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 57.4838 ms
2025-07-22 11:14:01.905 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (356 of 316).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.FirstWriteAsyncInternal(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WritePipeAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.MemoryStream.CopyToAsync(Stream destination, Int32 bufferSize, CancellationToken cancellationToken)
   at System.IO.Stream.CopyToAsync(Stream destination)
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 73
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-22 11:14:01.911 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 500 null application/problem+json 211.0182ms
2025-07-22 11:14:08.939 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:14:34.138 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 11:14:34.151 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 11:14:34.196 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 11:14:34.198 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 54.5161 ms
2025-07-22 11:14:34.427 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (356 of 316).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.FirstWriteAsyncInternal(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WritePipeAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.MemoryStream.CopyToAsync(Stream destination, Int32 bufferSize, CancellationToken cancellationToken)
   at System.IO.Stream.CopyToAsync(Stream destination)
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 73
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-22 11:14:34.433 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 500 null application/problem+json 295.4005ms
2025-07-22 11:14:36.697 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:15:03.211 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:15:27.053 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:15:54.400 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:16:21.356 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:16:21.517 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 11:16:21.585 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:16:21.588 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 11:16:21.607 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:16:21.625 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:16:21.689 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:16:21.742 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 11:16:21.745 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:16:21.748 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 11:16:21.752 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:16:21.760 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:16:21.853 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 11:16:21.884 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 11:16:21.885 +08:00 [INF] Quartz Scheduler created
2025-07-22 11:16:21.886 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 11:16:21.887 +08:00 [INF] RAMJobStore initialized.
2025-07-22 11:16:21.888 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '1681476275' initialized
2025-07-22 11:16:21.891 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 11:16:21.894 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 11:16:21.902 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 11:16:22.114 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 11:16:22.179 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:16:22.342 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 11:16:22.637 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 11:16:22.662 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 11:16:22.711 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 11:16:22.714 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 11:16:22.711 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_5nzoyyg93sneyisabdqhtutnr3"
2025-07-22 11:16:22.922 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 11:16:22.966 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 11:16:23.099 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:16:23.104 +08:00 [INF] Scheduler JobScheduler_$_1681476275 started.
2025-07-22 11:16:23.106 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:16:23.121 +08:00 [INF] Hosting environment: Development
2025-07-22 11:16:23.127 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 11:16:23.527 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 11:16:23.802 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 285.4621ms
2025-07-22 11:16:23.983 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 11:16:23.983 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 11:16:23.992 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.7095ms
2025-07-22 11:16:24.027 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.7162ms
2025-07-22 11:16:24.055 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 11:16:24.069 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.048ms
2025-07-22 11:16:53.063 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:16:57.447 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 11:16:57.459 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 11:16:57.541 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 11:16:57.551 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 11:16:57.557 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 91.8733 ms
2025-07-22 11:16:57.987 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (356 of 316).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.FirstWriteAsyncInternal(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WritePipeAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.MemoryStream.CopyToAsync(Stream destination, Int32 bufferSize, CancellationToken cancellationToken)
   at System.IO.Stream.CopyToAsync(Stream destination)
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 73
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-22 11:16:58.124 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 500 null application/problem+json 676.9033ms
2025-07-22 11:17:18.747 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:17:45.804 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:18:15.333 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:18:59.830 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:18:59.880 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 11:18:59.884 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:18:59.887 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 11:18:59.897 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:18:59.911 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:18:59.947 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:18:59.951 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 11:18:59.957 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:18:59.959 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 11:18:59.964 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:18:59.966 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:19:00.057 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 11:19:00.067 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 11:19:00.069 +08:00 [INF] Quartz Scheduler created
2025-07-22 11:19:00.070 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 11:19:00.071 +08:00 [INF] RAMJobStore initialized.
2025-07-22 11:19:00.072 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-467549067' initialized
2025-07-22 11:19:00.073 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 11:19:00.075 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 11:19:00.083 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 11:19:00.311 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 11:19:00.380 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:19:00.448 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 11:19:00.657 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 11:19:00.660 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 11:19:00.724 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 11:19:00.724 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_mt9yyyg93sneb459bdqhtuwygg"
2025-07-22 11:19:00.727 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 11:19:00.832 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 11:19:00.837 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 11:19:00.970 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:19:00.971 +08:00 [INF] Hosting environment: Development
2025-07-22 11:19:00.972 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 11:19:00.974 +08:00 [INF] Scheduler JobScheduler_$_-467549067 started.
2025-07-22 11:19:00.976 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:19:01.382 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 11:19:01.565 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 193.0265ms
2025-07-22 11:19:01.737 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 11:19:01.737 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 11:19:01.741 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.442ms
2025-07-22 11:19:01.767 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.8309ms
2025-07-22 11:19:01.832 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 11:19:01.844 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.4133ms
2025-07-22 11:19:04.773 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 11:19:04.779 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 11:19:04.976 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 11:19:04.982 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 11:19:04.985 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 202.6539 ms
2025-07-22 11:19:04.987 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 214.2639ms
2025-07-22 11:19:05.043 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=BGO1DVg81EmTLX5LfPFK3w - null null
2025-07-22 11:19:05.280 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 11:19:23.434 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 11:19:23.454 +08:00 [INF] HTTP GET /wcshub responded 101 in 18175.6755 ms
2025-07-22 11:19:23.460 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=BGO1DVg81EmTLX5LfPFK3w - 101 null null 18416.7518ms
2025-07-22 11:19:30.261 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:19:36.579 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 11:19:36.750 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 11:19:36.771 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-22 11:19:36.848 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 11:19:36.852 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 11:19:36.855 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 256.0160 ms
2025-07-22 11:19:36.864 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 285.4833ms
2025-07-22 11:19:36.901 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=OdiRAJcRK80qJ2ZqxnnzVQ - null null
2025-07-22 11:19:37.104 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 11:19:37.141 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-22 11:19:37.143 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 11:19:47.277 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 11:19:47.303 +08:00 [INF] HTTP GET /wcshub responded 101 in 10252.4843 ms
2025-07-22 11:19:47.310 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=OdiRAJcRK80qJ2ZqxnnzVQ - 101 null null 10408.9503ms
2025-07-22 11:19:55.825 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:19:55.891 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 11:19:56.017 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 11:19:56.078 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-22 11:19:56.080 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 11:19:56.087 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 11:19:56.090 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 119.9402 ms
2025-07-22 11:19:56.125 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 234.1325ms
2025-07-22 11:19:56.129 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=VhsGIfQ23xDx2mIDEVY2BA - null null
2025-07-22 11:19:56.198 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 11:19:56.218 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-22 11:19:56.234 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 11:20:32.305 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:20:32.366 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 11:20:32.368 +08:00 [INF] HTTP GET /wcshub responded 101 in 36222.0893 ms
2025-07-22 11:20:32.370 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=VhsGIfQ23xDx2mIDEVY2BA - 101 null null 36241.0483ms
2025-07-22 11:20:59.070 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:21:26.207 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:21:56.153 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:22:19.822 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:22:43.012 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 11:23:07.189 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:42:10.233 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:42:37.239 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:43:05.631 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:43:30.870 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:44:00.033 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:44:26.150 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:44:54.916 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:45:59.285 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:45:59.340 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 12:45:59.343 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:45:59.345 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 12:45:59.355 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:45:59.364 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:45:59.400 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:45:59.408 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 12:45:59.428 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:45:59.430 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 12:45:59.434 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:45:59.437 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:45:59.517 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 12:45:59.525 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 12:45:59.526 +08:00 [INF] Quartz Scheduler created
2025-07-22 12:45:59.526 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 12:45:59.527 +08:00 [INF] RAMJobStore initialized.
2025-07-22 12:45:59.528 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-735103882' initialized
2025-07-22 12:45:59.529 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 12:45:59.530 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 12:45:59.536 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 12:45:59.705 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 12:45:59.817 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 12:45:59.857 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 12:46:00.054 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 12:46:00.057 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 12:46:00.106 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_wbxoyyg93snebkyqbdqhtsi8gr"
2025-07-22 12:46:00.106 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 12:46:00.108 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 12:46:00.192 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 12:46:00.197 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 12:46:00.291 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 12:46:00.293 +08:00 [INF] Hosting environment: Development
2025-07-22 12:46:00.294 +08:00 [INF] Scheduler JobScheduler_$_-735103882 started.
2025-07-22 12:46:00.295 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 12:46:00.295 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:46:00.826 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 12:46:01.060 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 245.9399ms
2025-07-22 12:46:01.070 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 12:46:01.076 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.3559ms
2025-07-22 12:46:01.200 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 12:46:01.264 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.3051ms
2025-07-22 12:46:01.297 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 12:46:01.321 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.0801ms
2025-07-22 12:46:07.309 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 12:47:21.294 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 12:47:21.295 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:47:23.012 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 12:47:23.035 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-22 12:47:23.041 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 12:47:23.048 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 12:47:23.052 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 1743.8684 ms
2025-07-22 12:47:23.137 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (356 of 316).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.FirstWriteAsyncInternal(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WritePipeAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.MemoryStream.CopyToAsync(Stream destination, Int32 bufferSize, CancellationToken cancellationToken)
   at System.IO.Stream.CopyToAsync(Stream destination)
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 73
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-22 12:47:23.204 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 500 null application/problem+json 75895.2538ms
2025-07-22 12:48:06.070 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:48:06.125 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 12:48:06.128 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:48:06.130 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 12:48:06.141 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:48:06.152 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:48:06.187 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:48:06.189 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 12:48:06.192 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:48:06.194 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 12:48:06.197 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:48:06.200 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:48:06.293 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 12:48:06.304 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 12:48:06.305 +08:00 [INF] Quartz Scheduler created
2025-07-22 12:48:06.307 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 12:48:06.307 +08:00 [INF] RAMJobStore initialized.
2025-07-22 12:48:06.308 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '869916613' initialized
2025-07-22 12:48:06.309 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 12:48:06.310 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 12:48:06.316 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 12:48:06.515 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 12:48:06.571 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 12:48:06.624 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 12:48:06.813 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 12:48:06.817 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 12:48:06.871 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_z1syyyg93sneymuxbdqhtszuna"
2025-07-22 12:48:06.871 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 12:48:06.873 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 12:48:06.971 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 12:48:06.977 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 12:48:07.085 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 12:48:07.087 +08:00 [INF] Hosting environment: Development
2025-07-22 12:48:07.088 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 12:48:07.088 +08:00 [INF] Scheduler JobScheduler_$_869916613 started.
2025-07-22 12:48:07.089 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:48:07.621 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 12:48:07.799 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 186.7801ms
2025-07-22 12:48:07.952 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 12:48:07.952 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 12:48:07.961 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 8.7755ms
2025-07-22 12:48:07.986 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.0695ms
2025-07-22 12:48:08.035 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 12:48:08.046 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.0452ms
2025-07-22 12:48:31.230 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:48:37.769 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 12:48:37.776 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 12:48:37.953 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 12:48:37.979 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 12:48:37.985 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 12:48:37.992 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 12:48:37.996 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 215.9032 ms
2025-07-22 12:48:37.998 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 229.5086ms
2025-07-22 12:48:38.027 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=j0X3sBf3144oXsGCogKN6A - null null
2025-07-22 12:48:38.105 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 12:48:38.110 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 12:48:38.113 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 12:49:09.809 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:49:09.857 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 12:49:09.863 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:49:09.869 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 12:49:09.881 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:49:09.894 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:49:09.930 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:49:09.935 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 12:49:09.942 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:49:09.945 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 12:49:09.950 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:49:09.955 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:49:10.058 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 12:49:10.073 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 12:49:10.074 +08:00 [INF] Quartz Scheduler created
2025-07-22 12:49:10.076 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 12:49:10.077 +08:00 [INF] RAMJobStore initialized.
2025-07-22 12:49:10.078 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-748177595' initialized
2025-07-22 12:49:10.080 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 12:49:10.081 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 12:49:10.088 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 12:49:10.301 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 12:49:10.360 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 12:49:10.413 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 12:49:10.607 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 12:49:10.611 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 12:49:10.663 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 12:49:10.663 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_xyzoyyg93snebngzbdqhtsa3n7"
2025-07-22 12:49:10.666 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 12:49:10.760 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 12:49:10.768 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 12:49:10.891 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 12:49:10.893 +08:00 [INF] Hosting environment: Development
2025-07-22 12:49:10.895 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 12:49:10.896 +08:00 [INF] Scheduler JobScheduler_$_-748177595 started.
2025-07-22 12:49:10.897 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:49:11.492 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 12:49:11.670 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 185.4681ms
2025-07-22 12:49:11.888 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 12:49:11.888 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 12:49:11.894 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.1447ms
2025-07-22 12:49:11.922 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.5621ms
2025-07-22 12:49:11.966 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 12:49:11.988 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.8157ms
2025-07-22 12:49:24.104 +08:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:49:24.188 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 12:49:24.215 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:49:24.219 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 12:49:24.229 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:49:24.241 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:49:24.277 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:49:24.285 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 12:49:24.289 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:49:24.292 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 12:49:24.297 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:49:24.300 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:49:24.398 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 12:49:24.415 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 12:49:24.417 +08:00 [INF] Quartz Scheduler created
2025-07-22 12:49:24.418 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 12:49:24.419 +08:00 [INF] RAMJobStore initialized.
2025-07-22 12:49:24.420 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-260219411' initialized
2025-07-22 12:49:24.422 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 12:49:24.424 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 12:49:24.433 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 12:49:24.617 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 12:49:24.693 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 12:49:24.737 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 12:49:24.925 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 12:49:24.933 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 12:49:24.987 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_rbjoyyg93sneb8exbdqhts3b8g"
2025-07-22 12:49:24.987 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 12:49:24.991 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 12:49:25.099 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 12:49:25.114 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 12:49:25.229 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 12:49:25.231 +08:00 [INF] Hosting environment: Development
2025-07-22 12:49:25.232 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 12:49:25.233 +08:00 [INF] Scheduler JobScheduler_$_-260219411 started.
2025-07-22 12:49:25.234 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:49:25.513 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 12:49:25.723 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 217.9101ms
2025-07-22 12:49:25.902 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 12:49:25.902 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 12:49:25.912 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 10.501ms
2025-07-22 12:49:25.935 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.3115ms
2025-07-22 12:49:25.983 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 12:49:25.998 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.5657ms
2025-07-22 12:49:29.662 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 12:50:13.683 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:50:13.694 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 12:50:13.884 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 12:50:13.919 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 12:50:13.924 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 12:50:13.931 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 12:50:13.935 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 193.4790 ms
2025-07-22 12:50:14.036 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (356 of 316).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.FirstWriteAsyncInternal(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WritePipeAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.MemoryStream.CopyToAsync(Stream destination, Int32 bufferSize, CancellationToken cancellationToken)
   at System.IO.Stream.CopyToAsync(Stream destination)
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 73
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-22 12:50:14.075 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 500 null application/problem+json 44413.9737ms
2025-07-22 12:50:38.877 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:50:57.755 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 12:52:47.585 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:52:47.633 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 12:52:47.643 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:52:47.648 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 12:52:47.660 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:52:47.672 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:52:47.705 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:52:47.709 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 12:52:47.712 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:52:47.714 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 12:52:47.718 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:52:47.719 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:52:47.826 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 12:52:47.839 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 12:52:47.841 +08:00 [INF] Quartz Scheduler created
2025-07-22 12:52:47.842 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 12:52:47.844 +08:00 [INF] RAMJobStore initialized.
2025-07-22 12:52:47.846 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '788404732' initialized
2025-07-22 12:52:47.847 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 12:52:47.848 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 12:52:47.857 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 12:52:48.067 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 12:52:48.125 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 12:52:48.174 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 12:52:48.357 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 12:52:48.361 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 12:52:48.421 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 12:52:48.421 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_8nsoyyg93sneym3tbdqhtsh5be"
2025-07-22 12:52:48.424 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 12:52:48.519 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 12:52:48.527 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 12:52:48.648 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 12:52:48.649 +08:00 [INF] Hosting environment: Development
2025-07-22 12:52:48.651 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 12:52:48.653 +08:00 [INF] Scheduler JobScheduler_$_788404732 started.
2025-07-22 12:52:48.654 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:52:48.977 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 12:52:49.158 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 190.833ms
2025-07-22 12:52:49.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 12:52:49.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 12:52:49.348 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.3693ms
2025-07-22 12:52:49.376 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.1117ms
2025-07-22 12:52:49.406 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 12:52:49.417 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.3763ms
2025-07-22 12:52:52.667 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 12:52:58.522 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 12:52:58.619 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 12:52:58.635 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 12:52:58.638 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 12:52:58.645 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 12:52:58.647 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 122.2021 ms
2025-07-22 12:54:00.695 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:54:00.743 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 12:54:00.748 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:54:00.751 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 12:54:00.761 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:54:00.772 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:54:00.817 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:54:00.822 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 12:54:00.840 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:54:00.844 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 12:54:00.849 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:54:00.852 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:54:00.944 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 12:54:00.954 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 12:54:00.955 +08:00 [INF] Quartz Scheduler created
2025-07-22 12:54:00.956 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 12:54:00.958 +08:00 [INF] RAMJobStore initialized.
2025-07-22 12:54:00.959 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-595834759' initialized
2025-07-22 12:54:00.960 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 12:54:00.961 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 12:54:00.985 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 12:54:01.196 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 12:54:01.262 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 12:54:01.315 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 12:54:01.513 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 12:54:01.518 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 12:54:01.572 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_q1hoyyg93snebjg5bdqhts6ggy"
2025-07-22 12:54:01.572 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 12:54:01.575 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 12:54:01.673 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 12:54:01.684 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 12:54:01.808 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 12:54:01.810 +08:00 [INF] Hosting environment: Development
2025-07-22 12:54:01.811 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 12:54:01.812 +08:00 [INF] Scheduler JobScheduler_$_-595834759 started.
2025-07-22 12:54:01.813 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:54:02.001 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 12:54:02.188 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 193.8892ms
2025-07-22 12:54:02.523 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 12:54:02.531 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.7876ms
2025-07-22 12:54:02.559 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 12:54:02.596 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.4255ms
2025-07-22 12:54:02.929 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 12:54:02.942 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.8232ms
2025-07-22 12:54:10.167 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 12:54:45.939 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:54:45.951 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 12:54:46.193 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 12:54:46.226 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 12:54:46.231 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 12:54:46.238 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 12:54:46.245 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 263.0789 ms
2025-07-22 12:54:46.952 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=bFjBXwxCjE6sVT5in7BsDw - null null
2025-07-22 12:54:49.514 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 39346.2698ms
2025-07-22 12:54:50.516 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 12:54:50.524 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 12:54:50.527 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 12:55:46.584 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:55:55.180 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 12:55:55.190 +08:00 [INF] HTTP GET /wcshub responded 101 in 64711.5594 ms
2025-07-22 12:55:55.202 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=bFjBXwxCjE6sVT5in7BsDw - 101 null null 68249.517ms
2025-07-22 12:56:14.892 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:56:42.210 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 12:56:42.356 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:10:27.648 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:10:27.699 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:10:27.716 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:10:27.726 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:10:27.758 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:10:27.769 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:10:27.812 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:10:27.818 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:10:27.820 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:10:27.824 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:10:27.829 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:10:27.832 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:10:27.915 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:10:27.936 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:10:27.937 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:10:27.939 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:10:27.941 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:10:27.946 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '790883699' initialized
2025-07-22 13:10:27.949 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:10:27.952 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:10:27.961 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:10:28.136 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:10:28.204 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:10:28.249 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:10:28.432 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:10:28.435 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:10:28.480 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:10:28.480 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_1nuoyyg93sneyzu4bdqhtzouyd"
2025-07-22 13:10:28.482 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:10:28.579 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:10:28.594 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:10:28.721 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:10:28.722 +08:00 [INF] Hosting environment: Development
2025-07-22 13:10:28.723 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:10:28.724 +08:00 [INF] Scheduler JobScheduler_$_790883699 started.
2025-07-22 13:10:28.725 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:10:29.204 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:10:29.408 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 213.36ms
2025-07-22 13:10:29.430 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:10:29.437 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.9327ms
2025-07-22 13:10:29.570 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:10:29.603 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.3715ms
2025-07-22 13:10:29.665 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:10:29.683 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.8646ms
2025-07-22 13:10:43.779 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:10:43.786 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:10:44.023 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:10:44.061 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:10:44.065 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:10:44.075 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:10:44.081 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 287.9536 ms
2025-07-22 13:10:50.452 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 6672.6336ms
2025-07-22 13:10:50.460 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=5stJzBX8jWkn93_JwdJ6OA - null null
2025-07-22 13:10:50.517 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:10:50.519 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:10:50.521 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:10:56.697 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:11:11.841 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 13:11:11.845 +08:00 [INF] HTTP GET /wcshub responded 101 in 21368.9372 ms
2025-07-22 13:11:34.974 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:11:34.977 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=5stJzBX8jWkn93_JwdJ6OA - 101 null null 44517.4584ms
2025-07-22 13:11:34.989 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:11:35.054 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:11:35.064 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:11:35.066 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:11:35.067 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:11:35.070 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 52.6625 ms
2025-07-22 13:11:36.502 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 1512.3315ms
2025-07-22 13:11:36.503 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=uOALU0po4NQ7LzpnieYNHw - null null
2025-07-22 13:11:36.566 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:11:36.579 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:11:36.584 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:12:59.930 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:12:59.978 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:12:59.984 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:12:59.987 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:12:59.997 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:13:00.008 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:13:00.053 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:13:00.057 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:13:00.060 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:13:00.063 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:13:00.068 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:13:00.073 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:13:00.161 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:13:00.171 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:13:00.172 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:13:00.174 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:13:00.176 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:13:00.178 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-703408154' initialized
2025-07-22 13:13:00.179 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:13:00.180 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:13:00.188 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:13:00.382 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:13:00.453 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:13:00.503 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:13:00.675 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:13:00.679 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:13:00.718 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:13:00.718 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_9oryyyg93sney7mkbdqhtzupgn"
2025-07-22 13:13:00.720 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:13:00.854 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:13:00.862 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:13:01.075 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:13:01.087 +08:00 [INF] Scheduler JobScheduler_$_-703408154 started.
2025-07-22 13:13:01.088 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:13:01.090 +08:00 [INF] Hosting environment: Development
2025-07-22 13:13:01.097 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:13:01.098 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:13:01.271 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 183.5479ms
2025-07-22 13:13:01.444 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:13:01.444 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:13:01.509 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 65.2486ms
2025-07-22 13:13:01.545 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 100.9091ms
2025-07-22 13:13:01.600 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:13:01.626 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.6797ms
2025-07-22 13:13:11.692 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:13:13.700 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:13:13.873 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:13:13.897 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:13:13.911 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:13:13.924 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:13:13.932 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 218.8983 ms
2025-07-22 13:13:17.056 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (356 of 316).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.FirstWriteAsyncInternal(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WritePipeAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.MemoryStream.CopyToAsync(Stream destination, Int32 bufferSize, CancellationToken cancellationToken)
   at System.IO.Stream.CopyToAsync(Stream destination)
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 75
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-22 13:13:17.144 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 500 null application/problem+json 5452.9551ms
2025-07-22 13:13:30.041 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:13:59.735 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:14:07.183 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:14:21.257 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:14:21.269 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:14:21.274 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:14:21.277 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:14:21.288 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 70.1670 ms
2025-07-22 13:14:24.399 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:14:33.459 +08:00 [ERR] Connection id "0HNE8RPMUKEP0", Request id "0HNE8RPMUKEP0:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Response Content-Length mismatch: too few bytes written (0 of 316).
2025-07-22 13:14:33.461 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 500 0 null 26277.2735ms
2025-07-22 13:14:42.240 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:14:45.831 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:14:45.842 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:14:45.850 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:14:45.852 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:14:45.854 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 58.4367 ms
2025-07-22 13:14:54.696 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:14:56.977 +08:00 [ERR] Connection id "0HNE8RPMUKEP1", Request id "0HNE8RPMUKEP1:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Response Content-Length mismatch: too few bytes written (0 of 316).
2025-07-22 13:14:56.989 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 500 0 null 14748.7856ms
2025-07-22 13:15:20.677 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:15:33.022 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:15:33.070 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:15:33.076 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:15:33.079 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:15:33.089 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:15:33.101 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:15:33.138 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:15:33.143 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:15:33.146 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:15:33.155 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:15:33.160 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:15:33.163 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:15:33.239 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:15:33.248 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:15:33.256 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:15:33.258 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:15:33.259 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:15:33.261 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '1620616452' initialized
2025-07-22 13:15:33.264 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:15:33.267 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:15:33.276 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:15:33.497 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:15:33.568 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:15:33.615 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:15:33.795 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:15:33.799 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:15:33.850 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:15:33.850 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_nbxyyyg93snebrc8bdqhtzsjyf"
2025-07-22 13:15:33.853 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:15:33.964 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:15:33.970 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:15:34.075 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:15:34.078 +08:00 [INF] Hosting environment: Development
2025-07-22 13:15:34.078 +08:00 [INF] Scheduler JobScheduler_$_1620616452 started.
2025-07-22 13:15:34.079 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:15:34.079 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:15:34.319 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:15:34.492 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 182.4289ms
2025-07-22 13:15:34.655 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:15:34.655 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:15:34.664 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 8.6364ms
2025-07-22 13:15:34.704 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.3914ms
2025-07-22 13:15:34.759 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:15:34.773 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.7516ms
2025-07-22 13:15:45.648 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:15:48.099 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:15:48.249 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:15:48.268 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:15:48.272 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:15:48.286 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:15:48.293 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 178.9648 ms
2025-07-22 13:15:54.604 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=xItcWmaEiVjH4kda2huFnA - null null
2025-07-22 13:15:56.337 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 10688.6861ms
2025-07-22 13:16:04.237 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:16:05.977 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=xItcWmaEiVjH4kda2huFnA - 200 0 null 11372.4629ms
2025-07-22 13:16:06.680 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:16:09.087 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:16:09.091 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:16:09.092 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:16:09.102 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:16:09.112 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 61.4137 ms
2025-07-22 13:16:10.271 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (356 of 316).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.FirstWriteAsyncInternal(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WritePipeAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.MemoryStream.CopyToAsync(Stream destination, Int32 bufferSize, CancellationToken cancellationToken)
   at System.IO.Stream.CopyToAsync(Stream destination)
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 75
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-22 13:16:10.359 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 500 null application/problem+json 3678.9268ms
2025-07-22 13:16:10.700 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:16:11.885 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:16:11.895 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:16:11.905 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:16:11.908 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:16:11.913 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 65.9865 ms
2025-07-22 13:16:12.653 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (356 of 316).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.FirstWriteAsyncInternal(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WritePipeAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.MemoryStream.CopyToAsync(Stream destination, Int32 bufferSize, CancellationToken cancellationToken)
   at System.IO.Stream.CopyToAsync(Stream destination)
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 75
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-22 13:16:12.658 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 500 null application/problem+json 1958.0759ms
2025-07-22 13:16:30.857 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:16:49.815 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:16:49.865 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:16:49.871 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:16:49.874 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:16:49.887 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:16:49.899 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:16:49.933 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:16:49.936 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:16:49.939 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:16:49.942 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:16:49.947 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:16:49.951 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:16:50.039 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:16:50.051 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:16:50.052 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:16:50.053 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:16:50.054 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:16:50.055 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-56505415' initialized
2025-07-22 13:16:50.056 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:16:50.058 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:16:50.067 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:16:50.272 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:16:50.343 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:16:50.391 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:16:50.555 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:16:50.559 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:16:50.601 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_inqoyyg93sneb3iubdqhtzzsgg"
2025-07-22 13:16:50.601 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:16:50.603 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:16:50.684 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:16:50.689 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:16:50.834 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:16:50.836 +08:00 [INF] Hosting environment: Development
2025-07-22 13:16:50.837 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:16:50.838 +08:00 [INF] Scheduler JobScheduler_$_-56505415 started.
2025-07-22 13:16:50.839 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:16:51.046 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:16:51.206 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 168.1797ms
2025-07-22 13:16:51.222 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:16:51.228 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.0688ms
2025-07-22 13:16:51.351 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:16:51.383 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.6605ms
2025-07-22 13:16:51.437 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:16:51.450 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.9698ms
2025-07-22 13:17:00.706 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:17:00.719 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:17:00.956 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:17:01.033 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:17:01.083 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:17:01.149 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:17:01.182 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=2TDleXsm686c5pxOvubbQA - null null
2025-07-22 13:17:01.182 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 453.1999 ms
2025-07-22 13:17:10.020 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:17:10.020 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 9314.8011ms
2025-07-22 13:17:10.025 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:17:10.031 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:17:19.088 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:17:43.010 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:18:21.653 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:18:21.709 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:18:21.714 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:18:21.717 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:18:21.729 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:18:21.741 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:18:21.777 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:18:21.782 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:18:21.786 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:18:21.792 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:18:21.797 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:18:21.802 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:18:21.884 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:18:21.895 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:18:21.896 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:18:21.897 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:18:21.898 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:18:21.900 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '253550018' initialized
2025-07-22 13:18:21.901 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:18:21.913 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:18:21.921 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:18:22.107 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:18:22.193 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:18:22.237 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:18:22.405 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:18:22.409 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:18:22.450 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_joxoyyg93sneyrqpbdqhtz3prg"
2025-07-22 13:18:22.450 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:18:22.452 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:18:22.540 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:18:22.560 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:18:22.660 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:18:22.662 +08:00 [INF] Hosting environment: Development
2025-07-22 13:18:22.663 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:18:22.664 +08:00 [INF] Scheduler JobScheduler_$_253550018 started.
2025-07-22 13:18:22.665 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:18:22.930 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:18:23.108 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 185.4118ms
2025-07-22 13:18:23.276 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:18:23.276 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:18:23.287 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 11.128ms
2025-07-22 13:18:23.324 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.1776ms
2025-07-22 13:18:23.372 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:18:23.392 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.3547ms
2025-07-22 13:18:28.106 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/user/user-login - application/json 50
2025-07-22 13:18:44.541 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:18:44.794 +08:00 [INF] Executing endpoint 'HTTP: POST user/user-login'
2025-07-22 13:18:45.099 +08:00 [INF] Executed DbCommand (116ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreationTime], [u].[Description], [u].[Email], [u].[IsDeleted], [u].[LastModificationTime], [u].[LastModifierUser], [u].[LockoutEnd], [u].[Name], [u].[Password], [u].[Phone], [u].[RoleId], [u].[Username], [t].[Id], [t].[CreationTime], [t].[Description], [t].[IsDeleted], [t].[LastModificationTime], [t].[LastModifierUser], [t].[RoleName]
FROM [User].[User] AS [u]
INNER JOIN (
    SELECT [r].[Id], [r].[CreationTime], [r].[Description], [r].[IsDeleted], [r].[LastModificationTime], [r].[LastModifierUser], [r].[RoleName]
    FROM [User].[Role] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [u].[RoleId] = [t].[Id]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__userName_0
2025-07-22 13:18:45.357 +08:00 [INF] Executed endpoint 'HTTP: POST user/user-login'
2025-07-22 13:18:45.456 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at User.Domain.UserManager.GetUserAndRoleAsync(String userName) in D:\Program\仓库\Warehource.Modules\User.Domain\UserManager.cs:line 37
   at User.Application.LoginHandler.LoginEventHandler.Handle(LoginEvent request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\User.Application\LoginHandler\LoginEventHandler.cs:line 13
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at User.Presentation.Login.Login.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\User.Presentation\Login\Login.cs:line 20
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfString>g__ExecuteAwaited|134_0(Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-22 13:18:45.589 +08:00 [ERR] HTTP POST /user/user-login responded 500 in 1012.4423 ms
2025-07-22 13:18:49.338 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/user/user-login - 500 null application/json; charset=utf-8 21231.4376ms
2025-07-22 13:18:51.835 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:19:18.815 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:19:45.732 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:20:03.398 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:20:03.483 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:20:03.502 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:20:03.507 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:20:03.518 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:20:03.520 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 115.2897 ms
2025-07-22 13:20:11.944 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 8546.5242ms
2025-07-22 13:20:11.949 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=yrvRQhYRJb0Rl6gNAkacog - null null
2025-07-22 13:20:12.020 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:20:12.035 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:20:12.057 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:20:13.338 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:20:14.376 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 13:20:14.378 +08:00 [INF] HTTP GET /wcshub responded 101 in 2411.7537 ms
2025-07-22 13:20:26.063 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=yrvRQhYRJb0Rl6gNAkacog - 101 null null 14116.1909ms
2025-07-22 13:20:30.123 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:20:30.197 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:20:30.202 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:20:30.204 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:20:30.209 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:20:30.211 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 60.4709 ms
2025-07-22 13:20:34.400 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 4276.6688ms
2025-07-22 13:20:34.411 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=jQLchKEt76tc_CHpP7S0tg - null null
2025-07-22 13:20:34.451 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:20:34.456 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:20:34.458 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:20:36.689 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:20:50.255 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 13:20:50.259 +08:00 [INF] HTTP GET /wcshub responded 101 in 15844.9349 ms
2025-07-22 13:21:07.490 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:21:07.491 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=jQLchKEt76tc_CHpP7S0tg - 101 null null 33079.9044ms
2025-07-22 13:21:07.494 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:21:07.548 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:21:07.555 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:21:07.556 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:21:07.557 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:21:07.560 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 49.2609 ms
2025-07-22 13:21:13.714 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 6220.877ms
2025-07-22 13:21:13.718 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=0GNDT4B3ZL5Vz7y2ExmxGg - null null
2025-07-22 13:21:13.795 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:21:13.799 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:21:13.800 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:21:15.910 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 13:21:15.913 +08:00 [INF] HTTP GET /wcshub responded 101 in 2171.2016 ms
2025-07-22 13:21:34.122 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=0GNDT4B3ZL5Vz7y2ExmxGg - 101 null null 20404.8218ms
2025-07-22 13:21:34.130 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:21:34.190 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:21:34.192 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:21:34.193 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:21:34.198 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:21:34.225 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 80.1510 ms
2025-07-22 13:22:43.680 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:22:43.741 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:22:43.746 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:22:43.749 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:22:43.760 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:22:43.772 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:22:43.805 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:22:43.810 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:22:43.814 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:22:43.818 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:22:43.824 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:22:43.828 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:22:43.904 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:22:43.914 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:22:43.916 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:22:43.921 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:22:43.922 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:22:43.924 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-1739667315' initialized
2025-07-22 13:22:43.925 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:22:43.926 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:22:43.932 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:22:44.097 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:22:44.157 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:22:44.202 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:22:44.363 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:22:44.366 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:22:44.403 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:22:44.403 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_ubbyyyg93snebwe1bdqhtz6jfj"
2025-07-22 13:22:44.405 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:22:44.485 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:22:44.490 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:22:44.585 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:22:44.588 +08:00 [INF] Scheduler JobScheduler_$_-1739667315 started.
2025-07-22 13:22:44.588 +08:00 [INF] Hosting environment: Development
2025-07-22 13:22:44.589 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:22:44.590 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:22:45.020 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:22:45.237 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 222.3741ms
2025-07-22 13:22:45.409 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:22:45.409 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:22:45.416 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.247ms
2025-07-22 13:22:45.444 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.6447ms
2025-07-22 13:22:45.477 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:22:45.502 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.0276ms
2025-07-22 13:22:47.459 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:22:47.466 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:22:47.705 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:22:47.765 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:22:47.773 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:22:47.814 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:22:47.818 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 348.1878 ms
2025-07-22 13:26:10.909 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:26:10.961 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:26:10.967 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:26:10.972 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:26:10.985 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:26:10.999 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:26:11.043 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:26:11.048 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:26:11.051 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:26:11.055 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:26:11.059 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:26:11.062 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:26:11.152 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:26:11.166 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:26:11.169 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:26:11.175 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:26:11.176 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:26:11.178 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '1746319935' initialized
2025-07-22 13:26:11.179 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:26:11.184 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:26:11.192 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:26:11.401 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:26:11.472 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:26:11.517 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:26:11.689 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:26:11.694 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:26:11.748 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:26:11.748 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_ft9oyyg93snebkfkbdqhtanfbh"
2025-07-22 13:26:11.750 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:26:11.837 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:26:11.842 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:26:11.936 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:26:11.940 +08:00 [INF] Scheduler JobScheduler_$_1746319935 started.
2025-07-22 13:26:11.940 +08:00 [INF] Hosting environment: Development
2025-07-22 13:26:11.941 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:26:11.943 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:26:12.368 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:26:12.571 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 210.7847ms
2025-07-22 13:26:12.589 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:26:12.595 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.7186ms
2025-07-22 13:26:12.730 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:26:12.765 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.7871ms
2025-07-22 13:26:12.816 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:26:12.831 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.0019ms
2025-07-22 13:26:17.942 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:26:17.952 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:26:18.122 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:26:18.155 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:26:18.164 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:26:18.177 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:26:18.181 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 224.4543 ms
2025-07-22 13:26:18.188 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 246.2056ms
2025-07-22 13:26:18.217 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=FLzNppIJ9a-jMJEGyI_DRA - null null
2025-07-22 13:26:18.259 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:26:18.264 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:26:18.266 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:26:35.911 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:27:05.032 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:27:16.229 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 13:27:16.231 +08:00 [INF] HTTP GET /wcshub responded 101 in 58007.0161 ms
2025-07-22 13:27:16.233 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=FLzNppIJ9a-jMJEGyI_DRA - 101 null null 58015.5843ms
2025-07-22 13:27:32.263 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:27:57.256 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:28:24.809 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:28:51.785 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:29:20.384 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:29:45.837 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:30:00.590 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:30:30.995 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:30:31.045 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:30:31.069 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:30:31.075 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:30:31.083 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:30:31.086 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 89.5486 ms
2025-07-22 13:30:31.094 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 30504.5472ms
2025-07-22 13:30:31.151 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=-FF-4RVOysUUhrJldGKanw - null null
2025-07-22 13:30:32.060 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:30:32.068 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:30:32.074 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:30:49.801 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/user/user-login - application/json 46
2025-07-22 13:30:53.095 +08:00 [INF] Executing endpoint 'HTTP: POST user/user-login'
2025-07-22 13:30:53.350 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreationTime], [u].[Description], [u].[Email], [u].[IsDeleted], [u].[LastModificationTime], [u].[LastModifierUser], [u].[LockoutEnd], [u].[Name], [u].[Password], [u].[Phone], [u].[RoleId], [u].[Username], [t].[Id], [t].[CreationTime], [t].[Description], [t].[IsDeleted], [t].[LastModificationTime], [t].[LastModifierUser], [t].[RoleName]
FROM [User].[User] AS [u]
INNER JOIN (
    SELECT [r].[Id], [r].[CreationTime], [r].[Description], [r].[IsDeleted], [r].[LastModificationTime], [r].[LastModifierUser], [r].[RoleName]
    FROM [User].[Role] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [u].[RoleId] = [t].[Id]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__userName_0
2025-07-22 13:30:53.408 +08:00 [INF] Executed endpoint 'HTTP: POST user/user-login'
2025-07-22 13:30:53.410 +08:00 [INF] HTTP POST /user/user-login responded 200 in 316.2261 ms
2025-07-22 13:30:53.417 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/user/user-login - 200 null text/plain; charset=utf-8 3616.1664ms
2025-07-22 13:30:56.123 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:31:12.429 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/user/get-roles - null null
2025-07-22 13:31:43.672 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:31:43.701 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 13:31:43.709 +08:00 [INF] HTTP GET /wcshub responded 101 in 71691.2074 ms
2025-07-22 13:31:43.710 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=-FF-4RVOysUUhrJldGKanw - 101 null null 72559.4294ms
2025-07-22 13:31:43.730 +08:00 [INF] Executing endpoint 'HTTP: GET user/get-roles'
2025-07-22 13:31:43.810 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationTime], [r].[Description], [r].[IsDeleted], [r].[LastModificationTime], [r].[LastModifierUser], [r].[RoleName]
FROM [User].[Role] AS [r]
WHERE [r].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:31:43.829 +08:00 [INF] Executed endpoint 'HTTP: GET user/get-roles'
2025-07-22 13:31:43.830 +08:00 [INF] HTTP GET /user/get-roles responded 200 in 156.0625 ms
2025-07-22 13:31:43.839 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/user/get-roles - 200 null application/json; charset=utf-8 31410.7367ms
2025-07-22 13:31:59.107 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/user/get-roles - null null
2025-07-22 13:32:25.884 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:32:25.887 +08:00 [INF] Executing endpoint 'HTTP: GET user/get-roles'
2025-07-22 13:32:25.923 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreationTime], [r].[Description], [r].[IsDeleted], [r].[LastModificationTime], [r].[LastModifierUser], [r].[RoleName]
FROM [User].[Role] AS [r]
WHERE [r].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:32:25.952 +08:00 [INF] Executed endpoint 'HTTP: GET user/get-roles'
2025-07-22 13:32:25.955 +08:00 [INF] HTTP GET /user/get-roles responded 200 in 69.2249 ms
2025-07-22 13:32:25.958 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/user/get-roles - 200 null application/json; charset=utf-8 26851.2333ms
2025-07-22 13:32:50.271 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:33:18.276 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:33:18.317 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:33:18.334 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:33:18.335 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:33:18.336 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:33:18.345 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 67.7056 ms
2025-07-22 13:33:18.347 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 28076.2942ms
2025-07-22 13:33:18.406 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=LNC2-AErpsYAIQZrqLTHMg - null null
2025-07-22 13:33:31.079 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:33:31.082 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:33:31.083 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:33:43.955 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:33:53.328 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 13:33:53.329 +08:00 [INF] HTTP GET /wcshub responded 101 in 22281.1168 ms
2025-07-22 13:34:01.889 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:34:31.579 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:34:31.580 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=LNC2-AErpsYAIQZrqLTHMg - 101 null null 73173.8028ms
2025-07-22 13:34:41.388 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:34:41.395 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:34:41.396 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:34:41.397 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:34:41.397 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 41.5875 ms
2025-07-22 13:34:44.882 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 42993.4435ms
2025-07-22 13:34:44.967 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=8d0Hhh5m3Mf1H7sCh92qkg - null null
2025-07-22 13:37:36.536 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:37:36.600 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:37:36.606 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:37:36.614 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:37:36.626 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:37:36.639 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:37:36.690 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:37:36.694 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:37:36.698 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:37:36.707 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:37:36.714 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:37:36.725 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:37:36.812 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:37:36.831 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:37:36.833 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:37:36.840 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:37:36.842 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:37:36.844 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '234035637' initialized
2025-07-22 13:37:36.845 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:37:36.851 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:37:36.860 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:37:37.045 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:37:37.121 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:37:37.168 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:37:37.341 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:37:37.346 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:37:37.398 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_i1xoyyg93snebs1cbdqhtaq78k"
2025-07-22 13:37:37.398 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:37:37.400 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:37:37.498 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:37:37.505 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:37:37.614 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:37:37.616 +08:00 [INF] Hosting environment: Development
2025-07-22 13:37:37.617 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:37:37.618 +08:00 [INF] Scheduler JobScheduler_$_234035637 started.
2025-07-22 13:37:37.619 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:37:37.966 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:37:38.193 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 234.2569ms
2025-07-22 13:37:38.352 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:37:38.352 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:37:38.360 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.8214ms
2025-07-22 13:37:38.395 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.0357ms
2025-07-22 13:37:38.476 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:37:38.490 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.2223ms
2025-07-22 13:37:42.223 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:37:42.233 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:37:42.411 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:37:42.445 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:37:42.451 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:37:42.459 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:37:42.462 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 224.6364 ms
2025-07-22 13:38:43.885 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:38:43.998 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (356 of 316).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.FirstWriteAsyncInternal(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WritePipeAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.MemoryStream.CopyToAsync(Stream destination, Int32 bufferSize, CancellationToken cancellationToken)
   at System.IO.Stream.CopyToAsync(Stream destination)
   at Common.Infrastructure.Middleware.GlobalResponseMiddleware.InvokeAsync(HttpContext context) in D:\Program\仓库\Warehource.Modules\Common.Infrastructure\Middleware\GlobalResponseMiddleware.cs:line 77
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-22 13:38:44.058 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 500 null application/problem+json 61834.9211ms
2025-07-22 13:38:56.993 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/user/user-login - application/json 50
2025-07-22 13:38:57.002 +08:00 [INF] Executing endpoint 'HTTP: POST user/user-login'
2025-07-22 13:38:57.251 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreationTime], [u].[Description], [u].[Email], [u].[IsDeleted], [u].[LastModificationTime], [u].[LastModifierUser], [u].[LockoutEnd], [u].[Name], [u].[Password], [u].[Phone], [u].[RoleId], [u].[Username], [t].[Id], [t].[CreationTime], [t].[Description], [t].[IsDeleted], [t].[LastModificationTime], [t].[LastModifierUser], [t].[RoleName]
FROM [User].[User] AS [u]
INNER JOIN (
    SELECT [r].[Id], [r].[CreationTime], [r].[Description], [r].[IsDeleted], [r].[LastModificationTime], [r].[LastModifierUser], [r].[RoleName]
    FROM [User].[Role] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [u].[RoleId] = [t].[Id]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__userName_0
2025-07-22 13:38:57.902 +08:00 [INF] Executed endpoint 'HTTP: POST user/user-login'
2025-07-22 13:38:58.078 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at User.Domain.UserManager.GetUserAndRoleAsync(String userName) in D:\Program\仓库\Warehource.Modules\User.Domain\UserManager.cs:line 37
   at User.Application.LoginHandler.LoginEventHandler.Handle(LoginEvent request, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\User.Application\LoginHandler\LoginEventHandler.cs:line 13
   at Common.Application.MediatR.Behaviors.ValidationPipelineBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Program\仓库\Warehource.Modules\Common.Application\MediatR\Behaviors\ValidationPipelineBehavior.cs:line 20
   at User.Presentation.Login.Login.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in D:\Program\仓库\Warehource.Modules\User.Presentation\Login\Login.cs:line 20
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfString>g__ExecuteAwaited|134_0(Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-22 13:38:58.112 +08:00 [ERR] HTTP POST /user/user-login responded 500 in 1112.2998 ms
2025-07-22 13:39:36.536 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:39:36.568 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/user/user-login - 500 null application/json; charset=utf-8 39574.9497ms
2025-07-22 13:39:53.454 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:39:53.545 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:39:53.552 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:39:53.558 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:39:53.562 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:39:53.566 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 108.3001 ms
2025-07-22 13:41:32.824 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:41:32.881 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:41:32.888 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:41:32.899 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:41:32.909 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:41:32.920 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:41:32.962 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:41:32.967 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:41:32.971 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:41:32.974 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:41:32.977 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:41:32.980 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:41:33.062 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:41:33.078 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:41:33.086 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:41:33.088 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:41:33.096 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:41:33.098 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '226347610' initialized
2025-07-22 13:41:33.100 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:41:33.102 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:41:33.113 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:41:33.340 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:41:33.420 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:41:33.479 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:41:33.668 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:41:33.672 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:41:33.728 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:41:33.728 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_rnbyyyg93snebua4bdqhtaukgf"
2025-07-22 13:41:33.730 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:41:33.832 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:41:33.839 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:41:33.957 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:41:33.958 +08:00 [INF] Hosting environment: Development
2025-07-22 13:41:33.960 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:41:33.962 +08:00 [INF] Scheduler JobScheduler_$_226347610 started.
2025-07-22 13:41:33.963 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:41:34.394 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:41:34.574 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 188.2345ms
2025-07-22 13:41:34.737 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:41:34.737 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:41:34.744 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.2858ms
2025-07-22 13:41:34.781 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.2244ms
2025-07-22 13:41:34.849 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:41:34.865 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.6469ms
2025-07-22 13:41:40.133 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:41:40.144 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:41:40.394 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:41:40.420 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:41:40.429 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:41:40.437 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:41:40.440 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 283.0688 ms
2025-07-22 13:42:52.094 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:43:03.355 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 83222.9383ms
2025-07-22 13:43:03.493 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=iuom56SEpndny8tEfLEE1Q - null null
2025-07-22 13:43:03.547 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:43:03.553 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:43:03.555 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:43:10.524 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 13:43:10.534 +08:00 [INF] HTTP GET /wcshub responded 101 in 7027.3832 ms
2025-07-22 13:43:25.728 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:43:25.731 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=iuom56SEpndny8tEfLEE1Q - 101 null null 22238.0912ms
2025-07-22 13:43:51.025 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:44:18.411 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:44:23.419 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:44:23.466 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:44:23.471 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:44:23.473 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:44:23.483 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:44:23.495 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:44:23.529 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:44:23.534 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:44:23.536 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:44:23.538 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:44:23.550 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:44:23.553 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:44:23.642 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:44:23.652 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:44:23.653 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:44:23.655 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:44:23.656 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:44:23.660 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-121521298' initialized
2025-07-22 13:44:23.663 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:44:23.665 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:44:23.674 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:44:23.885 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:44:23.959 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:44:24.022 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:44:24.216 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:44:24.222 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:44:24.274 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_1b6yyyg93sneynd3bdqhtasodq"
2025-07-22 13:44:24.274 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:44:24.277 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:44:24.378 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:44:24.384 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:44:24.509 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:44:24.511 +08:00 [INF] Hosting environment: Development
2025-07-22 13:44:24.512 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:44:24.513 +08:00 [INF] Scheduler JobScheduler_$_-121521298 started.
2025-07-22 13:44:24.514 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:44:25.153 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:44:25.330 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 184.9249ms
2025-07-22 13:44:25.482 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:44:25.482 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:44:25.502 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 19.8303ms
2025-07-22 13:44:25.523 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.5586ms
2025-07-22 13:44:25.612 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:44:25.630 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.3542ms
2025-07-22 13:44:50.400 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:44:50.479 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:44:50.485 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:44:50.489 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:44:50.499 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:44:50.510 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:44:50.552 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:44:50.555 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:44:50.559 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:44:50.563 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:44:50.569 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:44:50.574 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:44:50.654 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:44:50.664 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:44:50.665 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:44:50.666 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:44:50.668 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:44:50.670 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-595522073' initialized
2025-07-22 13:44:50.671 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:44:50.672 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:44:50.681 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:44:50.868 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:44:50.948 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:44:51.003 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:44:51.195 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:44:51.199 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:44:51.245 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:44:51.245 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_u16oyyg93snebo4fbdqhtazyrn"
2025-07-22 13:44:51.248 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:44:51.345 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:44:51.351 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:44:51.463 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:44:51.464 +08:00 [INF] Hosting environment: Development
2025-07-22 13:44:51.466 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:44:51.466 +08:00 [INF] Scheduler JobScheduler_$_-595522073 started.
2025-07-22 13:44:51.467 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:44:52.033 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:44:52.228 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 203.8263ms
2025-07-22 13:44:52.246 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:44:52.253 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.9109ms
2025-07-22 13:44:52.538 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:44:52.570 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.9532ms
2025-07-22 13:44:53.081 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:44:53.099 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.1142ms
2025-07-22 13:44:55.346 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:44:55.356 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:44:55.544 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:44:55.569 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:44:55.581 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:44:55.588 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:44:55.593 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 233.1035 ms
2025-07-22 13:46:28.681 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:46:28.734 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:46:28.739 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:46:28.743 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:46:28.764 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:46:28.781 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:46:28.811 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:46:28.815 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:46:28.819 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:46:28.824 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:46:28.828 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:46:28.832 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:46:28.916 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:46:28.929 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:46:28.932 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:46:28.938 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:46:28.939 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:46:28.942 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '1485149678' initialized
2025-07-22 13:46:28.947 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:46:28.951 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:46:28.961 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:46:29.148 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:46:29.230 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:46:29.288 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:46:29.476 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:46:29.480 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:46:29.526 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:46:29.526 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_e1ryyyg93sneyrjabdqhtaa5ya"
2025-07-22 13:46:29.529 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:46:29.632 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:46:29.639 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:46:29.743 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:46:29.746 +08:00 [INF] Hosting environment: Development
2025-07-22 13:46:29.747 +08:00 [INF] Scheduler JobScheduler_$_1485149678 started.
2025-07-22 13:46:29.747 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:46:29.748 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:46:30.055 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:46:30.264 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 215.9326ms
2025-07-22 13:46:30.439 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:46:30.439 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:46:30.447 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.6317ms
2025-07-22 13:46:30.480 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.7119ms
2025-07-22 13:46:30.576 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:46:30.591 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.6203ms
2025-07-22 13:46:37.801 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:46:37.810 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:46:38.025 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:46:38.055 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:46:38.064 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:46:38.072 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:46:38.077 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 262.3209 ms
2025-07-22 13:47:09.716 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:47:09.769 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:47:09.774 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:47:09.778 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:47:09.788 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:47:09.800 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:47:09.833 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:47:09.838 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:47:09.841 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:47:09.847 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:47:09.854 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:47:09.864 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:47:09.961 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:47:09.973 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:47:09.976 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:47:09.979 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:47:09.981 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:47:09.983 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '49686374' initialized
2025-07-22 13:47:09.986 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:47:09.991 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:47:09.999 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:47:10.220 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:47:10.298 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:47:10.353 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:47:10.566 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:47:10.611 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:47:10.691 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_xbxoyyg93sneybdhbdqhta3ur1"
2025-07-22 13:47:10.691 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:47:10.694 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:47:10.820 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:47:10.826 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:47:10.980 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:47:10.983 +08:00 [INF] Hosting environment: Development
2025-07-22 13:47:10.985 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:47:10.986 +08:00 [INF] Scheduler JobScheduler_$_49686374 started.
2025-07-22 13:47:10.987 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:47:11.267 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:47:11.267 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:47:11.330 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:47:11.465 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:47:11.485 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:47:11.490 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:47:11.495 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:47:11.499 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 163.9194 ms
2025-07-22 13:47:11.502 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 242.9106ms
2025-07-22 13:47:17.079 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:47:17.079 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 5818.1055ms
2025-07-22 13:47:17.098 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:47:17.140 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 42.6682ms
2025-07-22 13:47:17.152 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=atUtC8nMW0oPuuM9gRf4ZQ - null null
2025-07-22 13:47:17.205 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:47:17.212 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:47:17.217 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:47:17.210 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 131.6567ms
2025-07-22 13:47:17.317 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:47:17.342 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.0406ms
2025-07-22 13:47:30.515 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 13:47:30.521 +08:00 [INF] HTTP GET /wcshub responded 101 in 13362.0948 ms
2025-07-22 13:47:40.508 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:47:41.794 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=atUtC8nMW0oPuuM9gRf4ZQ - 101 null null 24641.7619ms
2025-07-22 13:48:07.259 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:48:07.295 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:48:07.302 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:48:07.303 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:48:07.304 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:48:07.309 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 46.7214 ms
2025-07-22 13:48:11.884 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:48:11.884 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 4624.3943ms
2025-07-22 13:48:11.932 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=Ulm-cSz3EDncwnMcwWkR-g - null null
2025-07-22 13:48:11.969 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:48:11.980 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:48:11.982 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:48:15.145 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 13:48:15.150 +08:00 [INF] HTTP GET /wcshub responded 101 in 3212.3462 ms
2025-07-22 13:48:19.171 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=Ulm-cSz3EDncwnMcwWkR-g - 101 null null 7239.2323ms
2025-07-22 13:48:35.314 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:48:58.356 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:48:58.392 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:48:58.396 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:48:58.398 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:48:58.399 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:48:58.401 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 41.6836 ms
2025-07-22 13:48:58.405 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 49.8338ms
2025-07-22 13:48:58.432 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=0OUExGp2fGasMJRutkImvA - null null
2025-07-22 13:48:58.472 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:48:58.475 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:48:58.476 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:50:26.635 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:50:26.677 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:50:26.680 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:50:26.683 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:50:26.695 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:50:26.705 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:50:26.738 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:50:26.740 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:50:26.742 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:50:26.744 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:50:26.748 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:50:26.750 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:50:26.832 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:50:26.842 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:50:26.843 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:50:26.844 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:50:26.845 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:50:26.846 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '493027248' initialized
2025-07-22 13:50:26.847 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:50:26.848 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:50:26.856 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:50:27.029 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:50:27.100 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:50:27.154 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:50:27.327 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:50:27.330 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:50:27.376 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:50:27.376 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_yb3yyyg93snebd44bdqhta7eg7"
2025-07-22 13:50:27.378 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:50:27.504 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:50:27.510 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:50:27.608 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:50:27.609 +08:00 [INF] Hosting environment: Development
2025-07-22 13:50:27.611 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:50:27.612 +08:00 [INF] Scheduler JobScheduler_$_493027248 started.
2025-07-22 13:50:27.613 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:50:28.142 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:50:28.324 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 195.8445ms
2025-07-22 13:50:28.486 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:50:28.486 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:50:28.492 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.4122ms
2025-07-22 13:50:28.529 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.793ms
2025-07-22 13:50:28.601 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:50:28.618 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.3014ms
2025-07-22 13:50:34.872 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:50:34.911 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:50:35.112 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:50:35.144 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:50:35.150 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:50:35.159 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:50:35.164 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 247.0960 ms
2025-07-22 13:50:35.171 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 298.9937ms
2025-07-22 13:50:35.194 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=F2nbs9vwpAIlxgKmvJphYg - null null
2025-07-22 13:50:35.243 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:50:35.252 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:50:35.257 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:50:35.376 +08:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.HttpContext' while attempting to activate 'SignalR.Application.ChatHub.WcsHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method46(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2025-07-22 13:50:35.390 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 13:50:35.393 +08:00 [INF] HTTP GET /wcshub responded 101 in 195.4500 ms
2025-07-22 13:50:35.397 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=F2nbs9vwpAIlxgKmvJphYg - 101 null null 202.7976ms
2025-07-22 13:50:54.962 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:51:42.811 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:51:42.854 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:51:42.859 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:51:42.861 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:51:42.869 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:51:42.882 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:51:42.919 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:51:42.924 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:51:42.927 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:51:42.929 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:51:42.932 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:51:42.935 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:51:43.014 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:51:43.024 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:51:43.025 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:51:43.026 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:51:43.027 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:51:43.028 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '1458123774' initialized
2025-07-22 13:51:43.029 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:51:43.030 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:51:43.036 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:51:43.210 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:51:43.277 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:51:43.316 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:51:43.472 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:51:43.476 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:51:43.518 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:51:43.518 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_p1hyyyg93snebsawbdqhta6sny"
2025-07-22 13:51:43.520 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:51:43.607 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:51:43.611 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:51:43.777 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:51:43.779 +08:00 [INF] Hosting environment: Development
2025-07-22 13:51:43.780 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:51:43.781 +08:00 [INF] Scheduler JobScheduler_$_1458123774 started.
2025-07-22 13:51:43.782 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:51:43.934 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:51:44.117 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 189.323ms
2025-07-22 13:51:44.143 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:51:44.148 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.4724ms
2025-07-22 13:51:44.265 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:51:44.299 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.4173ms
2025-07-22 13:51:44.370 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:51:44.381 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.4529ms
2025-07-22 13:51:51.264 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:51:51.310 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:51:51.428 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:51:51.450 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:51:51.456 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 13:51:51.462 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 13:51:51.468 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 154.6276 ms
2025-07-22 13:51:51.472 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 208.218ms
2025-07-22 13:51:51.503 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=eZ0Agk1S7aseBwzPO_CHVQ - null null
2025-07-22 13:51:51.574 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:51:51.580 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:51:51.584 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 13:52:19.515 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:52:45.522 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:53:09.470 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 13:53:09.474 +08:00 [INF] HTTP GET /wcshub responded 101 in 77956.3336 ms
2025-07-22 13:53:09.478 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=eZ0Agk1S7aseBwzPO_CHVQ - 101 null null 77974.9587ms
2025-07-22 13:53:10.968 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:53:11.844 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:57:44.130 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:57:44.178 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:57:44.183 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:57:44.188 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:57:44.198 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:57:44.208 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:57:44.251 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:57:44.254 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:57:44.258 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:57:44.268 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:57:44.274 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:57:44.290 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:57:44.375 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:57:44.388 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:57:44.389 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:57:44.391 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:57:44.393 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:57:44.395 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-791465584' initialized
2025-07-22 13:57:44.396 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:57:44.398 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:57:44.407 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:57:44.597 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:57:44.670 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:57:44.714 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:57:44.889 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:57:44.894 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:57:44.943 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_j1aoyyg93snebttmbdqht3fpfm"
2025-07-22 13:57:44.943 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:57:44.946 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:57:45.071 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:57:45.078 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:57:45.180 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:57:45.182 +08:00 [INF] Hosting environment: Development
2025-07-22 13:57:45.184 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:57:45.185 +08:00 [INF] Scheduler JobScheduler_$_-791465584 started.
2025-07-22 13:57:45.186 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:57:45.680 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:57:45.854 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 180.801ms
2025-07-22 13:57:46.016 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:57:46.016 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:57:46.023 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.5922ms
2025-07-22 13:57:46.053 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.587ms
2025-07-22 13:57:46.122 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:57:46.135 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.9967ms
2025-07-22 13:57:53.746 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:57:53.756 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:57:53.924 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:57:53.981 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:57:53.997 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 13:57:54.007 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 13:57:54.010 +08:00 [INF] HTTP POST /wcshub/negotiate responded 401 in 249.8391 ms
2025-07-22 13:57:54.016 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 401 0 null 270.0722ms
2025-07-22 13:59:18.040 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:59:18.104 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:59:18.114 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:59:18.119 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 13:59:18.133 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:59:18.144 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:59:18.180 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:59:18.186 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:59:18.192 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:59:18.197 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 13:59:18.204 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:59:18.210 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:59:18.299 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 13:59:18.310 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 13:59:18.311 +08:00 [INF] Quartz Scheduler created
2025-07-22 13:59:18.312 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 13:59:18.314 +08:00 [INF] RAMJobStore initialized.
2025-07-22 13:59:18.316 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '206194529' initialized
2025-07-22 13:59:18.318 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 13:59:18.319 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 13:59:18.327 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 13:59:18.507 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 13:59:18.578 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:59:18.628 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 13:59:18.835 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 13:59:18.859 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 13:59:18.908 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 13:59:18.908 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_s19yyyg93sneyqe1bdqht38ffk"
2025-07-22 13:59:18.911 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 13:59:19.017 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 13:59:19.022 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 13:59:19.125 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:59:19.127 +08:00 [INF] Hosting environment: Development
2025-07-22 13:59:19.128 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 13:59:19.129 +08:00 [INF] Scheduler JobScheduler_$_206194529 started.
2025-07-22 13:59:19.130 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:59:19.647 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 13:59:19.834 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 195.5337ms
2025-07-22 13:59:19.991 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:59:19.991 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 13:59:19.998 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.0669ms
2025-07-22 13:59:20.032 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.847ms
2025-07-22 13:59:20.107 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 13:59:20.125 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.2301ms
2025-07-22 13:59:28.499 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 13:59:28.511 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 13:59:51.054 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 13:59:52.361 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 13:59:52.379 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 13:59:52.386 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 13:59:52.390 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 13:59:52.393 +08:00 [INF] HTTP POST /wcshub/negotiate responded 401 in 23847.8643 ms
2025-07-22 13:59:52.397 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 401 0 null 23898.0753ms
2025-07-22 14:00:20.925 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:00:30.370 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 14:01:23.462 +08:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:01:23.525 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:01:23.545 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:01:23.559 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:01:23.572 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:01:23.582 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:01:23.639 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:01:23.647 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:01:23.649 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:01:23.651 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:01:23.655 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:01:23.657 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:01:23.735 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 14:01:23.747 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 14:01:23.748 +08:00 [INF] Quartz Scheduler created
2025-07-22 14:01:23.748 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 14:01:23.749 +08:00 [INF] RAMJobStore initialized.
2025-07-22 14:01:23.750 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-1151061713' initialized
2025-07-22 14:01:23.751 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 14:01:23.751 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 14:01:23.759 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 14:01:23.952 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 14:01:24.023 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:01:24.067 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 14:01:24.244 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 14:01:24.249 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 14:01:24.297 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_cn1oyyg93sney3dnbdqht3jodm"
2025-07-22 14:01:24.297 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 14:01:24.300 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 14:01:24.394 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 14:01:24.399 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 14:01:24.504 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:01:24.505 +08:00 [INF] Hosting environment: Development
2025-07-22 14:01:24.506 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 14:01:24.509 +08:00 [INF] Scheduler JobScheduler_$_-1151061713 started.
2025-07-22 14:01:24.510 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:01:24.741 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 14:01:24.905 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 171.4671ms
2025-07-22 14:01:24.920 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:01:24.926 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.9864ms
2025-07-22 14:01:25.058 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 14:01:25.103 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.3177ms
2025-07-22 14:01:25.138 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 14:01:25.151 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.0026ms
2025-07-22 14:01:29.650 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 14:01:29.657 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 14:01:45.243 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 14:01:45.282 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 14:01:45.288 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 14:01:45.292 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 14:01:45.294 +08:00 [INF] HTTP POST /wcshub/negotiate responded 401 in 15634.4750 ms
2025-07-22 14:01:45.296 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 401 0 null 15646.3189ms
2025-07-22 14:01:53.496 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:02:01.307 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 14:02:33.228 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:02:45.911 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 14:02:45.932 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 14:02:45.933 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 14:02:45.935 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 14:02:45.936 +08:00 [INF] HTTP POST /wcshub/negotiate responded 401 in 44607.3947 ms
2025-07-22 14:02:45.937 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 401 0 null 44630.0595ms
2025-07-22 14:03:09.646 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:03:26.082 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:03:26.141 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:03:26.146 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:03:26.148 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:03:26.159 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:03:26.170 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:03:26.208 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:03:26.212 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:03:26.219 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:03:26.222 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:03:26.227 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:03:26.230 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:03:26.312 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 14:03:26.322 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 14:03:26.322 +08:00 [INF] Quartz Scheduler created
2025-07-22 14:03:26.323 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 14:03:26.324 +08:00 [INF] RAMJobStore initialized.
2025-07-22 14:03:26.325 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-1410460287' initialized
2025-07-22 14:03:26.326 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 14:03:26.326 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 14:03:26.333 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 14:03:26.508 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 14:03:26.575 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:03:26.619 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 14:03:26.779 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 14:03:26.782 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 14:03:26.819 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 14:03:26.819 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_h1ioyyg93sneyq48bdqht3m3di"
2025-07-22 14:03:26.821 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 14:03:26.924 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 14:03:26.957 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 14:03:27.079 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:03:27.083 +08:00 [INF] Hosting environment: Development
2025-07-22 14:03:27.083 +08:00 [INF] Scheduler JobScheduler_$_-1410460287 started.
2025-07-22 14:03:27.085 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:03:27.087 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 14:03:31.796 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:03:31.848 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:03:31.852 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:03:31.855 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:03:31.863 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:03:31.873 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:03:31.905 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:03:31.907 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:03:31.908 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:03:31.910 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:03:31.912 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:03:31.914 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:03:31.989 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 14:03:31.997 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 14:03:31.998 +08:00 [INF] Quartz Scheduler created
2025-07-22 14:03:31.999 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 14:03:32.000 +08:00 [INF] RAMJobStore initialized.
2025-07-22 14:03:32.001 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '-740118439' initialized
2025-07-22 14:03:32.001 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 14:03:32.002 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 14:03:32.008 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 14:03:32.180 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 14:03:32.267 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:03:32.321 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 14:03:32.504 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 14:03:32.508 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 14:03:32.552 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 14:03:32.552 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_c1woyyg93snebxa8bdqht3mhg7"
2025-07-22 14:03:32.554 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 14:03:32.659 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 14:03:32.664 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 14:03:32.778 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:03:32.779 +08:00 [INF] Hosting environment: Development
2025-07-22 14:03:32.780 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 14:03:32.781 +08:00 [INF] Scheduler JobScheduler_$_-740118439 started.
2025-07-22 14:03:32.782 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:03:33.313 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 14:03:33.507 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 203.5831ms
2025-07-22 14:03:33.670 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:03:33.670 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 14:03:33.676 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.9774ms
2025-07-22 14:03:33.714 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.4013ms
2025-07-22 14:03:33.763 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 14:03:33.781 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.18ms
2025-07-22 14:03:38.255 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 14:03:38.327 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 14:04:09.597 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:04:09.649 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:04:09.656 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:04:09.661 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:04:09.671 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:04:09.692 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:04:09.741 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:04:09.751 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:04:09.753 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:04:09.756 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:04:09.762 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:04:09.765 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:04:09.846 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 14:04:09.857 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 14:04:09.859 +08:00 [INF] Quartz Scheduler created
2025-07-22 14:04:09.860 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 14:04:09.862 +08:00 [INF] RAMJobStore initialized.
2025-07-22 14:04:09.864 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '662545288' initialized
2025-07-22 14:04:09.865 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 14:04:09.866 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 14:04:09.872 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 14:04:10.039 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 14:04:10.102 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:04:10.144 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 14:04:10.327 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 14:04:10.332 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 14:04:10.389 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_ht4oyyg93snebayzbdqht3cude"
2025-07-22 14:04:10.389 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 14:04:10.392 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 14:04:10.487 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 14:04:10.493 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 14:04:10.617 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:04:10.618 +08:00 [INF] Hosting environment: Development
2025-07-22 14:04:10.620 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 14:04:10.621 +08:00 [INF] Scheduler JobScheduler_$_662545288 started.
2025-07-22 14:04:10.622 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:04:11.006 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 14:04:11.234 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 236.9525ms
2025-07-22 14:04:11.395 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 14:04:11.395 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:04:11.425 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 29.8208ms
2025-07-22 14:04:11.432 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.6683ms
2025-07-22 14:04:11.491 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 14:04:11.513 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.4061ms
2025-07-22 14:04:36.882 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:04:36.930 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:04:36.936 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:04:36.940 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:04:36.950 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:04:36.963 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:04:37.006 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:04:37.010 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:04:37.014 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:04:37.017 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:04:37.024 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:04:37.028 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:04:37.127 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 14:04:37.138 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 14:04:37.140 +08:00 [INF] Quartz Scheduler created
2025-07-22 14:04:37.141 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 14:04:37.143 +08:00 [INF] RAMJobStore initialized.
2025-07-22 14:04:37.144 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '576410629' initialized
2025-07-22 14:04:37.145 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 14:04:37.147 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 14:04:37.154 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 14:04:37.315 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 14:04:37.384 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:04:37.426 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 14:04:37.598 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 14:04:37.601 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 14:04:37.640 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 14:04:37.640 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_e1coyyg93sneyih6bdqht3pdfk"
2025-07-22 14:04:37.643 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 14:04:37.734 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 14:04:37.739 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 14:04:37.899 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:04:37.903 +08:00 [INF] Scheduler JobScheduler_$_576410629 started.
2025-07-22 14:04:37.904 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:04:37.904 +08:00 [INF] Hosting environment: Development
2025-07-22 14:04:37.913 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 14:04:38.123 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 14:04:38.292 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 176.4979ms
2025-07-22 14:04:38.437 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 14:04:38.437 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:04:38.458 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 19.9438ms
2025-07-22 14:04:38.472 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.8647ms
2025-07-22 14:04:38.542 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 14:04:38.555 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.6144ms
2025-07-22 14:04:42.201 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 14:04:42.221 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 14:04:51.156 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-22 14:04:51.201 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-07-22 14:04:51.207 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-07-22 14:04:51.211 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 14:04:51.213 +08:00 [INF] HTTP POST /wcshub/negotiate responded 401 in 8986.2113 ms
2025-07-22 14:04:51.216 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 401 0 null 9015.0205ms
2025-07-22 14:05:02.272 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:05:26.435 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:05:53.159 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:05:58.889 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:05:58.894 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.3367ms
2025-07-22 14:05:59.095 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 14:05:59.114 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.3971ms
2025-07-22 14:08:07.705 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:08:07.761 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:08:07.768 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:08:07.772 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:08:07.793 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:08:07.804 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:08:07.845 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:08:07.848 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:08:07.850 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:08:07.853 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:08:07.858 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:08:07.862 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:08:07.943 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 14:08:07.955 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 14:08:07.956 +08:00 [INF] Quartz Scheduler created
2025-07-22 14:08:07.958 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 14:08:07.959 +08:00 [INF] RAMJobStore initialized.
2025-07-22 14:08:07.960 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '477341777' initialized
2025-07-22 14:08:07.961 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 14:08:07.962 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 14:08:07.970 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 14:08:08.167 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 14:08:08.239 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:08:08.286 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 14:08:08.479 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 14:08:08.483 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 14:08:08.533 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 14:08:08.533 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_atqoyyg93snebw6nbdqht3tbn4"
2025-07-22 14:08:08.535 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 14:08:08.643 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 14:08:08.649 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 14:08:08.752 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:08:08.756 +08:00 [INF] Hosting environment: Development
2025-07-22 14:08:08.757 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 14:08:08.758 +08:00 [INF] Scheduler JobScheduler_$_477341777 started.
2025-07-22 14:08:08.759 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:08:09.215 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 14:08:09.429 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 223.149ms
2025-07-22 14:08:09.599 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:08:09.599 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 14:08:09.605 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.061ms
2025-07-22 14:08:09.635 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.7594ms
2025-07-22 14:08:09.725 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 14:08:09.741 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.2081ms
2025-07-22 14:08:29.083 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/user/user-login - application/json 46
2025-07-22 14:08:29.099 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 14:08:29.264 +08:00 [INF] Executing endpoint 'HTTP: POST user/user-login'
2025-07-22 14:08:29.535 +08:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreationTime], [u].[Description], [u].[Email], [u].[IsDeleted], [u].[LastModificationTime], [u].[LastModifierUser], [u].[LockoutEnd], [u].[Name], [u].[Password], [u].[Phone], [u].[RoleId], [u].[Username], [t].[Id], [t].[CreationTime], [t].[Description], [t].[IsDeleted], [t].[LastModificationTime], [t].[LastModifierUser], [t].[RoleName]
FROM [User].[User] AS [u]
INNER JOIN (
    SELECT [r].[Id], [r].[CreationTime], [r].[Description], [r].[IsDeleted], [r].[LastModificationTime], [r].[LastModifierUser], [r].[RoleName]
    FROM [User].[Role] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [u].[RoleId] = [t].[Id]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__userName_0
2025-07-22 14:08:29.600 +08:00 [INF] Executed endpoint 'HTTP: POST user/user-login'
2025-07-22 14:08:29.609 +08:00 [INF] HTTP POST /user/user-login responded 200 in 504.5242 ms
2025-07-22 14:08:29.636 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/user/user-login - 200 null text/plain; charset=utf-8 552.4648ms
2025-07-22 14:08:38.548 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:09:03.076 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:09:09.567 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 14:09:09.638 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 14:09:09.644 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 14:09:09.646 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 64.0752 ms
2025-07-22 14:09:09.649 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 81.9086ms
2025-07-22 14:09:09.688 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=kV2uLPScM0CF_dzM9IkNOA - null null
2025-07-22 14:09:09.695 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 14:09:27.912 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:09:52.040 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:09:59.067 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 14:09:59.068 +08:00 [INF] HTTP GET /wcshub responded 101 in 49377.4303 ms
2025-07-22 14:09:59.071 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=kV2uLPScM0CF_dzM9IkNOA - 101 null null 49382.8069ms
2025-07-22 14:10:04.740 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 14:10:04.745 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 14:10:04.747 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 14:10:04.749 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 5.8887 ms
2025-07-22 14:10:04.751 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 10.8515ms
2025-07-22 14:10:07.681 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=RIG8e9SIVqpjQNmlAlgvuQ - null null
2025-07-22 14:10:07.692 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 14:10:15.954 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:10:47.493 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:10:47.532 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:10:47.535 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:10:47.537 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Wcs.].[__EFMigrationsHistory]');
2025-07-22 14:10:47.544 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Wcs.].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:10:47.553 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:10:47.594 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:10:47.616 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:10:47.642 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:10:47.656 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[User].[__EFMigrationsHistory]');
2025-07-22 14:10:47.661 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [User].[__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:10:47.664 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:10:47.744 +08:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2025-07-22 14:10:47.757 +08:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-22 14:10:47.758 +08:00 [INF] Quartz Scheduler created
2025-07-22 14:10:47.759 +08:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-22 14:10:47.759 +08:00 [INF] RAMJobStore initialized.
2025-07-22 14:10:47.760 +08:00 [INF] Quartz Scheduler 3.8.1.0 - 'JobScheduler' with instanceId '256257211' initialized
2025-07-22 14:10:47.761 +08:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-22 14:10:47.762 +08:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-22 14:10:47.771 +08:00 [INF] Adding 0 jobs, 0 triggers.
2025-07-22 14:10:47.959 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[CreationTime], [w].[Description], [w].[IsDeleted], [w].[IsStart], [w].[JobType], [w].[LastModificationTime], [w].[LastModifierUser], [w].[Name], [w].[TimeOut], [w].[Timer]
FROM [Wcs.JobConfig] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-07-22 14:10:48.056 +08:00 [INF] User profile is available. Using 'C:\Users\吴\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:10:48.098 +08:00 [INF] Configured endpoint SendWmsTasksIntegrationEvent, Consumer: Common.Application.Event.Custom.IntegrationEventConsumer<Wcs.Application.Custom.SendWmsTasksIntegrationEvent>
2025-07-22 14:10:48.269 +08:00 [DBG] Starting bus instances: IBus
2025-07-22 14:10:48.272 +08:00 [DBG] Starting bus: "loopback://localhost/"
2025-07-22 14:10:48.317 +08:00 [DBG] Endpoint Ready: "loopback://localhost/SendWmsTasksIntegrationEvent"
2025-07-22 14:10:48.317 +08:00 [DBG] Endpoint Ready: "loopback://localhost/_WarehourceSource_bus_s1ioyyg93sneym6tbdqht3wyr4"
2025-07-22 14:10:48.319 +08:00 [INF] Bus started: "loopback://localhost/"
2025-07-22 14:10:48.410 +08:00 [INF] Now listening on: http://localhost:5050
2025-07-22 14:10:48.415 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-22 14:10:48.509 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:10:48.510 +08:00 [INF] Hosting environment: Development
2025-07-22 14:10:48.511 +08:00 [INF] Content root path: D:\Program\仓库\Warehource.Modules\Warehource.Source
2025-07-22 14:10:48.512 +08:00 [INF] Scheduler JobScheduler_$_256257211 started.
2025-07-22 14:10:48.514 +08:00 [DBG] Batch acquisition of 0 triggers
2025-07-22 14:10:48.990 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
2025-07-22 14:10:49.187 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 206.4553ms
2025-07-22 14:10:49.357 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:10:49.357 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
2025-07-22 14:10:49.363 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.3067ms
2025-07-22 14:10:49.396 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.7937ms
2025-07-22 14:10:49.463 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - null null
2025-07-22 14:10:49.478 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.1447ms
2025-07-22 14:10:57.811 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - null 0
2025-07-22 14:10:57.823 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 14:10:57.917 +08:00 [INF] Executing endpoint '/wcshub/negotiate'
2025-07-22 14:10:57.922 +08:00 [INF] Executed endpoint '/wcshub/negotiate'
2025-07-22 14:10:57.925 +08:00 [INF] HTTP POST /wcshub/negotiate responded 200 in 98.6407 ms
2025-07-22 14:10:57.929 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5050/wcshub/negotiate?negotiateVersion=1 - 200 316 application/json 117.9067ms
2025-07-22 14:10:58.867 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5050/wcshub?id=nj0EjlXkdmx9VqHcoZrHOg - null null
2025-07-22 14:10:58.872 +08:00 [INF] Executing endpoint '/wcshub'
2025-07-22 14:11:02.649 +08:00 [INF] Executed endpoint '/wcshub'
2025-07-22 14:11:02.657 +08:00 [INF] HTTP GET /wcshub responded 101 in 3786.8035 ms
2025-07-22 14:11:02.662 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5050/wcshub?id=nj0EjlXkdmx9VqHcoZrHOg - 101 null null 3795.1502ms
